/**
 * JexGrid Build 349
 * Date: 2014-03-19 01:01:57
 */
/*
AUTHOR

	The JexGrid was written and is maintained by:
		Joon Ho Cho <joonho1101@gmail.com>

COPYRIGHT

	Copyright (c) 2010-2011, WebCash Inc. All rights reserved.

LICENSE

	- JexGrid License Policy -

	JexGrid 는 상업적 용도로 사용될 경우와 개인 용도로 사용될 경우의 두가지 다른 라이센스 정책을 가집니다.
	상업적 용도로 사용될 경우 라이센스를 구매하여야 하고, 개인 용도로 사용될 경우에는 GNU GPL License Version 3 정책을 따릅니다.

	1. 상업용: Commercial Software License
		- 도메인 당 1억원의 라이센스 가격이 청구됩니다. (List Price 기준)
		- 웹케시 내부 개발 프로젝트에 사용될 경우는 다음의 정책을 따릅니다.
			- 개발 기간 기술지원 비용: 프로젝트 개발 인력 * 100만원 / 1년
			- 상품에 포함되어 외부로 판매되는 경우: 프로젝트 도메인 당 1000만원의 솔루션 가격이 청구됩니다.

	2. 개인용: Open Source License

		- GNU GPL License Version 3 라이센스의 원칙을 따릅니다.

		JexGrid - A Fast, Comprehensive, and Flexible JavaScript Grid Library
		Copyright (C) 2011  Joon Ho Cho

		This program is free software: you can redistribute it and/or modify
		it under the terms of the GNU General Public License as published by
		the Free Software Foundation, either version 3 of the License, or
		(at your option) any later version.

		This program is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.

		You should have received a copy of the GNU General Public License
		along with this program.  If not, see <http://www.gnu.org/licenses/>.

		- 중요 내용 요약:
			- 상용 이용 가능
			- 결합 소스 공개의 의무
			- 특허 허용 제한
			- 라이센스 전파의 의무
			- JexGrid 작성자는 사용자 요청에 의한 버그 패치의 의무가 없습니다.

	어떠한 경우에도 사용자는 위의 라이센스 정책을 수정하거나 삭제할 수 없습니다.


// Copyright 2006 The Closure Library Authors. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS-IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
*/

(function(){var COMPILED=!0,goog=goog||{};goog.global=this;goog.define=function(g,k){var h=k;COMPILED||goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,g)&&(h=goog.global.CLOSURE_DEFINES[g]);goog.exportPath_(g,h)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;
goog.provide=function(g){if(!COMPILED){if(goog.isProvided_(g))throw Error('Namespace "'+g+'" already declared.');delete goog.implicitNamespaces_[g];for(var k=g;(k=k.substring(0,k.lastIndexOf(".")))&&!goog.getObjectByName(k);)goog.implicitNamespaces_[k]=!0}goog.exportPath_(g)};goog.setTestOnly=function(g){if(COMPILED&&!goog.DEBUG)throw g=g||"",Error("Importing test-only code into non-debug environment"+g?": "+g:".");};
COMPILED||(goog.isProvided_=function(g){return!goog.implicitNamespaces_[g]&&!!goog.getObjectByName(g)},goog.implicitNamespaces_={});goog.exportPath_=function(g,k,h){g=g.split(".");h=h||goog.global;!(g[0]in h)&&h.execScript&&h.execScript("var "+g[0]);for(var e;g.length&&(e=g.shift());)!g.length&&goog.isDef(k)?h[e]=k:h=h[e]?h[e]:h[e]={}};goog.getObjectByName=function(g,k){for(var h=g.split("."),e=k||goog.global,b;b=h.shift();)if(goog.isDefAndNotNull(e[b]))e=e[b];else return null;return e};
goog.globalize=function(g,k){var h=k||goog.global,e;for(e in g)h[e]=g[e]};goog.addDependency=function(g,k,h){if(!COMPILED){var e;g=g.replace(/\\/g,"/");for(var b=goog.dependencies_,a=0;e=k[a];a++)b.nameToPath[e]=g,g in b.pathToNames||(b.pathToNames[g]={}),b.pathToNames[g][e]=!0;for(e=0;k=h[e];e++)g in b.requires||(b.requires[g]={}),b.requires[g][k]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(g){if(!COMPILED&&!goog.isProvided_(g)){if(goog.ENABLE_DEBUG_LOADER){var k=goog.getPathFromDeps_(g);if(k){goog.included_[k]=!0;goog.writeScripts_();return}}g="goog.require could not find: "+g;goog.global.console&&goog.global.console.error(g);throw Error(g);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(g,k){return g};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(g){g.getInstance=function(){if(g.instance_)return g.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=g);return g.instance_=new g}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var g=goog.global.document;return"undefined"!=typeof g&&"write"in g},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var g=goog.global.document.getElementsByTagName("script"),k=g.length-1;0<=k;--k){var h=g[k].src,e=h.lastIndexOf("?"),e=
-1==e?h.length:e;if("base.js"==h.substr(e-7,7)){goog.basePath=h.substr(0,e-7);break}}},goog.importScript_=function(g){var k=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[g]&&k(g)&&(goog.dependencies_.written[g]=!0)},goog.writeScriptTag_=function(g){if(goog.inHtmlDocument_()){var k=goog.global.document;if("complete"==k.readyState){if(/\bdeps.js$/.test(g))return!1;throw Error('Cannot write "'+g+'" after document load');}k.write('<script type="text/javascript" src="'+
g+'">\x3c/script>');return!0}return!1},goog.writeScripts_=function(){function g(a){if(!(a in e.written)){if(!(a in e.visited)&&(e.visited[a]=!0,a in e.requires))for(var d in e.requires[a])if(!goog.isProvided_(d))if(d in e.nameToPath)g(e.nameToPath[d]);else throw Error("Undefined nameToPath for "+d);a in h||(h[a]=!0,k.push(a))}}var k=[],h={},e=goog.dependencies_,b;for(b in goog.included_)e.written[b]||g(b);for(b=0;b<k.length;b++)if(k[b])goog.importScript_(goog.basePath+k[b]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(g){return g in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[g]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(g){var k=typeof g;if("object"==k)if(g){if(g instanceof Array)return"array";if(g instanceof Object)return k;var h=Object.prototype.toString.call(g);if("[object Window]"==h)return"object";if("[object Array]"==h||"number"==typeof g.length&&"undefined"!=typeof g.splice&&"undefined"!=typeof g.propertyIsEnumerable&&!g.propertyIsEnumerable("splice"))return"array";if("[object Function]"==h||"undefined"!=typeof g.call&&"undefined"!=typeof g.propertyIsEnumerable&&!g.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==k&&"undefined"==typeof g.call)return"object";return k};goog.isDef=function(g){return void 0!==g};goog.isNull=function(g){return null===g};goog.isDefAndNotNull=function(g){return null!=g};goog.isArray=function(g){return"array"==goog.typeOf(g)};goog.isArrayLike=function(g){var k=goog.typeOf(g);return"array"==k||"object"==k&&"number"==typeof g.length};goog.isDateLike=function(g){return goog.isObject(g)&&"function"==typeof g.getFullYear};goog.isString=function(g){return"string"==typeof g};
goog.isBoolean=function(g){return"boolean"==typeof g};goog.isNumber=function(g){return"number"==typeof g};goog.isFunction=function(g){return"function"==goog.typeOf(g)};goog.isObject=function(g){var k=typeof g;return"object"==k&&null!=g||"function"==k};goog.getUid=function(g){return g[goog.UID_PROPERTY_]||(g[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(g){"removeAttribute"in g&&g.removeAttribute(goog.UID_PROPERTY_);try{delete g[goog.UID_PROPERTY_]}catch(k){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(g){var k=goog.typeOf(g);if("object"==k||"array"==k){if(g.clone)return g.clone();var k="array"==k?[]:{},h;for(h in g)k[h]=goog.cloneObject(g[h]);return k}return g};goog.bindNative_=function(g,k,h){return g.call.apply(g.bind,arguments)};
goog.bindJs_=function(g,k,h){if(!g)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,e);return g.apply(k,b)}}return function(){return g.apply(k,arguments)}};goog.bind=function(g,k,h){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(g,k){var h=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);e.unshift.apply(e,h);return g.apply(this,e)}};goog.mixin=function(g,k){for(var h in k)g[h]=k[h]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(g){if(goog.global.execScript)goog.global.execScript(g,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(g);else{var k=goog.global.document,h=k.createElement("script");h.type="text/javascript";h.defer=!1;h.appendChild(k.createTextNode(g));k.body.appendChild(h);
k.body.removeChild(h)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(g,k){var h=function(b){return goog.cssNameMapping_[b]||b},e=function(b){b=b.split("-");for(var a=[],d=0;d<b.length;d++)a.push(h(b[d]));return a.join("-")},e=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?h:e:function(b){return b};return k?g+"-"+e(k):e(g)};goog.setCssNameMapping=function(g,k){goog.cssNameMapping_=g;goog.cssNameMappingStyle_=k};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(g,k){var h=k||{},e;for(e in h){var b=(""+h[e]).replace(/\$/g,"$$$$");g=g.replace(RegExp("\\{\\$"+e+"\\}","gi"),b)}return g};goog.getMsgWithFallback=function(g,k){return g};goog.exportSymbol=function(g,k,h){goog.exportPath_(g,k,h)};goog.exportProperty=function(g,k,h){g[k]=h};
goog.inherits=function(g,k){function h(){}h.prototype=k.prototype;g.superClass_=k.prototype;g.prototype=new h;g.prototype.constructor=g};
goog.base=function(g,k,h){var e=arguments.callee.caller;if(goog.DEBUG&&!e)throw Error("arguments.caller not defined.  goog.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(e.superClass_)return e.superClass_.constructor.apply(g,Array.prototype.slice.call(arguments,1));for(var b=Array.prototype.slice.call(arguments,2),a=!1,d=g.constructor;d;d=d.superClass_&&d.superClass_.constructor)if(d.prototype[k]===e)a=!0;else if(a)return d.prototype[k].apply(g,
b);if(g[k]===e)return g.constructor.prototype[k].apply(g,b);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(g){g.call(goog.global)};var array_extension={};
(function(){var g=Array.prototype;g.indexOf||(g.indexOf=function(g){if(void 0===this||null===this)throw new TypeError;var h=Object(this),e=h.length>>>0;if(0===e)return-1;var b=0;0<arguments.length&&(b=Number(arguments[1]),b!==b?b=0:0!==b&&(b!==1/0&&b!==-(1/0))&&(b=(0<b||-1)*Math.floor(Math.abs(b))));if(b>=e)return-1;for(b=0<=b?b:Math.max(e-Math.abs(b),0);b<e;b++)if(b in h&&h[b]===g)return b;return-1});g.lastIndexOf||(g.lastIndexOf=function(g){if(void 0===this||null===this)throw new TypeError;var h=
Object(this),e=h.length>>>0;if(0===e)return-1;var b=e;1<arguments.length&&(b=Number(arguments[1]),b!==b?b=0:0!==b&&(b!==1/0&&b!==-(1/0))&&(b=(0<b||-1)*Math.floor(Math.abs(b))));for(e=0<=b?Math.min(b,e-1):e-Math.abs(b);0<=e;e--)if(e in h&&h[e]===g)return e;return-1});g.filter||(g.filter=function(g,h){if(void 0===this||null===this)throw new TypeError;var e=Object(this),b=e.length>>>0;if("function"!==typeof g)throw new TypeError;for(var a=[],d=0;d<b;d++)if(d in e){var c=e[d];g.call(h,c,d,e)&&a.push(c)}return a});
g.forEach||(g.forEach=function(g,h){var e,b=Object(this),a=b.length>>>0,d=0;if(!g||!g.call)throw new TypeError;for(h&&(e=h);d<a;){var c=String(d);b.hasOwnProperty(c)&&(c=b[c],g.call(e,c,d,b));d++}});g.every||(g.every=function(g,h){if(void 0===this||null===this)throw new TypeError;var e=Object(this),b=e.length>>>0;if("function"!==typeof g)throw new TypeError;for(var a=0;a<b;a++)if(a in e&&!g.call(h,e[a],a,e))return!1;return!0});g.map||(g.map=function(g,h){if(void 0===this||null===this)throw new TypeError;
var e=Object(this),b=e.length>>>0;if("function"!==typeof g)throw new TypeError;for(var a=Array(b),d=0;d<b;d++)d in e&&(a[d]=g.call(h,e[d],d,e));return a});g.some||(g.some=function(g,h){if(void 0===this||null===this)throw new TypeError;var e=Object(this),b=e.length>>>0;if("function"!==typeof g)throw new TypeError;for(var a=0;a<b;a++)if(a in e&&g.call(h,e[a],a,e))return!0;return!1});g.reduce||(g.reduce=function(g){var h,e=this.length,b;if("function"!==typeof g)throw new TypeError("First argument is not callable");
if((0==e||null===e)&&1>=arguments.length)throw new TypeError("Array length is 0 and no second argument");1>=arguments.length?(b=this[0],h=1):b=arguments[1];for(h=h||0;h<e;++h)h in this&&(b=g.call(void 0,b,this[h],h,this));return b});g.reduceRight||(g.reduceRight=function(g){if(void 0===this||null===this)throw new TypeError;var h=Object(this),e=h.length>>>0;if("function"!==typeof g)throw new TypeError;if(0===e&&1===arguments.length)throw new TypeError;var e=e-1,b;if(2<=arguments.length)b=arguments[1];
else{do{if(e in this){b=this[e--];break}if(0>--e)throw new TypeError;}while(1)}for(;0<=e;)e in h&&(b=g.call(void 0,b,h[e],e,h)),e--;return b})})();var engine_extension={};
(function(){var g=Number.prototype,k=String.prototype,h=Array.prototype;g.toFixedFloat||(g.toFixedFloat=function(e){return parseFloat(this.toFixed(e))});k.toInt||(k.toInt=function(){var e;if(0===this.replace(/[^\d\.\-]/g,"").length)return NaN;e=parseInt(this,10);if(e===e)return e;for(var b,a=0,d=0,c=e.length,f=0,l=!1;f<c;f++)if(b=e.charAt(f),"."===b){if(2===++a){l=!0;break}}else if("-"===b&&2===++d){l=!0;break}return!0===l&&0===(e=e.replace(/[\.\-]/g,"")).length?NaN:/^-*0*\./.test(e)||0===(e=e.replace(/^-0+/,
"-")).length||0===(e=e.replace(/^0+/,"")).length?0:parseInt(e,10)});k.toFloat||(k.toFloat=function(){var e;if(0===(e=this.replace(/[^-\d\.]/g,"")).length)return NaN;for(var b=0,a=e.length,d,c=0,f=0;b<a;b++)if(d=e.charAt(b),"."===d){if(0!==c)return NaN;c++}else if("-"===d){if(0!==f)return NaN;f++}return parseFloat(e)});h.remove||(h.remove=function(e){if(0===this.length)return-1;e=this.indexOf(e);-1!==e&&this.splice(e,1);return e});h.removeAll||(h.removeAll=function(e){if(0===this.length)return this;
for(var b=this.length;-1!==(b=this.lastIndexOf(e,b-1))&&!(this.splice(b,1),0===b););return this});h.removeList||(h.removeList=function(e){if(0===this.length||0===e.length)return this;for(var b=e.length,a=0,d;a<b;a++)-1!==(d=this.indexOf(e[a]))&&this.splice(d,1);return this});h.removeAt||(h.removeAt=function(e){if(0!==this.length&&(0>e&&(e=this.length+e),0>e&&(e=0),this.hasOwnProperty(e)&&e<this.length))return this.splice(e,1)[0]});h.addAt||(h.addAt=function(e,b){this.splice(e,0,b);return b});h.pushList||
(h.pushList=function(e){return 0===e.length?this.length:h.push.apply(this,e)});h.pushListAt||(h.pushListAt=function(e,b){if(0===b.length)return this.length;var a=[e,0];h.push.apply(a,b);h.splice.apply(this,a);return this.length})})();var jx={util:{}},Util={},echo={};
(function(){function g(a){var c,d="";for(a=a.firstChild;null!=a;a=a.nextSibling)c=a.nodeType,3===c||4===c?d+=a.nodeValue:1===c&&(d+=g(a));return d}function k(a,c){for(;a&&0!==c;)if(0<c){if(a.nextElementSibling)a=a.nextElementSibling;else for(a=a.nextSibling;a&&1!==a.nodeType;a=a.nextSibling);c--}else{if(a.previousElementSibing)a=a.previousElementSibling;else for(a=a.previousSibling;a&&1!==a.nodeType;a=a.previousSibling);c++}return a}function h(a,c){if(a){var d={},f,b;if(c)for(f in a){if(a.hasOwnProperty(f)&&
void 0!==(b=a[f]))d[f]=b}else for(f in a)if(a.hasOwnProperty(f))switch(b=a[f],typeof b){case "undefined":break;case "object":d[f]=h(b);break;default:d[f]=b}return d}return null}function e(a,c,d){if(c){if(a){var f,b,l;if(d)for(f in c){if(c.hasOwnProperty(f)&&void 0!==(l=c[f]))a[f]=l}else for(f in c)if(c.hasOwnProperty(f))switch(l=c[f],typeof l){case "undefined":break;case "object":l&&a.hasOwnProperty(f)&&(b=a[f])&&"object"==typeof b?e(b,l):a[f]=l;break;default:a[f]=l}return a}return c}return a}function b(c,
d,b,l){if(q.hasOwnProperty(c)){if(null!=b)throw Error("empty element, "+c+", cannot have content!");return u&l?"<"+c+a(d,!0)+"/>":"<"+f(c)+a(d,!1)+"/>"}u&l?(d="<"+c+a(d,!0)+">",null!=b&&(d+=b)):(c=f(c),d="<"+c+a(d,!1)+">",null!=b&&(d+=f(b)));return v&l?d:d+"</"+c+">"}function a(a,c){if(a){var b="",l,m,n;a.style&&(l=a.style,delete a.style);if(c)for(m in a)a.hasOwnProperty(m)&&(t.hasOwnProperty(m)?a[m]&&(b+=" "+m+'="'+m+'"'):(n=a[m],null!=n&&(b+=" "+m+'="'+n+'"')));else for(m in a)a.hasOwnProperty(m)&&
(t.hasOwnProperty(m)?a[m]&&(b+=" "+m+'="'+m+'"'):(n=a[m],null!=n&&(b+=" "+f(m)+'="'+f(n)+'"')));l&&(b+=d(l,c),a.style=l);return b}return""}function d(a,c){if(a){if("string"==typeof a)return' style="'+(c?a:f(a))+'"';var d=' style="',b,l;if(c)for(b in a)a.hasOwnProperty(b)&&(l=a[b],null!=l&&(d+=b+":"+l+";"));else for(b in a)a.hasOwnProperty(b)&&(l=a[b],null!=l&&(d+=f(b)+":"+f(l)+";"));return d+'"'}return""}function c(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";
case "'":return"&#x27;";case "/":return"&#x2F;";default:return a}}function f(a){return null!=a?("string"!=typeof a&&(a=a.toString()),a.replace(/[&<>"'\/]/g,c)):""}function l(a,c){if(!(1>=a.length)){c||(c=function(a,c){return a-c});var d=a.length/2|0,f=a.slice(0,d),d=a.slice(d);l(f,c);l(d,c);for(var b=0,m=0,n=0,r=f.length,e=d.length;b<r&&m<e;)0<c(f[b],d[m])?a[n++]=d[m++]:a[n++]=f[b++];for(;b<r;)a[n++]=f[b++];for(;m<e;)a[n++]=d[m++]}}function m(){var a=arguments;return function(c,d){for(var f=0;f<a.length;f++){var b=
a[f](c,d);if(b)return b}return 0}}var n=window.console,r=[],s;s=n&&n.log?function(a){for(var c=0,d=arguments.length;c<d;c++)n.log(arguments[c])}:function(a){r.push.apply(r,arguments)};goog.exportSymbol("jx.util",Util);goog.exportSymbol("Util",Util);goog.exportSymbol("echo",s);Util.isNull=function(a){return null==a};Util.isNotNull=function(a){return null!=a};Util.isNullAnd=function(){for(var a=0,c=arguments.length;a<c;a++)if(null!=arguments[a])return!1;return!0};Util.isNullOr=function(){for(var a=
0,c=arguments.length;a<c;a++)if(null==arguments[a])return!0;return!1};Util.isNotNullAnd=function(){for(var a=0,c=arguments.length;a<c;a++)if(null==arguments[a])return!1;return!0};Util.isNotNullOr=function(){for(var a=0,c=arguments.length;a<c;a++)if(null!=arguments[a])return!0;return!1};Util.ifNull=function(a,c,d){return null==a?c:void 0===d?a:d};Util.ifTrue=function(a,c,d){return!0===a?c:void 0===d?a:d};Util.isFunction=function(a){return"function"==typeof a};Util.isString=function(a){return"string"==
typeof a};Util.isNumber=function(a){return"number"==typeof a};Util.isObject=function(a){return"object"==typeof a};Util.isArray=function(a){var c=Array.isArray;return a&&"object"==typeof a&&(c&&c(a)||"number"==typeof a.length&&a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length"))};Util.split=function(a,c,d,f){if("string"!==typeof a)return[];c=void 0===c?/\s+/:c;d=void 0===d?function(a){return!!a}:d;f=void 0===f?function(a){return $.trim(a)}:f;a=a.split(c);f&&(a=a.map(f));d&&(a=a.filter(d));
return a};Util.isEmpty=function(a){if(!a)return!0;if("object"!=typeof a)return!1;for(var c in a)if(a.hasOwnProperty(c))return!1;return!0};Util.isEmptyObj=function(a){if(null==a)return!0;if("object"!=typeof a)return!1;for(var c in a)if(a.hasOwnProperty(c))return!1;return!0};Util.isNotEmptyObj=function(a){if(null==a||"object"!=typeof a)return!1;for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Util.isEmptyString=function(a){return null==a||""===a};Util.isEmptyArray=function(a){if(null==a)return!0;
if(!Util.isArray(a))return!1;for(var c=0,d=a.length;c<d;c++)if(a.hasOwnProperty(c))return!1;return!0};Util.emptyObject=function(a){if(!a||"object"!=typeof a)return a;if(Util.isArray(a))return a.length=0,a;for(var c in a)a.hasOwnProperty(c)&&delete a[c];return a};Util.deleteUndefined=function(a){if(!a||"object"!=typeof a)return a;var c;if(Util.isArray(a)){for(c=a.length-1;-1<c;c--)a.hasOwnProperty(c)&&void 0===a[c]&&a.splice(c,1);return a}for(c in a)a.hasOwnProperty(c)&&void 0===a[c]&&delete a[c];
return a};Util.deepClone=function(a){if(!a)return a;switch(typeof a){case "boolean":case "number":case "string":case "function":return a}if(Util.isArray(a)){for(var c=[],d=0,f=a.length;d<f;d++)d in a&&(c[d]=Util.deepClone(a[d]));return c}c={};for(d in a)a.hasOwnProperty(d)&&(c[d]=Util.deepClone(a[d]));return c};Util.clone=function(a,c,d){if(!a)return a;switch(typeof a){case "boolean":case "number":case "string":case "function":return a}if(Util.isArray(a)){if(1===d)return Array.prototype.slice.call(a);
var f=[],b=a.length,l=0;for(d=void 0!==d?d-1:void 0;l<b;l++)l in a&&(f[l]=Util.clone(a[l],c,d));return f}f={};b=Util.isEmptyObj(c);if(1===d)if(b)for(l in a)a.hasOwnProperty(l)&&(f[l]=a[l]);else for(l in c)c.hasOwnProperty(l)&&a.hasOwnProperty(l)&&(f[l]=a[l]);else if(d=void 0!==d?d-1:void 0,b)for(l in a)a.hasOwnProperty(l)&&(f[l]=Util.clone(a[l],void 0,d));else for(l in c)c.hasOwnProperty(l)&&a.hasOwnProperty(l)&&(f[l]=Util.clone(a[l],void 0,d));return f};Util.setTextContent=function(a,c){var d=a.textContent;
if(void 0===c)return void 0!==d?d:a.innerText;void 0!==d?a.textContent=c:a.innerText=c};Util.getTextContent=g;Util.toArray=function(a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(a[d]);return c};Util.toArrayWithKey=function(a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push({key:d,val:a[d]});return c};Util.random=function(a){return Math.floor(a*Math.random())};Util.bound=function(a,c,d){isNaN(d)||(a=Math.min(a,d));isNaN(c)||(a=Math.max(a,c));return a};Util.callFn=function(){return 3>=arguments.length?
arguments[1].call(arguments[0],arguments[2]):arguments[1].apply(arguments[0],Array.prototype.slice.call(arguments,2))};Util.formatNumber=function(a,c,d,f,b){d=void 0===d?"&#8361; ":d;c=isNaN(c)?0:c;f=void 0===f?".":f;b=void 0===b?",":b;var l=0>a?"-":"",m=parseInt(a=Math.abs(+a||0).toFixed(c),10)+"",n=m.length,n=3<n?n%3:0;return d+l+(n?m.substr(0,n)+b:"")+m.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+b)+(c?f+Math.abs(a-m).toFixed(c).slice(2):"")};Util.getBodyScroll=function(){var a=0,c=0;if("number"===
typeof window.pageYOffset)c=window.pageYOffset,a=window.pageXOffset;else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))c=document.body.scrollTop,a=document.body.scrollLeft;else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop))c=document.documentElement.scrollTop,a=document.documentElement.scrollLeft;return[a,c]};Util.hasClass=function(a,c){if(a&&c){var d=a.className;if(d===c)return!0;if(d&&d.length>=c.length)for(var d=a.classList||
Util.split(d),f=0,b=d.length;f<b;f++)if(d[f]===c)return!0}return!1};Util.hasTagAndClass=function(a,c,d){if(a&&(c&&d)&&a.tagName===c){c=a.className;if(c===d)return!0;if(c&&c.length>=d.length){a=a.classList||Util.split(c);c=0;for(var f=a.length;c<f;c++)if(a[c]===d)return!0}}return!1};Util.closest=function(a,c,d){if(d){for(var f=a,b=!1;f;){if(f===d){b=!0;break}f=f.parentNode}if(!b)return null}if(Util.hasClass(a,c))return a;for(a=a.parentNode;a&&a!==d;a=a.parentNode)if(Util.hasClass(a,c))return a;return null};
Util.closestWithTag=function(a,c,d,f){if(f){for(var b=a,l=!1;b;){if(b===f){l=!0;break}b=b.parentNode}if(!l)return null}if(Util.hasTagAndClass(a,c,d))return a;for(a=a.parentNode;a&&a!==f;a=a.parentNode)if(Util.hasTagAndClass(a,c,d))return a;return null};Util.findFirstByClass=function(a,c){if(a){if(Util.hasClass(a,c))return a;for(var d=0,f=a.childNodes,b=f.length,l,m;d<b;d++)if((l=f[d])&&void 0!==(m=Util.findFirstByClass(l,c)))return m}return null};Util.findFirstByTagAndClass=function(a,c,d){if(a){if(Util.hasTagAndClass(a,
c,d))return a;var f=0;a=a.childNodes;for(var b=a.length,l;f<b;f++)if(Util.isNotNull(a[f])&&void 0!==(l=Util.findFirstByTagAndClass(a[f],c,d)))return l}return null};Util.findByClass=function(a,c,d){d=d||[];if(a){Util.hasClass(a,c)&&d.push(a);var f=0;a=a.childNodes;for(var b=a.length;f<b;f++)Util.isNotNull(a[f])&&Util.findByClass(a[f],c,d)}return d};Util.findByTagAndClass=function(a,c,d,f){f=f||[];if(a){Util.hasTagAndClass(a,c,d)&&f.push(a);var b=0;a=a.childNodes;for(var l=a.length;b<l;b++)Util.isNotNull(a[b])&&
Util.findByTagAndClass(a[b],c,d,f)}return f};Util.parent=function(a,c){for(void 0===c&&(c=1);c--&&a;)a=a.parentNode;return!a||1!==a.nodeType?null:a};Util.sibling=k;Util.child=function(a,c){if(a.children)return 0>c&&(c+=a.children.length),0>c?null:a.children[c];if(0<=c){if(a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!==a.nodeType;a=a.nextSibling);return k(a,c)}if(a.lastElementChild)a=a.lastElementChild;else for(a=a.lastChild;a&&1!==a.nodeType;a=a.previousSibling);return k(a,
c+1)};Util.getHead=function(){return document.head?document.head:document.getElementsByTagName("head")[0]};Util.appendTag=function(a,c){return a.appendChild(document.createElement(c))};Util.appendHTML=function(a,c){var d=document.createElement("div"),f,b=0,l=[];d.innerHTML=c;for(f=d.childNodes.length;b<f;b++)l.push(a.appendChild(d.firstChild));return l};Util.createStyle=function(a){null==a&&(a="");var c=document.createElement("style");c.type="text/css";c.rel="stylesheet";Util.getHead().appendChild(c);
c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));return c};Util.removeStyle=function(a){null!=a&&null!=a.parentNode&&Util.getHead().removeChild(a)};Util.setStyle=function(a,c){return null==a?"":a.styleSheet?a.styleSheet.cssText=c:a.childNodes[0].nodeValue=c};Util.appendStyle=function(a,c){return null==a?"":a.styleSheet?a.styleSheet.cssText+=c:a.childNodes[0].nodeValue+=c};Util.getStyle=function(a){return null==a?"":a.styleSheet?a.styleSheet.cssText:a.childNodes[0].nodeValue};
Util.appendScript=function(a){var c=document.createElement("script");c.type="text/javascript";Util.getHead().appendChild(c);c.text?c.text=a:c.innerHTML=a;return c};Util.appendScriptFile=function(a){document.write('<script type="text/javascript" src="'+a+'">\x3c/script>')};Util.outerHTML=function(a){if(void 0===a.outerHTML){var c=document.createElement("div");c.appendChild(a.cloneNode(!0));return c.innerHTML}return a.outerHTML};Util.index=function(a){for(var c=0;null!=(a=a.previousSibling);)++c;return c};
Util.contains=function(a,c,d){for(;null!=c;){if(c===a)return!0;if(c===d)break;c=c.parentNode}return!1};Util.areEqualArrays=function(a,c){if(null==a||null==c)return!1;if(a===c)return!0;if(a.length!==c.length)return!1;for(var d=0,f=a.length;d<f;d++)if(a.hasOwnProperty(d)&&!c.hasOwnProperty(d)||c.hasOwnProperty(d)&&!a.hasOwnProperty(d)||a[d]!==c[d])return!1;return!0};Util.areEqualObjects=function(a,c){if(null==a||null==c)return!1;if(a===c)return!0;if("object"!==typeof a||"object"!==typeof c)return!1;
for(var d in a)if(a.hasOwnProperty(d)&&(!c.hasOwnProperty(d)||a[d]!==c[d]))return!1;for(d in c)if(c.hasOwnProperty(d)&&(!a.hasOwnProperty(d)||a[d]!==c[d]))return!1;return!0};Util.areEqualComplex=function(a,c,d){if(null==a||null==c)return!1;if(a===c)return!0;var f=d.length,b=d[0];if(1===f)return"array"===b?Util.areEqualArrays(a,c):Util.areEqualObjects(a,c);if(1<f){d=d.slice(1);f=0;if("array"===b){if(a.length!==c.length)return!1;for(b=a.length;f<b;f++)if(!c.hasOwnProperty(f)||!Util.areEqualComplex(a[f],
c[f],d))return!1}else{for(f in a)if(a.hasOwnProperty(f)&&(!c.hasOwnProperty(f)||!Util.areEqualComplex(a[f],c[f],d)))return!1;for(f in c)if(c.hasOwnProperty(f)&&(!a.hasOwnProperty(f)||!Util.areEqualComplex(a[f],c[f],d)))return!1}return!0}};Util.typeCheck=function(a,c,d,f,b){if(d&&void 0===c||f&&null===c)return!0;switch(typeof a){case "string":if(typeof c===a)return!0;break;case "function":if(c instanceof a)return!0}if(b)return!1;throw new TypeError("object is not a "+a+", but is a "+typeof c);};Util.sprint=
function(a,c,d,f){Util.typeCheck("string",a);Util.typeCheck("object",c);Util.typeCheck("string",d,!0);Util.typeCheck("string",f,!0);var b;void 0===d&&(d="%");void 0===f&&(f="%");for(b in c)c.hasOwnProperty(b)&&(a=a.replace(RegExp(d+b+f,"gm"),c[b]));return a};Util.tagReplaces={"&":"&amp;","<":"&lt;",">":"&gt;"};Util.replaceTag=function(a){return Util.tagReplaces[a]||a};Util.escapeHtmlTags=function(a){return a.replace(/[&<>]/g,Util.replaceTag)};Util.escapeRegExp=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};Util.strReplace=function(a,c){var d,f=[];for(d in c)c.hasOwnProperty(d)&&f.push(Util.escapeRegExp(d));return a.replace(RegExp("("+f.join("|")+")","gm"),function(a){return c[a]})};Util.calCheckSize=function(){var a={},c=document.createElement("div");document.body.appendChild(c);c.innerHTML="<input type='checkbox' style='margin:0;padding:0;overflow:hidden'/>";a.checkboxW=c.childNodes[0].offsetWidth;a.checkboxH=c.childNodes[0].offsetHeight;c.innerHTML="<input type='radio' style='margin:0;padding:0;overflow:hidden'/>";
a.radioW=c.childNodes[0].offsetWidth;a.radioH=c.childNodes[0].offsetHeight;document.body.removeChild(c);return a};Util.which=function(a){for(var c={},d=0,f;d<a.length;d++)if(f=a[d].toLowerCase(),"number"===f){for(f=48;57>=f;f++)c[f]=!0;for(f=96;105>=f;f++)c[f]=!0}else if("alphabet"===f)for(f=65;90>=f;f++)c[f]=!0;else if("arrow"===f)for(f=37;40>=f;f++)c[f]=!0;else 1<f.length&&(f=f.replace(/\s/g,"")),3<=f.length&&(f=f.replace(/numpad|num/g,"n").replace(/korean|kor/g,"kr")),c[Util.keyMapKeydown[f]]=
!0;return c};Util.keyMapKeydown={backspace:8,tab:9,enter:13,shift:16,control:17,ctrl:17,alt:18,pause:19,"break":19,capslock:20,escape:27,esc:27,space:32," ":32,pageup:33,pgup:33,pagedown:34,pgdown:34,pgdn:34,end:35,home:36,leftarrow:37,left:37,uparrow:38,up:38,rightarrow:39,right:39,downarrow:40,down:40,insert:45,ins:45,"delete":46,del:46,"0":48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,
i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,n0:96,n1:97,n2:98,n3:99,n4:100,n5:101,n6:102,n7:103,n8:104,n9:105,"n*":106,"n+":107,"n-":109,"n.":110,"n/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,mute:173,volumedown:174,volumeup:175,":":186,";":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,
"}":221,"'":222,'"':222,kr:229};Util.printEventPos=function(a){Util.print("client: ("+a.clientX+", "+a.clientY+"), layer: ("+a.layerX+", "+a.layerY+"), offset: ("+a.offsetX+", "+a.offsetY+"), page: ("+a.pageX+", "+a.pageY+"), screen: ("+a.screenX+", "+a.screenY+"), xy: ("+a.x+", "+a.y+")")};Util.print=function(a){if(s)if(1===arguments.length)s(arguments[0]);else for(var c=0,d=arguments.length;c<d;c++)s(arguments[c])};Util.open=function(a){var c={url:"about:blank",name:"_blank",channelmode:"no",directories:"yes",
fullscreen:"no",height:void 0,left:void 0,location:"yes",menubar:"yes",resizable:"yes",scrollbars:"yes",status:"yes",titlebar:"yes",toolbar:"yes",top:void 0,width:void 0,replace:void 0},d;if(Util.isNotNull(a))for(d in c)c.hasOwnProperty(d)&&(c[d]=a[d]);a=Util.ifNull(c.height,"","height="+c.height+", ")+Util.ifNull(c.left,"","left="+c.left+", ")+Util.ifNull(c.top,"","top="+c.top+", ")+Util.ifNull(c.width,"","width="+c.width+", ")+"channelmode="+c.channelmode+", directories="+c.directories+", fullscreen="+
c.fullscreen+", location="+c.location+", menubar="+c.menubar+", resizable="+c.resizable+", scrollbars="+c.scrollbars+", status="+c.status+", titlebar="+c.titlebar+", toolbar="+c.toolbar;return null==c.replace?window.open(c.url,c.name,a):window.open(c.url,c.name,a,c.replace)};Util.cloneObject=h;Util.extendObject=e;Util.extendOrClone=function(a,c){return c?a?e(a,c):h(c):a};Util.lcfirst=function(a){return a?a.charAt(0).toLowerCase()+a.substring(1):""};Util.ucfirst=function(a){return a?a.charAt(0).toUpperCase()+
a.substring(1):""};var t={checked:!0,compact:!0,declare:!0,defer:!0,disabled:!0,ismap:!0,multiple:!0,nohref:!0,noresize:!0,noshade:!0,nowrap:!0,readonly:!0,selected:!0},q={area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},p={hidden:!0,text:!0,search:!0,tel:!0,url:!0,email:!0,password:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,number:!0,range:!0,color:!0,checkbox:!0,radio:!0,file:!0,
submit:!0,image:!0,reset:!0,button:!0};Util.emptyElements=q;Util.element=b;Util.input=function(a,c,d){if(p.hasOwnProperty(a))return c.type=a,b("input",c,null,d);throw Error("invalid input type, "+a+"!");};Util.attribute=a;Util.style=d;Util.escapeChar=c;Util.encode=f;var u=1,v=2;Util.SAFE=u;Util.LEAVE_OPENED=v;Util.mergesort=l;Util.compositeSort=function(a,c){a.sort(m.apply(null,c))};Util.setCookie=function(a,c,d,f){a=a+"="+encodeURIComponent(c);"number"===typeof d&&(c=new Date,c.setTime(c.getTime()+
864E5*d),a+="; max-age="+86400*d+"; expires="+c.toGMTString());"string"===typeof f&&(a+="; path="+f);document.cookie=a};Util.getCookies=function(){var a={},c=document.cookie;if(""===c)return a;for(var c=c.split("; "),d=c.length,f=0;f<d;f++){var b=c[f],l=b.indexOf("="),m=b.substring(0,l),b=b.substring(l+1),b=decodeURIComponent(b);a[m]=b}return a};Util.placeholderIsSupported=function(){return"placeholder"in document.createElement("input")}})();var TimeWatch={};
(function(){function g(h){var e=this.laps=[];this._stopped=!1;e.push(h||null,(new Date).getTime())}goog.exportSymbol("TimeWatch",g);var k=g.prototype;k.lap=function(h){if(this._stopped)throw Error("TimeWatch was stopped, thus cannot lap. Please reset!");this.laps.push(h||null,(new Date).getTime())};k.stop=function(h){this._stopped=!0;this.laps.push(h||null,(new Date).getTime())};k.reset=function(h){var e=this.laps;e.length=0;this._stopped=!1;e.push(h||null,(new Date).getTime())};k.toString=function(){var h=
this.laps,e=h.length,b=2,a=e-(this._stopped?2:0),d=h[0],c=h[1],f=c,e=2<e?[]:null,l=0,m;for(m="TimeWatch\n"+("start"+(d?": "+d:"")+" @"+c+"\n");b<a;b+=2)d=(d=h[b])?": "+d:"",c=h[b+1],e.push(f=c-f),l+=f,m+="lap "+b/2+d+" @"+c+" +"+f+"ms\n",f=c;2<=a&&this._stopped&&(d=(d=h[a])?": "+d:"",c=h[a+1],e.push(f=c-f),l+=f,m+="stop"+d+" @"+c+" +"+f+"ms\n");if(e){var h=e.length,n=l/h,r=0;m=m+("total number of laps: "+h+"\n")+("total elapsed time: "+l+"ms\n");m+="average lap time: "+n.toFixed(2)+"ms\n";e.forEach(function(a){r+=
(a-n)*(a-n)});r=Math.sqrt(r/h);m+="standard deviation: "+r.toFixed(2)+"ms\n"}return m}})();var Tracer={};
(function(){function g(){this.stack="";this.timers={}}var k=goog.getObjectByName("jx.util");goog.exportSymbol("Tracer",g);var h=g.prototype;h.print=function(e,b,a){void 0===e&&(e="");void 0===b&&(b="timer");void 0===a&&(a=!0);var d=this.timers[b],c=(new Date).getTime(),d=k.isNull(d)?0:c-d;k.print((0<this.stack.length?this.stack+" :: ":"")+e+", Time elapsed since last update: "+d+"ms");a&&(this.timers[b]=c)};h.addStack=function(e){this.stack=this.stack+" > "+e};h.removeStack=function(){this.stack=this.stack.substring(0,
this.stack.lastIndexOf(" > "))};h.clearStack=function(){this.stack=""}})();jx.util$={};var Util$={};
(function(){goog.exportSymbol("jx.util$",Util$);goog.exportSymbol("Util$",Util$);Util$.is$=function(g){return g instanceof jQuery?!0:!1};Util$.safe$=function(g){return g instanceof jQuery?g:$(g)};Util$.unbindRemove=function(g){g.unbind().remove()};jQuery.fn.getBoundingRect=function(){var g=this.offset();return{left:g.left,top:g.top,width:this.outerWidth(),height:this.outerHeight()}};jQuery.fn.containsEvent=function(g){if(0===this.length)return!1;var k,h,e,b;if(1>=this.length)return k=this.getBoundingRect(),
e=g.pageX,b=g.pageY,e>=k.left&&e<=k.left+k.width&&b>=k.top&&b<=k.top+k.height;h=!1;this.each(function(a,d){k=$(this).getBoundingRect();e=g.pageX;b=g.pageY;if(e>=k.left&&e<=k.left+k.width&&b>=k.top&&b<=k.top+k.height)return h=!0,!1});return h};Util$.baseurlOfHeadScript=function(g){var k=$(document.getElementsByTagName("head")[0]).find("script[src$='"+g+"']").attr("src");return k.substring(0,k.indexOf(g))};Util$.calScrollbarDims=function(g){if(Util.isNotNull(window._SCROLLBAR))return window._SCROLLBAR;
g=Util$.safe$(g);var k;g[0].innerHTML="<div id='scrollbardim' style='position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow:scroll;'></div>";k=$(document.getElementById("scrollbardim"));k={w:k.width()-k[0].clientWidth,h:k.height()-k[0].clientHeight};g[0].innerHTML="";return window._SCROLLBAR=k}})();/*
 Copyright (c) 2010-2011, WebCash Inc. All rights reserved.
*/
jx.grid={};var JGM={};
(function(){var g=goog.getObjectByName("jx.util"),k=goog.getObjectByName("jx.util$");goog.exportSymbol("JGM",JGM);goog.exportSymbol("jx.grid",JGM);JGM.version="2.0.0";JGM._map={ArrayExtIE:{cacheModule:!1},Cache:{cacheModule:!0},Cell:{cacheModule:!1},CheckManager:{cacheModule:!0},ColumnManager:{cacheModule:!0},ColumnGroup:{cacheModule:!0},ColumnHeader:{cacheModule:!0},Collapser:{cacheModule:!0},DataManager:{cacheModule:!0},DataCreator:{cacheModule:!0},EditManager:{cacheModule:!0},Editor:{cacheModule:!0},
EngineExt:{cacheModule:!1},EventManager:{cacheModule:!0},Footer:{cacheModule:!0},HeaderTree:{cacheModule:!0},Grid:{cacheModule:!0},GridManager:{cacheModule:!1},MenuBar:{cacheModule:!0},ViewportManager:{cacheModule:!0},SelectionManager:{cacheModule:!0},SearchManager:{cacheModule:!0},SettingsManager:{cacheModule:!0},RowNumber:{cacheModule:!0},TooltipManager:{cacheModule:!0},Tracer:{cacheModule:!1},Tree:{cacheModule:!0},TreeNode:{cacheModule:!1},Util:{cacheModule:!1},Util$:{cacheModule:!1}};JGM._translations=
{ko:{settings:{saveMenu:"그리드 설정 저장",resetMenu:"그리드 설정 초기화",saveSuccess:"그리드 설정을 저장했습니다.",saveFailure:"그리드 설정 저장에 실패했습니다.",resetSuccess:"그리드 설정을 초기화했습니다.",resetFailure:"그리드 설정 초기화에 실패했습니다.",buttonTooltip:"그리드 컬럼 설정"},header:{resizeTooltip:"%name% 컬럼의 폭을 조절합니다."},menubar:{columnIconTooltip:"현재 보여지는 열을 숨기거나 숨겨진 열을 보이도록 합니다."},search:{masterInputTooltip:"검색어를 입력해주세요",buttonTooltip:"입력한 텍스트를 검색합니다",tagTooltip:"%tag% 를 포함하는",tagRemoveTooltip:"필터제거"},editor:{inputTooltip:'%row%번 행 "%column%"컬럼의 값을 입력하세요.'},
check:{masterTooltip:"전체 행를 선택합니다.",inputTooltip:"%row%번 행을 선택합니다."},selection:{copyTooltip:"ctrl + c 를 한번 더 눌러 복사하세요."}},en:{settings:{saveMenu:"Save Grid Settings",resetMenu:"Reset Grid Settings",saveSuccess:"Successfully saved Grid Settings.",saveFailure:"Failed to save Grid Settings.",resetSuccess:"Successfully reset Grid Settings",resetFailure:"Failed to reset Grid Settings.",buttonTooltip:"Grid Column Settings"},header:{resizeTooltip:"Resize column %name%"},menubar:{columnIconTooltip:"Click here to show or hide columns"},
editor:{inputTooltip:'Input data for "%column%" column in row %row%'},search:{masterInputTooltip:"Type text to search",buttonTooltip:"Search",tagTooltip:"containing %tag%",tagRemoveTooltip:"Remove this filter"},check:{masterTooltip:"Select all rows",inputTooltip:"Select row %row%"},selection:{copyTooltip:"Please copy by pressing again ctrl + c button"}}};JGM.create=function(e,b){null==b&&(b={});if(!JGM.hasOwnProperty(e))throw Error("cannot find a grid module: name="+e);if(JGM._map.hasOwnProperty(e)&&
JGM._map[e].cacheModule){var a=b.mid="JGM"+JGM.m.length++,d=new JGM[e](b);JGM.m.hasOwnProperty(e)||(JGM.m[e]={});JGM.m[e][a]=d;"Grid"===e&&(null==d.name&&(d.name=JGM.grids.length),JGM.gridMap[d.name]=d,JGM.grids.push(d));return d}return new JGM[e](b)};JGM._destroy=function(e,b){if(e&&b){var a,d,c,f;for(d in b)if(b.hasOwnProperty(d))switch(d){case "map":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)JGM._deleteMap(e,a[c])}else if(a instanceof Array){f=a.length;for(c=0;c<f;c++)g.emptyObject(a[c])}else g.emptyObject(a);
break;case "array":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)JGM._deleteArray(e,a[c])}else a.length=0;break;case "$":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)JGM._delete$(e,a[c])}else if(a instanceof Array){f=a.length;for(c=0;c<f;c++)k.unbindRemove(a[c])}else k.unbindRemove(a);break;case "style":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)JGM._deleteStyle(e,a[c])}else if(a instanceof Array){f=a.length;for(c=0;c<f;c++)g.removeStyle(a[c])}else g.removeStyle(a);
break;case "property":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)delete e[a[c]]}else if(a instanceof Array){f=a.length;for(c=0;c<f;c++)delete e[a[c]]}break;case "module":a=b[d];if("string"==typeof a){a=g.split(a);f=a.length;for(c=0;c<f;c++)JGM._deleteModule(e,a[c])}else if(a instanceof Array){f=a.length;for(c=0;c<f;c++)a[c].destroy()}else a.destroy();break;case "name":e.hasOwnProperty("mid")&&(JGM._remove(b[d],e.mid),delete e.mid);break;case "path":e.hasOwnProperty("grid")&&
e.grid.hasOwnProperty(b[d])&&(delete e.grid[b[d]],delete e.grid)}g.emptyObject(e)}};JGM._deleteMap=function(e,b){e&&(e.hasOwnProperty(b)&&e[b])&&(g.emptyObject(e[b]),delete e[b])};JGM._deleteArray=function(e,b){e&&(e.hasOwnProperty(b)&&e[b])&&(e[b].length=0,delete e[b])};JGM._delete$=function(e,b){e&&(e.hasOwnProperty(b)&&e[b])&&(k.unbindRemove(e[b]),delete e[b])};JGM._deleteStyle=function(e,b){e&&(e.hasOwnProperty(b)&&e[b])&&(g.removeStyle(e[b]),delete e[b])};JGM._deleteModule=function(e,b){e&&(e.hasOwnProperty(b)&&
e[b])&&(e[b].destroy(),delete e[b])};JGM._remove=function(e,b){delete JGM.m[e][b]};JGM.grid=function(e){return JGM.create("Grid",e)};JGM.gridMap={};JGM.getGrid=function(e){if(JGM.gridMap.hasOwnProperty(e))return JGM.gridMap[e]};JGM.grids=[];JGM._add=function(e,b){JGM[e]=b};JGM._extend=function(e,b){var a=g.ifNull(b,{});$.extend(!0,e,a);$.extend(!0,a,e);return a};JGM.m={length:0};JGM._CONST={_cssUnselectable:"-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;",
_checkboxWidth:void 0,_checkboxHeight:void 0,_radioWidth:void 0,_radioHeight:void 0};JGM._globalEventsBound=!1;JGM._globalEvents={_mousemove:function(e){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._mousemove(e)},_mouseup:function(e){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._mouseup(e)},_resize:function(e){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._resize(e)}};JGM._bindGlobalEvents=function(){JGM._globalEventsBound||($(document).bind({mousemove:JGM._globalEvents._mousemove,
mouseup:JGM._globalEvents._mouseup}),$(window).resize(JGM._globalEvents._resize),JGM._globalEventsBound=!0)};JGM._unbindGlobalEvents=function(){JGM._globalEventsBound&&($(document).unbind({mousemove:JGM._globalEvents._mousemove,mouseup:JGM._globalEvents._mouseup}),$(window).unbind("resize",JGM._globalEvents._resize),JGM._globalEventsBound=!1)};JGM.error={LENGTH_NOT_EQUAL:"Lengths are not equal",NOT_MODIFIABLE:"Cannot modify value for '%0'.",KEY_UNDEFINED:"Column '%0' is undefined.",BAD_NULL:"Column '%0' cannot be null.",
DUP_KEY:"Duplicate column key '%0'.",DUP_ENTRY:"Duplicate entry '%0' for '%1'.",KEY_NOT_FOUND:"'%0' for '%1' doesn't exist in table.",PARSE_ERROR:"Cannot parse '%0' for '%1'.",INVALID_DEFAULT:"Invalid default value '%0' for '%1'.",MULTIPLE_PRI_KEY:"Multiple primary key defined.",DATA_TOO_LONG:"Data '%0' too long for column '%1'. Maximum is %2.",DATA_TOO_SHORT:"Data '%0' too short for column '%1'. Minimum is %2.",WRONG_LENGTH:"Length of data '%0' is not '%1' characters long for column '%2'.",BIGGER_THAN:"Data '%0' too big for column '%1'. Maximum is %2.",
SMALLER_THAN:"Data '%0' too small for column '%1'. Minimum is %2.",WRONG_VALUE:"Incorrect value: '%0' for '%1'.",EXCEPTION_IGNORED:"Ignored Exception: '%0'"};JGM.chart=function(e,b,a,d,c){var f;b=b.toLowerCase();switch(b){case "area":b="corechart";f="AreaChart";break;case "bar":b="corechart";f="BarChart";break;case "candle":b="corechart";f="CandlestickChart";break;case "column":b="corechart";f="ColumnChart";break;case "combo":b="corechart";f="ComboChart";break;case "gauge":b="gauge";f="Gauge";break;
case "geo":b="geochart";f="GeoChart";break;case "line":b="corechart";f="LineChart";break;case "pie":b="corechart";f="PieChart";break;case "scatter":b="corechart";f="ScatterChart";break;case "table":b="table";f="Table";break;case "treemap":b="treemap";f="TreeMap";break;default:throw Error("unknown chart type: "+b);}google.load("visualization","1",{packages:[b]});var l=JGM.exportToArray(c,a.map(function(a){return a.key}));google.setOnLoadCallback(function(){for(var c=new google.visualization.DataTable,
b=0,r=a.length,h,g;b<r;b++){h=a[b];g=h.type;switch(g){case "boolean":g="boolean";break;case "int":case "integer":case "long":case "float":case "double":g="number";break;case "string":case "text":g="string"}c.addColumn(g||typeof l[0][b]||0===b&&"string"||"number",h.name)}c.addRows(l);(new google.visualization[f](document.getElementById(e))).draw(c,d)})};JGM.exportToArray=function(e,b){for(var a,d=[],c,f,l=0,m=e.length,n,r=b.length;l<m;l++){c=e[l];n=0;for(a=[];n<r;n++)f=b[n],a.push(f in c?c[f]:null);
d.push(a)}return d};var h={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var b=0;b<e.length;b++){var a=e[b].string,d=e[b].prop;this.versionSearchString=e[b].versionSearch||e[b].identity;if(a){if(-1!=a.indexOf(e[b].subString))return e[b].identity}else if(d)return e[b].identity}},
searchVersion:function(e){var b=e.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(e.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",
identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",
identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};h.init();JGM.browser=h;JGM.IE6="Explorer"==JGM.browser.browser&&7>JGM.browser.version;JGM.quirk="Explorer"==JGM.browser.browser&&7>document.documentMode;JGM.getGridByElementId=function(e){for(var b=
JGM.grids,a=0,d=b.length,c;a<d;a++)if(c=b[a],c.getElementId()==e)return c;return null}})();jx.grid.jStorage={};
(function(){var g=goog.getObjectByName("jx.grid");g.getJStorage=function(){g._jStorage||function(){function k(){var c="{}";if("userDataBehavior"==p){t.load("jgrid");try{c=t.getAttribute("jgrid")}catch(d){}try{z=t.getAttribute("jgrid_update")}catch(b){}s.jgrid=c}a();f();l()}function h(){var a;clearTimeout(v);v=setTimeout(function(){if("localStorage"==p||"globalStorage"==p)a=s.jgrid_update;else if("userDataBehavior"==p){t.load("jgrid");try{a=t.getAttribute("jgrid_update")}catch(c){}}if(a&&a!=z){z=a;
var d=n.parse(n.stringify(r.__jgrid_meta.CRC32)),f;k();f=n.parse(n.stringify(r.__jgrid_meta.CRC32));var b,l=[],m=[];for(b in d)d.hasOwnProperty(b)&&(f[b]?d[b]!=f[b]&&"2."==String(d[b]).substr(0,2)&&l.push(b):m.push(b));for(b in f)f.hasOwnProperty(b)&&(d[b]||l.push(b));e(l,"updated");e(m,"deleted")}},25)}function e(a,c){a=[].concat(a||[]);if("flushed"==c){a=[];for(var d in u)u.hasOwnProperty(d)&&a.push(d);c="deleted"}d=0;for(var f=a.length;d<f;d++)if(u[a[d]])for(var b=0,l=u[a[d]].length;b<l;b++)u[a[d]][b](a[d],
c)}function b(){var a=(+new Date).toString();"localStorage"==p||"globalStorage"==p?s.jgrid_update=a:"userDataBehavior"==p&&(t.setAttribute("jgrid_update",a),t.save("jgrid"));h()}function a(){if(s.jgrid)try{r=n.parse(String(s.jgrid))}catch(a){s.jgrid="{}"}else s.jgrid="{}";q=s.jgrid?String(s.jgrid).length:0;r.__jgrid_meta||(r.__jgrid_meta={});r.__jgrid_meta.CRC32||(r.__jgrid_meta.CRC32={})}function d(){if(r.__jgrid_meta.PubSub){for(var a=+new Date-2E3,c=0,d=r.__jgrid_meta.PubSub.length;c<d;c++)if(r.__jgrid_meta.PubSub[c][0]<=
a){r.__jgrid_meta.PubSub.splice(c,r.__jgrid_meta.PubSub.length-c);break}r.__jgrid_meta.PubSub.length||delete r.__jgrid_meta.PubSub}try{s.jgrid=n.stringify(r),t&&(t.setAttribute("jgrid",s.jgrid),t.save("jgrid")),q=s.jgrid?String(s.jgrid).length:0}catch(f){}}function c(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jgrid_meta"==a)throw new TypeError("Reserved key name");return!0}function f(){var a,c,l,m,n=Infinity,g=!1,h=[];clearTimeout(w);
if(r.__jgrid_meta&&"object"==typeof r.__jgrid_meta.TTL){a=+new Date;l=r.__jgrid_meta.TTL;m=r.__jgrid_meta.CRC32;for(c in l)l.hasOwnProperty(c)&&(l[c]<=a?(delete l[c],delete m[c],delete r[c],g=!0,h.push(c)):l[c]<n&&(n=l[c]));Infinity!=n&&(w=setTimeout(f,n-a));g&&(d(),b(),e(h,"deleted"))}}function l(){var a;if(r.__jgrid_meta.PubSub){var c,d=y;for(a=r.__jgrid_meta.PubSub.length-1;0<=a;a--)if(c=r.__jgrid_meta.PubSub[a],c[0]>y){var d=c[0],f=c[1];c=c[2];if(x[f])for(var b=0,l=x[f].length;b<l;b++)x[f][b](f,
n.parse(n.stringify(c)))}y=d}}var m=window.jQuery||window.$||(window.$={}),n={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||m.parseJSON||m.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||m.toJSON};if(!n.parse||!n.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var r={__jgrid_meta:{CRC32:{}}},s={jgrid:"{}"},
t=null,q=0,p=!1,u={},v=!1,z=0,x={},y=+new Date,w,B={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(c){try{return a.xml}catch(d){}}return!1},decode:function(a){var c="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(a);return c};if(!c)return!1;
a=c.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}},A={version:"0.4.2",set:function(a,d,f){c(a);f=f||{};if("undefined"==typeof d)return this.deleteKey(a),d;if(B.isXML(d))d={_is_xml:!0,xml:B.encode(d)};else{if("function"==typeof d)return;d&&"object"==typeof d&&(d=n.parse(n.stringify(d)))}r[a]=d;for(var b=r.__jgrid_meta.CRC32,l=n.stringify(d),m=l.length,g=2538058380^m,h=0,s;4<=m;)s=l.charCodeAt(h)&255|(l.charCodeAt(++h)&255)<<8|(l.charCodeAt(++h)&255)<<16|
(l.charCodeAt(++h)&255)<<24,s=1540483477*(s&65535)+((1540483477*(s>>>16)&65535)<<16),s^=s>>>24,s=1540483477*(s&65535)+((1540483477*(s>>>16)&65535)<<16),g=1540483477*(g&65535)+((1540483477*(g>>>16)&65535)<<16)^s,m-=4,++h;switch(m){case 3:g^=(l.charCodeAt(h+2)&255)<<16;case 2:g^=(l.charCodeAt(h+1)&255)<<8;case 1:g^=l.charCodeAt(h)&255,g=1540483477*(g&65535)+((1540483477*(g>>>16)&65535)<<16)}g^=g>>>13;g=1540483477*(g&65535)+((1540483477*(g>>>16)&65535)<<16);b[a]="2."+((g^g>>>15)>>>0);this.setTTL(a,f.TTL||
0);e(a,"updated");return d},get:function(a,d){c(a);return a in r?r[a]&&"object"==typeof r[a]&&r[a]._is_xml?B.decode(r[a].xml):r[a]:"undefined"==typeof d?null:d},deleteKey:function(a){c(a);return a in r?(delete r[a],"object"==typeof r.__jgrid_meta.TTL&&a in r.__jgrid_meta.TTL&&delete r.__jgrid_meta.TTL[a],delete r.__jgrid_meta.CRC32[a],d(),b(),e(a,"deleted"),!0):!1},setTTL:function(a,l){var m=+new Date;c(a);l=Number(l)||0;return a in r?(r.__jgrid_meta.TTL||(r.__jgrid_meta.TTL={}),0<l?r.__jgrid_meta.TTL[a]=
m+l:delete r.__jgrid_meta.TTL[a],d(),f(),b(),!0):!1},getTTL:function(a){var d=+new Date;c(a);return a in r&&r.__jgrid_meta.TTL&&r.__jgrid_meta.TTL[a]?(a=r.__jgrid_meta.TTL[a]-d)||0:0},flush:function(){r={__jgrid_meta:{CRC32:{}}};d();b();e(null,"flushed");return!0},storageObj:function(){function a(){}a.prototype=r;return new a},index:function(){var a=[],c;for(c in r)r.hasOwnProperty(c)&&"__jgrid_meta"!=c&&a.push(c);return a},storageSize:function(){return q},currentBackend:function(){return p},storageAvailable:function(){return!!p},
listenKeyChange:function(a,d){c(a);u[a]||(u[a]=[]);u[a].push(d)},stopListening:function(a,d){c(a);if(u[a])if(d)for(var f=u[a].length-1;0<=f;f--)u[a][f]==d&&u[a].splice(f,1);else delete u[a]},subscribe:function(a,c){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");x[a]||(x[a]=[]);x[a].push(c)},publish:function(a,c){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");r.__jgrid_meta||(r.__jgrid_meta={});r.__jgrid_meta.PubSub||(r.__jgrid_meta.PubSub=[]);r.__jgrid_meta.PubSub.unshift([+new Date,
a,c]);d();b()},reInit:function(){k()}};(function(){var c=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),c=!0,window.localStorage.removeItem("_tmptest")}catch(d){}if(c)try{window.localStorage&&(s=window.localStorage,p="localStorage",z=s.jgrid_update)}catch(b){}else if("globalStorage"in window)try{window.globalStorage&&(s=window.globalStorage[window.location.hostname],p="globalStorage",z=s.jgrid_update)}catch(m){}else if(t=document.createElement("link"),t.addBehavior){t.style.behavior=
"url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(t);try{t.load("jgrid")}catch(n){t.setAttribute("jgrid","{}"),t.save("jgrid"),t.load("jgrid")}c="{}";try{c=t.getAttribute("jgrid")}catch(r){}try{z=t.getAttribute("jgrid_update")}catch(e){}s.jgrid=c;p="userDataBehavior"}else{t=null;return}a();f();"localStorage"==p||"globalStorage"==p?"addEventListener"in window?window.addEventListener("storage",h,!1):document.attachEvent("onstorage",h):"userDataBehavior"==p&&setInterval(h,
1E3);l();"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&h()},!1)})();g._jStorage={set:function(a,c,d){c={t:+new Date,d:c};A.set(a,c,d);var f=A.get(a);if(f.t!=c.t){var f=A.index(),b=f.length;d=[];for(var l=0;l<b;l++){var m=A.get(f[l]);d.push({key:f[l],t:m.t})}d.sort(function(a,c){return null==a.t?-1:null==c.t?1:a.t-c.t});for(l=0;l<d.length&&!(A.deleteKey(d[l].key),A.set(a,c),f=A.get(a),f.t==c.t);l++);if(l<d.length)return!0}else return!0;return!1},get:function(a,
c){var d=A.get(a);if(null!=d){if(d.t&&d.d)return d.t=+new Date,A.set(a,d),d.d;A.set(a,{t:+new Date,d:d});return d}return c}};for(var D in A)D in g._jStorage||(g._jStorage[D]=A[D])}();return g._jStorage}})();jx.grid.renderer={};
(function(){var g=goog.getObjectByName("jx.grid");goog.getObjectByName("jx.util");g=g.renderer={};goog.exportSymbol("jx.grid.renderer",g);g.selectBox=function(g){var h=g.mapping,e=g.attr,b=g["default"],a=g.style,d=g.callback,c,f,l,m=0,n=[],r=[],s="<select";if(e)for(l in e)e.hasOwnProperty(l)&&(s+=" "+l+'="'+e[l]+'"');if(a){s+=' style="';for(l in a)a.hasOwnProperty(l)&&(s+=l+":"+a[l]+";");s+='"'}s+=">";for(c in h)h.hasOwnProperty(c)&&(g=h[c],n.push(c),r.push(g),b==g&&(f=m),m++);return function(a){var c,
b,l=s;for(b=0;b<m;b++)if(a==r[b]){c=b;break}void 0===c&&(c=f);for(b=0;b<m;b++)l+='<option value="'+r[b]+'"',b===c&&(l+=' selected="selected"'),l+=">"+n[b]+"</option>";l+="</select>";d&&(c=[],c.push(l),Array.prototype.push.apply(c,arguments),l=d.apply(this,c));return l}}})();jx.lang={};jx.lang.Disposable={};
(function(){function g(a){}function k(a,c,f){if("object"!=typeof a)return!1;var b,m,n;if(c){f=0;for(var r=c.length;f<r;f++)if(b=c[f],this.hasOwnProperty(b))if(a.hasOwnProperty(b)){if(m=this[b],n=a[b],m!==a&&!(m===m||n===n))return!1}else return!1;else if(a.hasOwnProperty(b))return!1}else{if(f)for(b in this){if(this.hasOwnProperty(b)){if(!a.hasOwnProperty(b))return!1;m=this[b];n=a[b];if(m!==n)if(m){if("object"!=typeof m||"object"!=typeof n)return!1;if(m.equals){if(!m.equals(n,null,f-1))return!1}else if(n.equals&&
!n.equals(m,null,f-1))return!1;if(!k.call(m,n,null,f-1))return!1}else if(!(m===m||n===n))return!1}}else for(b in this)if(this.hasOwnProperty(b))if(a.hasOwnProperty(b)){if(m=this[b],n=a[b],m!==a&&!(m===m||n===n))return!1}else return!1;for(b in a)if(a.hasOwnProperty(b)&&!this.hasOwnProperty(b))return!1}return!0}function h(d,c){if(this!=goog.global){var f,b;if(d)for(f in this){if(this.hasOwnProperty(f)){if((b=this[f])&&"object"==typeof b)b.dispose?b.dispose(d-1,c):c&&(a(b)&&(b.length=0),h.call(b,d-1,
c));delete this[f]}}else for(f in this)this.hasOwnProperty(f)&&delete this[f]}}var e=goog.getObjectByName("jx.util");goog.exportSymbol("jx.lang.Disposable",g);goog.exportProperty(g.prototype,"dispose",h);var b=g.prototype,a=e.isArray;e.equals=Object.equals=function(a,c,f,b){return"object"==typeof a?k.call(a,c,f,b):a!==a&&c!==c};e.dispose=Object.dispose=function(a,c,f){if("object"==typeof a)return h.call(a,c,f)};b.equals=k;b.dispose=h})();jx.events={};jx.events.EventDispatcher={};
(function(){function g(b){}goog.getObjectByName("jx.grid");var k=goog.getObjectByName("jx.util"),h=goog.getObjectByName("jx.lang.Disposable");goog.exportSymbol("jx.events.EventDispatcher",g);goog.inherits(g,h);var h=g.prototype,e=h.dispose;h.dispose=function(){k.dispose(this._handlers,-1,!0);e.call(this)};h.addEventListener=function(b,a){if(!b)throw Error("Invalid event type: "+b);if("function"!=typeof a&&(!a||"function"!=typeof a.handleEvent))throw Error("Event listener must be a function or must implement EventListener");this._handlers||
(this._handlers={});var d=this._handlers;b=(b+"").toLowerCase();d.hasOwnProperty(b)||(d[b]=[]);d=d[b];-1===d.indexOf(a)&&d.push(a)};h.removeEventListener=function(b,a){if(this._handlers){b=(b+"").toLowerCase();var d=this._handlers;if(d.hasOwnProperty(b)){for(var c=d[b],f=-1;-1!==(f=c.indexOf(a,f+1));)c.splice(f--,1);0===c.length&&delete d[b]}}};h.dispatchEvent=function(b){if(!b||!b.type)throw Error("Invalid event");if(!this._handlers){if(b.cancelable&&b.defaultPrevented)return!1;b.defaultAction&&
b.defaultAction(this);return!0}var a=this._handlers,d=(b.type+"").toLowerCase();b.target=this;if(a.hasOwnProperty(d))for(var a=a[d].slice(),d=0,c=a.length,f;d<c&&!b.stopPropagation;d++)f=a[d],f.handleEvent?f.handleEvent(b):f.call(this,b);if(b.cancelable&&b.defaultPrevented)return!1;b.defaultAction&&b.defaultAction(this);return!0}})();jx.struct={};jx.struct.TreeNode={};jx.struct.Tree={};var TreeNode={},Tree={};
(function(){function g(b){this.tree=b.tree;this.data=b.data;this.nodeId=b.nodeId;this.level;this.parent;this.childrenMap={};this.children=[]}function k(b){this.list=b.list;this._options=JGM._extend({nodeKey:"nodeId",parentKey:"parentId"},b.options);this.map={};this.root=new g({tree:this});this.infants={}}var h=goog.getObjectByName("jx.util");goog.exportSymbol("jx.struct.TreeNode",g);goog.exportSymbol("jx.struct.Tree",k);goog.exportSymbol("TreeNode",g);goog.exportSymbol("Tree",k);g.getInstance=function(b){return new g(b)};
var e=g.prototype;e.destroy=function(){this.detach();delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children};e.destroyCompletely=function(){this.detachCompletely();delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children};e.destroyDown=function(){h.isNotNull(this.parent)&&this.parent.removeChild(this);this.traverse({post:!0,fn:function(){this.destroy()}})};e.detach=function(){delete this.parent;delete this.level;this.children.length=
0;this.childrenMap={}};e.detachCompletely=function(){h.isNotNull(this.parent)&&this.parent.removeChild(this);this.removeAllChildren();delete this.parent;delete this.level};e.detachDown=function(){h.isNotNull(this.parent)&&this.parent.removeChild(this);this.traverse({post:!0,fn:function(){this.detach()}})};e.isRoot=function(){return h.isNull(this.parent)};e.getRoot=function(){this.tree.root};e.isLeaf=function(){return 0===this.children.length};e.setParent=function(b){this.parent!==b&&(h.isNotNull(this.parent)&&
this.parent.removeChild(this),this.parent=b,delete this.level,h.isNotNull(b)&&b.addChild(this))};e.hasChild=function(b){return this.childrenMap.hasOwnProperty(b.nodeId)};e.addChild=function(b){this.hasChild(b)||(this.children.push(b),this.childrenMap[b.nodeId]=this.children.length-1,b.setParent(this))};e.addChildAt=function(b,a){var d;if(this.hasChild(a)){d=this.childrenMap[a.nodeId];if(d===b)return;this.children.removeAt(d)}this.children.addAt(b,a);h.isNotNull(d)&&d<b?this.resetChildIdx(d):this.resetChildIdx(b);
a.setParent(this)};e.removeChild=function(b){if(this.hasChild(b)){var a=this.childrenMap[b.nodeId];this.children.removeAt(a);delete this.childrenMap[b.nodeId];this.resetChildIdx(a);delete b.parent;delete b.level}};e.removeChildAt=function(b){var a=this.children[b];this.children.removeAt(b);delete this.childrenMap[a.nodeId];this.resetChildIdx(b);delete a.parent;delete a.level};e.resetChildIdx=function(b){h.isNull(b)&&(b=0);for(var a=this.children,d=a.length,c=this.childrenMap;b<d;b++)c[a[b].nodeId]=
b};e.removeAllChildren=function(){for(var b=0,a=this.children,d=a.length;b<d;b++)delete a[b].parent,delete a[b].level;a.length=0;this.childrenMap={}};e.getSiblings=function(){if(this.isRoot())return[];var b=this.parent.children.slice();b.removeAt(this.parent.getChildIdx(this));return b};e.getChildIdx=function(b){return this.childrenMap[b.nodeId]};e.getIdx=function(){return this.isRoot()?-1:this.parent.getChildIdx(this)};e.getPath=function(){return this.traverse({res:[],up:!0,post:!0,fn:function(b){this.isRoot()||
b.res.push(this.getIdx())}}).res};e.getAncestors=function(){var b={res:[],up:!0,post:!0,fn:function(a){a.res.push(this)}};this.traverse(b);b.res.pop();return b.res};e.getDescendents=function(){var b={res:[],fn:function(a){a.res.push(this)}};this.traverse(b);b.res.shift();return b.res};e.getLevel=function(){return this.isRoot()?this.level=-1:this.level=this.parent.getLevel()+1};e.find=function(b){return this.traverse({fn:function(a){this.data===b&&(a.res=this,a.stop=!0)}}).res};e.traverse=function(b,
a){if(b.stop)return b;if(b.up)this.isRoot()?this.callFn(b):b.post?(this.parent.traverse(b),this.callFn(b)):(this.callFn(b),this.parent.traverse(b));else{var d=0,c=this.children,f=c.length;if(b.post){for(;d<f;d++)c[d].traverse(b,d);this.callFn(b,a)}else if(this.callFn(b,a),!1===b.propagate)delete b.propagate;else for(;!b.stop&&d<f;d++)c[d].traverse(b,d)}return b};e.traverseChildren=function(b){for(var a=0,d=this.children,c=d.length;a<c;a++)d[a].traverse(b,a)};e.traverseParent=function(b){h.isNotNull(this.parent)&&
this.parent.traverse(b)};e.callFn=function(b,a){b.stop||(h.isNull(b.target)?h.callFn(this,b.fn,b,a):(b.node=this,h.callFn(b.target,b.fn,b,a)))};k.getInstance=function(b){return new k(b)};e=k.prototype;e.__init=function(){this.makeTree()};e.destroy=function(){this.root.destroyDown();this.map={};this.emptyInfants();delete this.list;delete this._options;delete this.map;delete this.root;delete this.infants;delete this.mid};e.detach=function(){this.root.detachDown();this.emptyInfants()};e.emptyInfants=
function(){var b,a=this.infants;for(b in a)a.hasOwnProperty(b)&&(a[b].length=0);this.infants={}};e.reattach=function(b){this.detach();h.isNull(b)&&(b=this.list);for(var a=this._options.nodeKey,d=this.map,c=b.length,f=0;f<c;f++)this.attachNode(d[b[f][a]])};e.makeTree=function(b){h.isNull(b)&&(b=this.list);for(var a=0,d=b.length;a<d;a++)this.createNode(b[a])};e.hasNode=function(b){return h.isNotNull(b)&&this.map.hasOwnProperty(b[this._options.nodeKey])};e.getNode=function(b){return this.map[b[this._options.nodeKey]]};
e.getNodeByNodeId=function(b){return this.map[b]};e.createNode=function(b){if(!this.hasNode()){var a=b[this._options.nodeKey];b=new g({tree:this,data:b,nodeId:a});this.map[a]=b;this.attachNode(b);return b}};e.adoptInfants=function(b,a){if(this.infants.hasOwnProperty(a)){for(var d=this.infants[a],c=0,f=d.length;c<f;c++)b.addChild(d[c]);d.length=0;delete this.infants[a]}};e.attachNode=function(b){var a=b.nodeId,d=b.data[this._options.parentKey];this.adoptInfants(b,a);if(h.isNull(d)||d==a)return this.root.addChild(b),
!0;if(this.map.hasOwnProperty(d))return this.map[d].addChild(b),!0;this.addToInfants(b,d);return!1};e.changeNodeId=function(b,a,d){a!==d&&(delete this.map[a],this.map[d]=b,this.removeChildren(b),b.nodeId=b.data[this._options.nodeKey]=d,h.isNotNull(b.parent)&&(b.parent.childrenMap[d]=b.parent.childrenMap[a],delete b.parent.childrenMap[a]),this.adoptInfants(b,d))};e.changeParentId=function(b,a,d){a!==d&&(h.isNull(b.parent)&&this.removeFromInfants(b,a),a=this.map[d],b.setParent(a),b.data[this._options.parentKey]=
d,h.isNull(a)&&this.addToInfants(b,d))};e.destroyNodeByData=function(b){this.destroyNode(this.getNode(b))};e.destroyNode=function(b){this.removeChildren(b);this.removeFromInfants(b);this.removeFromMap(b);b.destroyCompletely()};e.removeFromMap=function(b){delete this.map[b.nodeId]};e.addToInfants=function(b,a){this.infants.hasOwnProperty(a)||(this.infants[a]=[]);this.infants[a].push(b)};e.removeFromInfants=function(b,a){h.isNull(a)&&(a=b.data[this._options.parentKey]);this.infants.hasOwnProperty(a)&&
(this.infants[a].remove(b),0===this.infants[a].length&&delete this.infants[a])};e.removeChildren=function(b){0!==b.children.length&&(this.infants.hasOwnProperty(b.nodeId)||(this.infants[b.nodeId]=[]),this.infants[b.nodeId].pushList(b.children),b.removeAllChildren())};e.sortList=function(b){h.isNull(b)?b=[]:b.length=0;this.root.traverseChildren({fn:function(){b.push(this.data)}})}})();jx.grid.Column={};
(function(){function g(g){if(!(g.manager&&"object"==typeof g.manager))throw Error("Column needs a valid manager!");this.manager=g.manager;this.key=g.key+"";if(!this.key)throw Error("Column needs a non-empty key!");var e="column key="+this.key;if(this.manager.hasKey(this.key))throw Error("Duplicate column key!"+e);this.name=g.name?g.name+"":"";this.title=g.title?g.title+"":"";this.noName=!!g.noName;this.noTitle=!!g.noTitle;this.type=g.type+""||null;this.defaultValue=g.defaultValue;this.inputOnCreate=
!!g.inputOnCreate;this.width=(this.width=Number(g.width))||90;this.minW=(this.minW=Number(g.minW))||30;this.maxW=Number(g.maxW)||null;this.resizable=!!g.resizable;this.hidden=!!g.hidden;this.noSearch=!!g.noSearch;this.tooltipEnabled=!!g.tooltipEnabled;this.colClass=g.colClass+""||null;this.style=g.style+""||null;this.headerStyle=g.headerStyle+""||null;if(g.parser&&"function"!=typeof g.parser)throw Error("Invalid parser!"+e);this.parser=g.parser||null;if(g.validator&&"function"!=typeof g.validator)throw Error("Invalid validator!"+
e);this.validator=g.validator||null;if(g.renderer&&"function"!=typeof g.renderer)throw Error("Invalid renderer!"+e);this.renderer=g.renderer||null;if(g.sumRenderer&&"function"!=typeof g.sumRenderer)throw Error("Invalid sum renderer!"+e);this.sumRenderer=g.sumRenderer||null;if(g.editor&&"object"!=typeof g.editor)throw Error("Invalid editor!"+e);this.editor=g.editor||null;this.sorter=g.sorter||null;this.filter=g.filter||null}var k=goog.getObjectByName("jx.events.EventDispatcher");goog.exportSymbol("jx.grid.Column",
g);goog.inherits(g,k);k=g.prototype;k.show=function(){return this.hidden?(this.hidden=!1,this.dispatchEvent({type:"hidden",value:!1}),!0):!1};k.hide=function(){return!this.hidden?(this.hidden=!0,this.dispatchEvent({type:"hidden",value:!0}),!0):!1};k.setHidden=function(g){return g?this.hide():this.show()};k.setWidth=function(g){return(g=Number(g))&&this.width!==g?(this.width=g,this.dispatchEvent({type:"width",value:g}),g):!1};k.setRenderer=function(g){if(this.renderer!==g){if(g&&"function"!=typeof g)throw Error("Invalid renderer!column key="+
this.key);this.renderer=g||null;this.dispatchEvent({type:"renderer",value:g})}}})();jx.grid.Cell={};
(function(){function g(a){this.grid=a.grid;this._datarow=a.datarow;this._colDef=a.colDef;this.__init(a)}goog.getObjectByName("jx.grid");var k=goog.getObjectByName("jx.util"),h=goog.getObjectByName("jx.lang.Disposable");goog.exportSymbol("jx.grid.Cell",g);goog.inherits(g,h);g.getInstance=function(a){return new g(a)};var e=g.prototype,b=h.prototype.dispose;e.dispose=function(){b.call(this)};e.__init=function(a){k.isNull(this._datarow)&&(k.isNotNull(a.row)?this._datarow=this.grid.dataMgr.getByIdx(a.row):k.isNotNull(a.node)?
this._datarow=this.grid.dataMgr.getByNode(a.node.parentNode):k.isNotNull(a.$)&&(this._datarow=this.grid.dataMgr.getByNode(a.$[0].parentNode)));k.isNull(this._colDef)&&(k.isNotNull(a.col)?this._colDef=this.grid.colDefMgr.get(a.col):k.isNotNull(a.node)?this._colDef=this.grid.colDefMgr.get(k.index(a.node)):k.isNotNull(a.$)&&(this._colDef=this.grid.colDefMgr.get(k.index(a.$[0]))));k.isNullOr(this._datarow,this._colDef)&&k.isNotNull(a.event)&&(a=this.grid.view._getClosestCell(a.event.target),k.isNotNull(a)&&
(this._datarow=this.grid.dataMgr.getByNode(a.parentNode),this._colDef=this.grid.colDefMgr.get(k.index(a))))};e.destroy=function(){this.dispose()};e.getRowIdx=function(){if(k.isNotNull(this._datarow))return this.grid.dataMgr.getIdx(this._datarow)};e.getColIdx=function(){if(k.isNotNull(this._colDef))return this.grid.colDefMgr.getIdx(this._colDef)};e.getNode=function(){if(k.isNotNullAnd(this._datarow,this._colDef))return this.grid.view.getCellByIdAndKey(this.grid.dataMgr.getId(this._datarow),this._colDef.key)};
e.getRowNode=function(){return this.grid.view.getRow(this._datarow)};e.get$=function(){var a=this.getNode();return void 0!==a?$(a):$([])};e.getDatarow=function(){return this._datarow};e.getColDef=function(){return this._colDef};e.getKey=function(){if(k.isNotNull(this._colDef))return this._colDef.key};e.getId=function(){return this.grid.dataMgr.getId(this._datarow)};e.getValue=function(){if(k.isNotNullAnd(this._datarow,this._colDef))return this._datarow[this._colDef.key]};e.isValid=function(){return k.isNotNull(this.getNode())};
e.isInvalid=function(){return k.isNull(this.getNode())};e.isEmpty$=function(){return 0===this.get$().length};e.has$=function(){return 0!==this.get$().length};e.equals=function(a){return a&&this._datarow&&this._datarow===a._datarow&&this._colDef&&this._colDef===a._colDef}})();jx.grid.BaseModule={};
(function(){function g(e){e&&(null!=e.mid&&(this.mid=e.mid),e.grid&&(this.grid=e.grid));this._view=this._evtmgr=this._colmgr=this._datamgr=null;var b=this._defaultOptions&&this._defaultOptions(e.grid),a=e&&e.options;if(a||b)b||(b={}),a&&$.extend(!0,b,a),this._options=b,this.dispatchEvent({type:"afteroption",options:b});this._init&&(this.dispatchEvent({type:"beforeinit"}),this._init(e),this.dispatchEvent({type:"afterinit"}));var d=this,c=this.grid;c&&"Dispose CreateCss CreateDynamicCss Render Keydown Keyup Keypress Mousein Mouseout Mouseenter Mouseleave Mousemove Mouseover Mousedown Mouseup Click Dblclick Resize ResizeWidth ResizeHeight Scroll ScrollH ScrollV".split(" ").forEach(function(a){var b="before"+
a;a="after"+a;var m="_"+b,n="_"+a;d[m]&&c.addEventListener(b,function(a){return d[m](a)});d[n]&&c.addEventListener(a,function(a){return d[n](a)})});this._bindEvents&&(this.dispatchEvent({type:"beforebindevents"}),this._bindEvents(e),this.dispatchEvent({type:"afterbindevents"}));this.dispatchEvent({type:"complete"})}var k=goog.getObjectByName("jx.events.EventDispatcher");goog.exportSymbol("jx.grid.BaseModule",g);goog.inherits(g,k);var k=g.prototype,h=k.dispose;k._beforeDispose=function(){this.dispose()};
k._dispose=function(){delete this.grid;delete this._datamgr;delete this._colmgr;delete this._evtmgr;delete this._view;h.call(this)};k.dispose=function(){this.dispatchEvent({type:"beforedispose"});this._dispose()};k.getDataMgr=function(){return this._datamgr||(this._datamgr=this.grid.dataMgr)};k.getAllData=function(){return this.getDataMgr().all};k.getDataList=function(){return this.getDataMgr().datalist};k.getIdKey=function(){return this.getDataMgr().idKey};k.getColMgr=function(){return this._colmgr||
(this._colmgr=this.grid.colDefMgr)};k.getColumns=function(){return this.getColMgr().get()};k.getEventMgr=function(){return this._evtmgr||(this._evtmgr=this.grid.event)};k.getView=function(){return this._view||(this._view=this.grid.view)};k.getHeader=function(){return this.grid.header};k.bindGridEvent=function(){var e=this.getEventMgr();return e.bind.apply(e,arguments)};k.triggerGridEvent=function(){var e=this.getEventMgr();return e.trigger.apply(e,arguments)};k.toCssStyle=function(e,b,a){var d=[];
a||(e="#"+this.grid.mid+" "+e);if("string"!=typeof b){var c;a="";b.hasOwnProperty("_prepend")&&(b._prepend&&d.push(b._prepend),delete b._prepend);b.hasOwnProperty("_append")&&(b._append&&(a=";"+b._append),delete b._append);for(c in b)d.push(c+":"+b[c]);d=d.join(";")+a}return e+"{"+d+"}"};k.toCssStyles=function(e,b,a){e=e||[];for(var d in b)e.push(this.toCssStyle(d,b[d],a));return e}})();jx.grid.EventManager={};
(function(){function g(b){this.mid=b.mid;this.grid=b.grid;this.grid.event=this;this._map={}}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.EventManager",g);g.getInstance=function(b){return new g(b)};var e=g.prototype;e.destroy=function(){var b,a=this._map;for(b in a)a.hasOwnProperty(b)&&k._deleteArray(a,b);k._destroy(this,{name:"EventManager",path:"event",map:"_map"})};e.register=function(b,a,d){if(h.isString(b))this._parseAndAdd(b,
a,d);else if(h.isNotNull(b.e))this._parseAndAdd(b.e,b.f,b.t);else{a=0;d=b.length;for(var c;a<d;a++)h.isNotNull(c=b[a])&&this._parseAndAdd(c.e,c.f,c.t)}};e.bind=function(b,a,d){if(h.isString(b))this._parseAndAdd(b,a,d);else for(var c in b)b.hasOwnProperty(c)&&this._parseAndAdd(c,b[c],a)};e._parseAndAdd=function(b,a,d){h.isNull(d)&&(d=window);b=h.split(b);var c=b.length,f=0;if(h.isFunction(a))for(;f<c;f++)this._addHandler(b[f],a,d);else if(h.isString(a)){a=h.split(a);for(var l=a.length,m,n;f<c;f++){m=
b[f];for(n=0;n<l;n++)this._addHandler(m,d[a[n]],d)}}else for(l=a.length;f<c;f++){m=b[f];for(n=0;n<l;n++)this._addHandler(m,a[n],d)}};e._addHandler=function(b,a,d){this._map.hasOwnProperty(b)||(this._map[b]=[]);this._map[b].push({fn:a,target:d})};e.unregister=function(b,a){var d=this._map;if(d.hasOwnProperty(b)){var c=d[b];if(h.isNull(a))c.length=0,delete d[b];else for(var f=0,l=c.length;f<l;f++)if(c[f].fn===a){c.removeAt(f);0===c.length&&delete d[b];break}}};e.trigger=function(b,a,d,c){var f=this._map;
if(f.hasOwnProperty(b)&&(b=f[b],f=b.length)){var l=0;if(d)if(a&&a.length)for(;l<f;l++)d=b[l],d.fn.apply(d.target,a);else for(;l<f;l++)d=b[l],d.fn.call(d.target);else{c=c||[];if(a&&a.length)for(;l<f;l++)d=b[l],c.push(d.fn.apply(d.target,a));else for(;l<f;l++)d=b[l],c.push(d.fn.call(d.target));return c}}};e.triggerMultiple=function(b,a,d){b=b.split(",");var c=0,f=b.length;if(d){for(d=[];c<f;c++)this.trigger(b[c],a,!1,d);return d}for(;c<f;c++)this.trigger(b[c],a,!0)};e.triggerInvalid=function(b,a){var d=
this.trigger(b,a);return d&&d.some(function(a){return!1===a})};e.sendToBack=function(b,a){for(var d=this._map[b],c=d.length,f,l=-1,m=0;m<c;m++)if(d[m].fn===a){l=m;f=d[m];break}-1<l&&(d.removeAt(m),d.push(f))};e.sendToFront=function(b,a){for(var d=this._map[b],c=d.length,f,l=-1,m=0;m<c;m++)if(d[m].fn===a){l=m;f=d[m];break}-1<l&&(d.removeAt(m),d.unshift(f))}})();jx.grid.Grid={};
(function(){function g(a){this._origCtnr=a.container;this._origColDefs=h.deepClone(a.colDefs);this._origOpts=h.deepClone(a.options);this.mid=a.mid;this._mouseIn=!1;e.call(this,a)}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("echo");var e=goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("TimeWatch");goog.exportSymbol("jx.grid.Grid",g);g.V_KEYDOWN=3;g.V_KEYPRESS=3;g.V_KEYUP=3;g.V_MOUSEMOVE=5;g.V_MOUSEOVER=4;g.V_MOUSEOUT=4;g.V_MOUSEIN=4;
g.V_MOUSEDOWN=3;g.V_MOUSEUP=2;g.V_MOUSEENTER=3;g.V_MOUSELEAVE=3;g.V_CLICK=2;g.V_DBLCLICK=2;g.V_RESIZE=2;g.V_INIT=1;goog.inherits(g,e);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.reconstruct=function(a){a=a||{};a.datalist=a.datalist||this.dataMgr.all;a.container=a.container||this._origCtnr;a.colDefs=a.colDefs||this._origColDefs;a.options=a.options||this._origOpts;a.mid=this.mid;delete this._origCtnr;delete this._origColDefs;delete this._origOpts;this.destroy(!0);g.call(this,a)};
b._defaultOptions=function(){return{classGrid:"jgrid",border:"1px solid #868686",width:"",font:"15px Arial,Helvetica,sans-serif",style:"",borderSide:!0,imageUrl:"../images/",initColumnSettings:void 0,links:{data:"dataMgr.all",datalen:"dataMgr.all.length",shown:"dataMgr.datalist",set:"dataMgr.set",add:"dataMgr.add",addList:"dataMgr.addList",update:"dataMgr.update",updateByKey:"dataMgr.updateByKey",updateList:"dataMgr.updateList",remove:"dataMgr.remove",removeList:"dataMgr.removeList",select:"dataMgr.executeSelect",
undo:"dataMgr.undo",redo:"dataMgr.redo",addFilter:"dataMgr.addFilter",removeFilter:"dataMgr.removeFilter",check:"collapser.checkMgr.checkList checkMgr.checkList",checked:"collapser.checkMgr.getCheckList checkMgr.getCheckList",removeChecked:"collapser.checkMgr.removeChecked checkMgr.removeChecked",register:"event.register",trigger:"event.trigger",bind:"event.bind",unregister:"event.unregister",unbind:"event.unregister",commit:"editMgr.commit",cancelEdit:"editMgr.cancel",beginEdit:"editMgr.begin",collen:"colDefMgr.length"},
autoWidth:!1,fixColWRatio:!1,showMessage:!1,lang:"ko",translations:void 0,EventManager:void 0,ColDefManager:void 0,DataManager:void 0,CheckManager:void 0,RowNumber:void 0,SettingsManager:void 0,MenuBar:void 0,Collapser:void 0,ColGroup:void 0,SelectionManager:void 0,EditManager:void 0,ColHeader:void 0,SearchManager:void 0,ViewportManager:void 0,TooltipManager:void 0,DataCreator:void 0,Footer:void 0}};b.getElementId=function(){var a=this._origCtnr;return a.attr?a.attr("id"):a.getAttribute?a.getAttribute("id"):
a.id};b._init=function(a){var d=this._ctnr=a.container,c=this._options,f;this.name=c.name;this._drag=!1;this._lastH=this._lastW=null;this._vars={scrollbarDim:void 0};if(f=c.width){if("number"===typeof f||-1===f.indexOf("%"))f+="px"}else f="";this._transObj={};this._translations=$.extend(!0,{},k._translations,c.translations);this._lang=this._translations.hasOwnProperty(c.lang)?c.lang:"ko";d=this._ctnr=$("<div id='"+this.mid+"' class='"+c.classGrid+"' style='"+(f?"width:"+f+";":"")+(c.borderSide?"border:"+
c.border+";":"border-top:"+c.border+";border-bottom:"+c.border+";")+"' tabIndex='0'>").appendTo(Util$.safe$(d));this._vars.scrollbarDim=Util$.calScrollbarDims(d);f=this.event=k.create("EventManager",{grid:this,options:c.EventManager});this.colDefMgr=k.create("ColumnManager",{grid:this,colDefs:a.colDefs,options:c.ColDefManager});this.dataMgr=k.create("DataManager",{grid:this,datalist:a.datalist,options:c.DataManager});c.RowNumber&&(this.RowNumber=k.create("RowNumber",{grid:this,options:c.RowNumber}));
c.CheckManager&&(this.checkMgr=k.create("CheckManager",{grid:this,options:c.CheckManager}));if(!c.MenuBar&&(c.columnHideEnabled||c.SearchManager||c.SettingsManager))c.MenuBar={};c.Collapser&&(this.collapser=k.create("Collapser",{grid:this,options:c.Collapser}),this.collapser.__init());c.ColGroup&&(this.colGroup=k.create("ColumnGroup",{grid:this,options:c.ColGroup}));c.SelectionManager&&(this.selMgr=k.create("SelectionManager",{grid:this,options:c.SelectionManager}));c.EditManager&&(this.editMgr=k.create("EditManager",
{grid:this,options:c.EditManager}));c.ColHeader&&(this.header=k.create("ColumnHeader",{grid:this,container:d,options:c.ColHeader}));c.autoWidth?(f.bind("onResizeCanvasWidth",this.width,this),this._autoWidth=!0):this._autoWidth=!1;this._lastW=d[0].clientWidth||d.width();this._lastH=d[0].clientHeight||d.height();this.view=k.create("ViewportManager",{grid:this,container:d,options:c.ViewportManager});c.Footer&&(this.footer=k.create("Footer",{grid:this,container:d,options:c.Footer}));c.MenuBar&&(this.menubar=
k.create("MenuBar",{grid:this,container:d,options:c.MenuBar}));c.SearchManager&&(this.search=k.create("SearchManager",{grid:this,container:d,options:c.SearchManager}));c.DataCreator&&(this.creator=k.create("DataCreator",{grid:this,container:d,options:c.DataCreator}));c.SettingsManager&&(this.settings=k.create("SettingsManager",{grid:this,container:d,options:c.SettingsManager}));c.TooltipManager&&(this.tooltip=k.create("TooltipManager",{grid:this,container:d,options:c.TooltipManager}));if(c.initColumnSettings)if(a=
typeof c.initColumnSettings,"function"==a){a=c.initColumnSettings;var b=this;this._ctnr.css("visibility","hidden");this._renderComplete=!1;a(function(a){b.setColumnSettings(a,!b._renderComplete);b._ctnr.css("visibility","visible")})}else"object"==a&&this.initColumnSettings(c.initColumnSettings);this._createCss();f.trigger("onBeforeRenderModules",!1,!0);f.trigger("onRenderModules",!1,!0);f.trigger("onAfterRenderModules",!1,!0);this._renderComplete=!0;this.msg=$("<div id='"+this.mid+"msg' class='msg' onmousedown='$(this).hide(1000)' style='position:relative;padding-left:4px;overflow:hidden;z-index:100;font-size:12px;height:21px;line-height:21px'></div>").appendTo(d).hide();
this._busyShader=$('<div style="position:absolute;background:black;opacity:0.3;filter:alpha(opacity=30)"></div>').appendTo(d).hide();this._lastW=d[0].clientWidth||d.width();this._lastH=d[0].clientHeight||d.height();this._registerLinks(c.links);c.fixColWRatio?(f.bind("resizeWidth",this.view.loadColWRatio,this.view),this._fixColWRatio=!0):this._fixColWRatio=!1};b._bindEvents=function(){k._bindGlobalEvents();var a=this;this._ctnr.bind({keydown:function(d){a._keydown(d)},keyup:function(d){a._keyup(d)},
keypress:function(d){a._keypress(d)},mousein:function(d){a._mousein(d)},mouseout:function(d){a._mouseout(d)},mouseenter:function(d){a._mouseenter(d)},mouseleave:function(d){a._mouseleave(d)},mouseover:function(d){a._mouseover(d)},mousedown:function(d){a._mousedown(d)},click:function(d){a._click(d)},dblclick:function(d){a._dblclick(d)}});this._charts=[]};b.destroy=function(a){try{if(!a){var d=k.grids.indexOf(this);-1<d&&k.grids.splice(d,1);null!=this.name&&delete k.gridMap[this.name]}this.dispatchEvent({type:"beforeDispose"});
a||h.isEmptyObj(k.m.Grid)&&k._unbindGlobalEvents();this.event.trigger("onDestroy",!1,!0);a?k._destroy(this,{module:"event",$:"_ctnr",map:"_options _translations _transObj",style:"_style _dynStyle"}):k._destroy(this,{name:"Grid",module:"event",$:"_ctnr",map:"_options _translations _transObj",style:"_style _dynStyle"});this.dispose()}catch(c){return this.log(c.stack),c}};b._registerLinks=function(a){var d,c,f,b,m,n,r,e,g,k;a:for(d in a)if(a.hasOwnProperty(d)&&!(d in this)){c=h.split(a[d]);f=c.length;
b=0;b:for(;b<f;b++)if(m=c[b].split("."),n=m.length,!(1>n)){r=this;e=this;g="";for(k=0;k<n;k++)if(m[k]in r)e=r,r=r[g=m[k]];else continue b;this._registerLink(d,r,e,g);continue a}}};b._registerLink=function(a,d,c,f){if(this.hasOwnProperty(a))return!1;h.isFunction(d)?this[a]=function(){return d.apply(c,arguments)}:this[a]=function(){return c[f]};return!0};b._createCss=function(){var a={type:"beforeCreateCss",css:[]},d=this._options,c=this.event;this.dispatchEvent(a);var f=c.trigger("onCreateCss"),f=
f?f.join(""):"",a=h.sprint("%selector%{zoom:1;font:%font%;%border%%style%}%submodule%",{selector:"#"+this.mid,position:"relative",font:d.font,style:d.style,submodule:a.css.join("")+f});this._style=h.createStyle(a);a={type:"beforeCreateDynamicCss",css:[]};this.dispatchEvent(a);f=(f=c.trigger("onCreateDynamicCss"))?f.join(""):"";this._dynStyle=h.createStyle(a.css.join("")+""+f)};b._recreateDynamicCss=function(){var a=this.event.trigger("onCreateDynamicCss");(a=a?a.join(""):"")&&h.setStyle(this._dynStyle,
a)};b._keydown=function(a){var d=this.event,c=[a];a=a.which;d.triggerInvalid("onBeforeKeydown",c)||(d.trigger("keydown_"+a,c,!0),d.trigger("keydown",c,!0))};b._keyup=function(a){var d=this.event,c=[a];a=a.which;d.triggerInvalid("onBeforeKeyup",c)||(d.trigger("keyup_"+a,c,!0),d.trigger("keyup",c,!0))};b._keypress=function(a){var d=this.event,c=[a];a=a.which;d.triggerInvalid("onBeforeKeypress",c)||(d.trigger("keypress_"+a,c,!0),d.trigger("keypress",c,!0))};b._mousein=function(a){var d=this.event;a=
[a];d.triggerInvalid("onBeforeMousein",a)||(this._drag&&d.trigger("dragin",a,!0),d.trigger("mousein",a,!0))};b._mouseout=function(a){var d=this.event;a=[a];d.triggerInvalid("onBeforeMouseout",a)||(this._drag&&d.trigger("dragout",a,!0),d.trigger("mouseout",a,!0))};b._mouseenter=function(a){var d=this.event;a=[a];this._mouseIn=!0;d.triggerInvalid("onBeforeMouseenter",a)||(this._drag&&d.trigger("dragenter",a,!0),d.trigger("mouseenter",a,!0))};b._mouseleave=function(a){var d=this.event;a=[a];this._mouseIn=
!1;d.triggerInvalid("onBeforeMouseleave",a)||(this._drag&&d.trigger("dragleave",a,!0),d.trigger("mouseleave",a,!0))};b._mousemove=function(a){var d=this.event;a=[a];d.triggerInvalid("onBeforeMousemove",a)||(this._drag&&d.trigger("dragmove",a,!0),d.trigger("mousemove",a,!0))};b._mouseover=function(a){var d=this.event;a=[a];d.triggerInvalid("onBeforeMouseover",a)||(this._drag&&d.trigger("dragover",a,!0),d.trigger("mouseover",a,!0))};b._mousedown=function(a){var d=this.event;a=[a];this._drag&&!d.triggerInvalid("onBeforeMouseup",
a)&&d.trigger("mouseup",a,!0);this._drag=!0;d.triggerInvalid("onBeforeMousedown",a)||d.trigger("mousedown",a,!0)};b._mouseup=function(a){var d=this.event;a=[a];this._drag=!1;d.trigger("unsetDrag",!1,!0);d.triggerInvalid("onBeforeMouseup",a)||d.trigger("mouseup",a,!0)};b._click=function(a){var d=this.event;a=[a];d.triggerInvalid("onBeforeClick",a)||d.trigger("click",a,!0)};b._dblclick=function(a){var d=this.event;a=[a];d.triggerInvalid("onBeforeDblclick",a)||d.trigger("dblclick",a,!0)};b._resize=function(a){var d=
this.event,c=!1,f=this._ctnr,b=f[0],m=this._lastW,n=this._lastH,e=b.clientWidth||f.width(),f=b.clientHeight||f.height();1<=e&&m!==e&&(d.trigger("resizeWidth",[e,m],!0),this._lastW=e,c=!0);1<=f&&n!==f&&(d.trigger("resizeHeight",[f,n],!0),this._lastH=f,c=!0);c&&d.trigger("resize",[a],!0)};b.width=function(a){var d=this._ctnr[0],c=d.clientWidth||this._ctnr.width(),f=this.event;if(!a)return c;"number"!=typeof a&&(a=parseInt(a,10));if(1>a||a===c||!isFinite(a))return c;d.style.width=a+"px";f.trigger("resizeWidth",
[a,this._lastW],!0);this._lastW=a;f.trigger("resize",!1,!0);return a};b.height=function(a){var d=this._ctnr[0],c=d.clientHeight,f=this.event;if(!a)return c;"number"!=typeof a&&(a=parseInt(a,10));if(1>a||a===c||!isFinite(a))return c;d.style.height=a+"px";f.trigger("resizeHeight",[a,this._lastH],!0);this._lastH=a;f.trigger("resize",!1,!0);return a};b.initColumnSettings=function(a){a&&this.colDefMgr.setColumnSettings(a,!0)};b.setColumnSettings=function(a,d){a&&this.colDefMgr.setColumnSettings(a,d)};
b.getColumnSettings=function(a){return this.colDefMgr.getColumnSettings(a)};b.syncScroll=function(){this.view._scroll()};b.getCellByIdAndKey=function(a,d){if(null==a||null==d)return null;var c=this.dataMgr.getById(a);if(!c)return null;var f=this.colDefMgr.getByKey(d);return!f?null:k.create("Cell",{grid:this,datarow:c,colDef:f})};b.getCellByIdx=function(a,d){if(null==a||null==d)return null;var c=this.dataMgr.getByIdx(a);if(!c)return null;var f=this.colDefMgr.get(d);return!f?null:k.create("Cell",{grid:this,
datarow:c,colDef:f})};b.busy=function(){if(this._busyShader&&!this._busy){var a=this._ctnr,d=a.offset(),c=a[0],a=c.clientWidth+1,c=c.clientHeight+1,f=this._busyShader,b=f[0].style;b.top=d.top+"px";b.left=d.left+"px";b.width=a+"px";b.height=c+"px";f.show()}this._busy=!0};b.idle=function(){this._busyShader&&this._busy&&this._busyShader.hide();this._busy=!1};b.error=function(a){for(var d=k.error[a],c=1,f=arguments.length;c<f;c++)d=d.replace(RegExp("%"+(c-1),"g"),arguments[c]);d=Error(d);d.code=a;this.printError(d.message);
this.event.trigger("onError",[d],!0);return d};b.printError=function(a){if(this._options.showMessage){var d=this.msg,c=d[0],f=c.style;c.innerHTML=a;f.width=this._ctnr[0].clientWidth+"px";f.background="#ffebe8";f.color="#333";d.show();clearTimeout(this.timeout);this.timeout=setTimeout(function(){d.hide(1E3)},5E3)}};b.printMessage=function(a){if(this._options.showMessage){var d=this.msg,c=d[0],f=c.style;c.innerHTML=a;f.width=this._ctnr[0].clientWidth+"px";f.background="#dfdfdf";f.color="#6f6f6f";d.show();
clearTimeout(this.timeout);this.timeout=setTimeout(function(){d.hide(1E3)},5E3)}};b.setLang=function(a){if(this._translations.hasOwnProperty(a)){if(a=a.toLowerCase(),this._lang!==a){var d=this._lang;this._lang=a;this.event.trigger("onChangeLanguage",[d,a])}}else this.printError("ERROR: Language "+a+" is not supported.")};b.getTranslation=function(a){a||(a=this._lang);if(!this._translations.hasOwnProperty(a))return this.printError("ERROR: Language "+a+" is not supported."),null;var d=this;this._transObj.hasOwnProperty(a)||
(this._transObj[a]={get:function(c){if(!c)return d.printError("ERROR: translation for key "+c+" does not exist"),null;for(var f=c.split("."),b=f.length,m=d._translations[a],n=0;n<b;n++)if(m.hasOwnProperty(f[n]))m=m[f[n]];else return d.printError("ERROR: translation for key "+c+" does not exist"),null;return"string"!==typeof m?(d.printError("ERROR: translation for key "+c+" does not exist"),null):m}});return this._transObj[a]};b.containsEvent=function(a){return h.contains(this._ctnr[0],a.target)};
b.getChart=function(a){return this._charts[a]};b.getShownColumns=function(){return this.colDefMgr.get().filter(function(a){return 0<a.width})};b.chart=function(a,d,c,f,b,m){var n;d=d.toLowerCase();switch(d){case "area":d="corechart";n="AreaChart";break;case "bar":d="corechart";n="BarChart";break;case "candle":d="corechart";n="CandlestickChart";break;case "column":d="corechart";n="ColumnChart";break;case "combo":d="corechart";n="ComboChart";break;case "gauge":d="gauge";n="Gauge";break;case "geo":d=
"geochart";n="GeoChart";break;case "line":d="corechart";n="LineChart";break;case "pie":d="corechart";n="PieChart";break;case "scatter":d="corechart";n="ScatterChart";break;case "table":d="table";n="Table";break;case "treemap":d="treemap";n="TreeMap";break;default:throw Error("unknown chart type: "+d);}google.load("visualization","1",{packages:[d]});var e=this,g=this.colDefMgr,h=this.dataMgr,k=c.map(function(a){if(a=g.getByKey(a))return a;throw Error("column key not found");}),p=h.exportToArray(c,
b,m);google.setOnLoadCallback(function(){for(var d=new google.visualization.DataTable,g=0,s=k.length,x,y;g<s;g++){x=k[g];y=x.type;switch(y){case "boolean":y="boolean";break;case "int":case "integer":case "long":case "float":case "double":y="number";break;case "string":case "text":y="string"}d.addColumn(y||p[0]&&null!=p[0][g]&&typeof p[0][g]||0===g&&"string"||"number",x.name)}d.addRows(p);var w=e._charts[a]=new google.visualization[n](document.getElementById(a));w.draw(d,f);e.event.bind("onAfterRefresh",
function(){d.removeRows(0,d.getNumberOfRows());d.addRows(h.exportToArray(c,b,m));w.draw(d,f)});e.event.trigger("onChartLoaded",[w,d],!0)})}})();jx.data={};jx.data.DataManager={};
(function(){function g(b){this.mid=b.mid;this.grid=b.grid;this.grid.dataMgr=this;this.all=[];this.datalist=[];this.failed=[];this._options=k._extend({idKey:void 0,idColKeys:[],uniqueKeys:[]},b.options);this._consts={_auto:0,_given:1,_composite:2,_notReal:this.mid+"@NR"+h.random(1E4),_add:0,_addList:1,_update:2,_updateList:3,_remove:4,_removeList:5,unknown:0,number:1,string:2,"boolean":3,date:4,"enum":5};null!=this._options.idKey?(this._idMode=this._consts._given,this.idKey=this._options.idKey):(this._idMode=
0!==this._options.idColKeys.length?this._consts._composite:this._consts._auto,this.idKey="J@I"+this.mid+"@"+h.random(1E4));this._increment=1;this._idToIdx={};this._idToData={};this._sorters=[];this._filters=[];this._history=[];this._redoHistory=[];this.uniqueMap=!1;this.__init(b)}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.Grid");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.data.DataManager",g);k._add("DataManager",g);g.getInstance=
function(b){return new g(b)};var e=g.prototype;e.__init=function(b){var a=this.uniqueMap={},d=0,c,f=this._options.uniqueKeys,l=!1;if(f&&f.length){l=!0;for(c=f.length;d<c;d++)a[f[d]]={}}var f=this.grid.colDefMgr.getAll(),m,d=0;for(c=f.length;d<c;d++)m=f[d],m.unique&&(l=!0,a[m.key]={});l||(this.uniqueMap=!1);this.bindEvents();this.set(b.datalist)};e.bindEvents=function(){this.grid.event.bind({onDestroy:this._destroy,keydownCanvas:this._keydownCanvas},this)};e._destroy=function(){this.cleanList(this.all);
k._destroy(this,{name:"DataManager",path:"dataMgr",property:"all _idMode _increment idKey",map:"_consts _idToIdx _idToData _options",array:"datalist failed _history _redoHistory _filters _sorters"})};e.addUniqueIndex=function(b,a,d){if(!d.hasOwnProperty(a))return this.grid.error("KEY_UNDEFINED",a);var c=d[a];if(null==c||""===c)return this.grid.error("BAD_NULL",a);if(b.hasOwnProperty(c))return b[c]===d?!1:this.grid.error("DUP_ENTRY",c,a);b[c]=d;return!0};e.addUniqueIndices=function(b,a,d){var c,f=
d.length,l=[],m,n;for(c=0;c<f;c++)if(n=d[c])if(m=this.addUniqueIndex(b,a,n)){if(m instanceof Error)return this.removeUniqueIndices(b,a,l),m;l.push(b[n[a]]=n)}return 0<l.length};e.updateUniqueIndex=function(b,a,d,c,f){if(c.hasOwnProperty(a)){if(!f.hasOwnProperty(a)||!d.hasOwnProperty(a))return this.grid.error("KEY_UNDEFINED",a);if(!b.hasOwnProperty(f=f[a]))return this.grid.error("KEY_NOT_FOUND",f,a);c=c[a];if(null==c||""===c)return this.grid.error("BAD_NULL",a);if(b.hasOwnProperty(c))return b[c]===
d?!1:this.grid.error("DUP_ENTRY",c,a);b[c]=d;delete b[f];return f}return!1};e.updateUniqueIndices=function(b,a,d,c,f,l){if(!0!==l){if(h.isEmptyObj(b)||h.isEmptyString(a)||h.isEmptyArray(d)||h.isEmptyArray(c)||h.isEmptyArray(f))return!1;if(d.length!==c.length||d.length!==f.length)return this.grid.error("LENGTH_NOT_EQUAL")}l=0;for(var m=d.length,n,e,g,k=[],q=[],p=[],u,v;l<m;l++)if(!h.isNull(n=d[l]))if((g=c[l]).hasOwnProperty(a)){e=f[l];if(!e.hasOwnProperty(a)||!n.hasOwnProperty(a))return this.updateUniqueIndices(b,
a,k,p,q),this.grid.error("KEY_UNDEFINED",a);if(!b.hasOwnProperty(v=e[a]))return this.updateUniqueIndices(b,a,k,p,q),this.grid.error("KEY_NOT_FOUND",v,a);if(h.isEmptyString(u=g[a]))return this.updateUniqueIndices(b,a,k,p,q),this.grid.error("BAD_NULL",a);if(b.hasOwnProperty(u)){if(b[u]===n)continue;this.updateUniqueIndices(b,a,k,p,q);return this.grid.error("DUP_ENTRY",u,a)}b[u]=n;delete b[v];k.push(n);q.push(g);p.push(e)}return!k.length?!1:{datalist:k,changes:q,befores:p}};e.removeUniqueIndex=function(b,
a,d){var c;d.hasOwnProperty(a)&&b.hasOwnProperty(c=d[a])&&delete b[c]};e.removeUniqueIndices=function(b,a,d,c){if(!(!0!==c&&(h.isEmptyObj(b)||h.isEmptyString(a)||h.isEmptyArray(d)))){var f=d.length,l,m;for(c=0;c<f;c++)m=d[c],m.hasOwnProperty(a)&&b.hasOwnProperty(l=m[a])&&delete b[l]}};e.addToUniqueMap=function(b){if(this.uniqueMap){var a=[],d,c=this.uniqueMap,f;for(d in c)if(c.hasOwnProperty(d)&&(f=this.addUniqueIndex(c[d],d,b))){if(f instanceof Error){d=0;for(var l=a.length;d<l;d++)this.removeUniqueIndex(c[a[d]],
a[d],b);return f}a.push(d)}return 0<a.length}return!1};e.addListToUniqueMap=function(b){if(this.uniqueMap){var a=this.uniqueMap,d=[],c,f;for(c in a)if(a.hasOwnProperty(c)&&(f=this.addUniqueIndices(a[c],c,b))){if(f instanceof Error){c=0;for(var l=d.length;c<l;c++)this.removeUniqueIndices(a[d[c]],d[c],b);return f}d.push(c)}return 0<d.length}return!1};e.updateUniqueMap=function(b,a,d){if(this.uniqueMap){var c,f=this.uniqueMap,l=[],m;for(c in f)if(f.hasOwnProperty(c)&&(m=this.updateUniqueIndex(f[c],c,
b,a,d))){if(m instanceof Error){c=0;for(var n=l.length;c<n;c++)this.updateUniqueIndex(f[l[c]],l[c],b,d,a);return m}l.push(c)}return 0<l.length}return!1};e.updateListUniqueMap=function(b,a,d){if(this.uniqueMap){var c,f=this.uniqueMap,l=[],m;for(c in f)if(f.hasOwnProperty(c)&&(m=this.updateUniqueIndices(f[c],c,b,a,d))){if(m instanceof Error){c=0;for(var n=l.length;c<n;c++)this.updateUniqueIndices(f[l[c]],l[c],b,d,a);return m}l.push(c)}return 0<l.length}return!1};e.removeFromUniqueMap=function(b){if(this.uniqueMap){var a,
d=this.uniqueMap;for(a in d)d.hasOwnProperty(a)&&this.removeUniqueIndex(d[a],a,b)}};e.removeListFromUniqueMap=function(b){if(this.uniqueMap){var a,d=this.uniqueMap;for(a in d)d.hasOwnProperty(a)&&this.removeUniqueIndices(d[a],a,b)}};e.addToIdMap=function(b){var a=this.idKey;switch(this._idMode){case this._consts._auto:b.hasOwnProperty(a)||(b[a]=this._increment++);case this._consts._given:case this._consts._composite:return this.addUniqueIndex(this._idToData,a,b)}return!1};e.addListToIdMap=function(b){var a=
this.idKey;switch(this._idMode){case this._consts._auto:for(var d=0,c,f=b.length;d<f;d++)if(!(c=b[d]).hasOwnProperty(a))c[a]=this._increment++;case this._consts._given:case this._consts._composite:return this.addUniqueIndices(this._idToData,a,b)}return!1};e.updateIdMap=function(b,a,d){if(h.isNullOr(b,d)||h.isEmptyObj(a))return!1;var c=this.idKey;switch(this._idMode){case this._consts._auto:if(a.hasOwnProperty(c))return this.grid.error("NOT_MODIFIABLE",c);case this._consts._given:return this.updateUniqueIndex(this._idToData,
c,b,a,d);case this._consts._composite:if(a.hasOwnProperty(c))return this.grid.error("NOT_MODIFIABLE",c);d=this._options.idColKeys;for(var f=d.length,l=0;l<f;l++)if(a.hasOwnProperty(d[l])){for(var m="",n=0,e,g,k={},q={},l=q[c]=b[c];n<f;n++)if(e=d[n],a.hasOwnProperty(e)){if(h.isEmptyString(g=a[e]))return this.grid.error("BAD_NULL",e);m+="&"+g}else m+="&"+b[e];b[c]=k[c]=m;if(l===m)break;a=this.updateUniqueIndex(this._idToData,c,b,k,q);a instanceof Error&&(b[c]=l);return a}}return!1};e.updateListIdMap=
function(b,a,d){if(h.isEmptyArray(b)||h.isEmptyArray(a)||h.isEmptyArray(d))return!1;var c=this.idKey,f=b.length,l=0;switch(this._idMode){case this._consts._auto:for(;l<f;l++)if(a[l].hasOwnProperty(c))return this.grid.error("NOT_MODIFIABLE",c);case this._consts._given:return this.updateUniqueIndices(this._idToData,c,b,a,d);case this._consts._composite:var m=this._idToData,n,e,g=this._options.idColKeys,k=g.length,q;d=[];for(var p,u,v=[],z=[],x=[],y,w;l<f;l++){n=b[l];e=a[l];if(e.hasOwnProperty(c)){y=
0;for(f=d.length;y<f;y++)v[y][c]=d[y];return this.grid.error("NOT_MODIFIABLE",c)}for(y=0;y<k;y++)if(e.hasOwnProperty(g[y])){q="";for(p=0;p<k;p++)if(u=g[p],e.hasOwnProperty(u)){if(h.isEmptyString(w=e[u])){y=0;for(f=d.length;y<f;y++)v[y][c]=d[y];return this.grid.error("BAD_NULL",u)}q+="&"+w}else q+="&"+n[u];n[c]!==q&&(v.push(n),z.push(p={}),x.push(u={}),d.push(u[c]=n[c]),n[c]=p[c]=q)}}if(!v.length)break;b=this.updateUniqueIndices(m,c,v,z,x);if(b instanceof Error){y=0;for(f=d.length;y<f;y++)v[y][c]=
d[y]}return b}return!1};e.removeFromIdMap=function(b){var a=this.idKey,d=this._idToData,c;h.isNotNull(b)&&(b.hasOwnProperty(a)&&d.hasOwnProperty(c=b[a]))&&delete d[c]};e.removeListFromIdMap=function(b){if(!h.isEmptyArray(b))for(var a=this.idKey,d=b.length,c=this._idToData,f,l,m=0;m<d;m++)l=b[m],l.hasOwnProperty(a)&&c.hasOwnProperty(f=l[a])&&delete c[f]};e.fillTemp=function(b,a){var d=this.grid.colDefMgr.getAll(),c=d.length,f,l,m=0;if(a&&a.isNew)for(;m<c;m++)l=d[m],f=l.key,l.nullOnCreate&&null==b[f]&&
(b[f]="J@H"+this._increment++)};e.fillTempList=function(b,a){var d=this.grid.colDefMgr.getAll(),c=d.length,f=b.length,l,m,n=0;if(a&&a.isNew)for(;n<c;n++)if(m=d[n],l=m.key,m.nullOnCreate)for(m=0;f;m++)b[m][l]="J@H"+this._increment++};e.query=function(b){if("string"===typeof b&&(b=$.trim(b),b.length)){var a,d,c,f,l;a=b.toLowerCase();d=b.indexOf(" ");if(-1!==d&&(c=a.substring(0,d),a=a.indexOf(" where "),f=-1<a,d=$.trim(f?b.substring(d+1,a):b.substring(d+1)),d.length))switch(f&&(l=$.trim(b.substring(a+
7))),c){case "select":return this.executeSelect(d,l);case "insert":return this.executeInsert(d,l);case "update":return this.executeUpdate(d,l);case "delete":return this.executeDelete(d,l)}}};e.parseWhere=function(b){"string"===typeof b&&$.trim(b)};e.executeSelect=function(b,a){var d=h.split(b,/[\s,]+/),c=d.length,f=0,l={},m=this.all,n=[];if(!c)return n;for(;f<c&&"*"!==d[f];f++)l[d[f]]=!0;f=0;for(c=m.length;f<c;f++)n.push(h.clone(m[f],l));return n};e.parse=function(b,a){var d=this.grid.colDefMgr,c=
d.getParser(),d=d.getNullOnCreate(),f,l=a&&a.isNew;try{for(f in c)if(c.hasOwnProperty(f)&&(!l||!d.hasOwnProperty(f)))b[f]=c[f](b[f],b)}catch(m){return this.grid.error("PARSE_ERROR",b[f],f)}return!0};e.parseList=function(b,a){var d=this.grid.colDefMgr,c=d.getParser(),d=d.getNullOnCreate(),f,l,m=a&&a.isNew,n,e=b.length,g;try{for(f in c)if(c.hasOwnProperty(f)&&(!m||!d.hasOwnProperty(f))){l=c[f];for(n=0;n<e;n++)g=b[n],g[f]=l(g[f],g)}}catch(h){return this.grid.error("PARSE_ERROR",g[f],f)}return!0};e.validate=
function(b,a){var d=this.grid.colDefMgr,c=d.getValidator(),d=d.getNullOnCreate(),f,l,m,n,e,g=a&&a.isNew;try{for(f in c)if(c.hasOwnProperty(f)&&(!g||!d.hasOwnProperty(f)))if(b.hasOwnProperty(f)&&null!=(l=b[f])?(n=!1,m="string"==typeof l?l:l.toString(),e=!m):(l=null,e=n=!0,m=""),!c[f](l,b,m,n,e))return this.grid.error("WRONG_VALUE",m,f)}catch(h){return this.grid.error("WRONG_VALUE",m,f)}return!0};e.validateList=function(b,a){var d=this.grid.colDefMgr,c=d.getValidator(),d=d.getNullOnCreate(),f,l,m=a&&
a.isNew,n,e=b.length,g,h,k,p,u;try{for(f in c)if(c.hasOwnProperty(f)&&(!m||!d.hasOwnProperty(f))){l=c[f];for(n=0;n<e;n++)if(u=b[n],u.hasOwnProperty(f)&&null!=(g=u[f])?(k=!1,h="string"==typeof g?g:g.toString(),p=!h):(g=null,p=k=!0,h=""),!l(g,u,h,k,p))return this.grid.error("WRONG_VALUE",h,f)}}catch(v){return this.grid.error("WRONG_VALUE",h,f)}return!0};e.makeCompositeKey=function(b,a){if(this._idMode===this._consts._composite&&(a||!b.hasOwnProperty(this.idKey))){for(var d=this._options.idColKeys,c=
d.length,f=0,l="";f<c;f++)l+="&"+b[d[f]];b[this.idKey]=l}};e.makeCompositeKeyList=function(b,a){if(this._idMode===this._consts._composite){var d=this.idKey,c=b.length,f=this._options.idColKeys,l=f.length,m,n=0,e,g;if(a)for(;n<c;n++){m=b[n];g="";for(e=0;e<l;e++)g+="&"+m[f[e]];m[d]=g}else for(;n<c;n++)if(!(m=b[n]).hasOwnProperty(d)){g="";for(e=0;e<l;e++)g+="&"+m[f[e]];m[d]=g}}};e.map=function(b){if(b){var a=this._idToData,d=this.idKey,c;this.makeCompositeKey(b);if(b.hasOwnProperty(d)&&a.hasOwnProperty(c=
b[d]))return a[c]}return null};e.mapList=function(b){if(b&&b.length){this.makeCompositeKeyList(b);for(var a=[],d=[],c=this.idKey,f=this._idToData,l=b.length,m=0,n,e;m<l;m++)(n=b[m]).hasOwnProperty(c)&&f.hasOwnProperty(e=n[c])?a.push(f[e]):d.push(n);return{mapped:a,unmapped:d}}return{mapped:[],unmapped:[]}};e.getById=function(b){return null!=b&&this._idToData.hasOwnProperty(b)?this._idToData[b]:null};e.getByIdx=function(b){return null!=b&&this.datalist.hasOwnProperty(b)?this.datalist[b]:null};e.getByNode=
function(b){return this.getById(this.getIdByNode(b))};e.getIdx=function(b){return this.getIdxById(this.getId(b))};e.getIdxById=function(b){return null!=b&&this._idToIdx.hasOwnProperty(b)?this._idToIdx[b]:-1};e.getIdxByNode=function(b){return this.getIdxById(this.getIdByNode(b))};e.getId=function(b){return b&&b.hasOwnProperty(this.idKey)?b[this.idKey]:null};e.getIdByIdx=function(b){return this.getId(this.getByIdx(b))};e.getIdByNode=function(b){return b?b.getAttribute("i"):null};e._reidxFrom=function(b){var a=
this.datalist,d=a.length,c=this.idKey,f=this._idToIdx;for(b=b||0;b<d;b++)f[a[b][c]]=b};e._reidx=function(b){this._idToIdx={};this._reidxFrom()};e.has=function(b){return this.hasById(this.getId(b))};e.hasById=function(b){return null==b?!1:this._idToIdx.hasOwnProperty(b)};e.contains=function(b){return this.containsById(this.getId(b))};e.containsById=function(b){return null==b?!1:this._idToData.hasOwnProperty(b)};e.set=function(b){var a=this.all;if(a===b||!a.length&&(!b||!b.length))return!1;b=b||[];
var d=this.grid.event;d.trigger("onBeforeDataChange",!1,!0);d.trigger("onBeforeSetDatalist",[a,b],!0);this.cleanList(a);if(this.uniqueMap){var c,a=this.uniqueMap;for(c in a)a.hasOwnProperty(c)&&(a[c]={})}this._idToData={};this._history.length=0;this._redoHistory.length=0;if(b.length){if((c=this.parseList(b))instanceof Error||(c=this.validateList(b))instanceof Error||(c=this.addListToUniqueMap(b))instanceof Error)return c;this.makeCompositeKeyList(b,!0);if((c=this.addListToIdMap(b))instanceof Error)return c}this.all=
b;d.trigger("onAfterSetDatalist",[b],!0);d.trigger("onDataChange",!1,!0);this.refresh();return!0};e.add=function(b,a){if(!b||this.map(b))return!1;var d=this.grid.event;d.trigger("onBeforeDataChange",!1,!0);this.fillTemp(b,a);var c;if((c=this.parse(b,a))instanceof Error||(c=this.validate(b,a))instanceof Error||(c=this.addToUniqueMap(b))instanceof Error||(c=this.addToIdMap(b))instanceof Error)return c;this.all.push(b);if(!a||!0!==a.undo)this._history.push({_action:this._consts._add,_target:b}),this._redoHistory.length=
0;d.trigger("onAddDatarow",[b,a],!0);d.trigger("onDataChange",!1,!0);(!a||!0!==a.noRefresh)&&this.refresh(a);return!0};e.addList=function(b,a){if(b&&b.length){var d=this.mapList(b).unmapped;if(!d.length)return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.fillTempList(b,a);var c;if((c=this.parseList(d,a))instanceof Error||(c=this.validateList(d,a))instanceof Error||(c=this.addListToUniqueMap(d))instanceof Error||(c=this.addListToIdMap(d))instanceof Error)return c;this.all.pushList(d);
if(!a||!0!==a.undo)this._history.push({_action:this._consts._addList,_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onAddDatalist",[d,a],!0);this.grid.event.trigger("onDataChange",!1,!0);(!a||!0!==a.noRefresh)&&this.refresh(a);return!0}return!1};e.updateByKey=function(b,a,d,c){var f={};f[a]=d;return this.update(b,f,c)};e.update=function(b,a,d){if(!b||!a)return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.grid.event.trigger("onBeforeUpdateDatarow",[b,a],!0);var c={},
f;for(f in a)a.hasOwnProperty(f)&&(b[f]===a[f]?delete a[f]:(c[f]=b[f],b[f]=a[f]));if(h.isEmptyObj(c))return!1;if((f=this.parse(b,d))instanceof Error||(f=this.validate(b,d))instanceof Error||(f=this.updateUniqueMap(b,a,c))instanceof Error||(f=this.updateIdMap(b,a,c))instanceof Error)return this._rollback(b,c),f;!1!==f&&this.grid.event.trigger("onIdChange",[b,f,b[this.idKey]],!0);if(!d||!0!==d.undo)this._history.push({_action:this._consts._update,_target:b,_before:c,_change:a}),this._redoHistory.length=
0;this.grid.event.trigger("onUpdateDatarow",[b,a,c,d],!0);this.grid.event.trigger("onDataChange",!1,!0);(!d||!0!==d.noRefresh)&&this.refresh(d);return!0};e.updateList=function(b,a){if(!b||!b.length)return!1;var d=this.grid.event;d.trigger("onBeforeDataChange",!1,!0);d.trigger("onBeforeUpdateDatalist",[b],!0);for(var c=[],f=[],l=[],m,n,e,g=b.length,k=0,q;k<g;k++){n={};m=b[k].datarow;e=b[k].change;for(q in e)e.hasOwnProperty(q)&&(m[q]===e[q]?delete e[q]:(n[q]=m[q],m[q]=e[q]));h.isNotEmptyObj(n)&&(c.push(m),
f.push(n),l.push(e))}if(!c.length)return!1;if((m=this.parseList(c,a))instanceof Error||(m=this.validateList(c,a))instanceof Error||(m=this.updateListUniqueMap(c,l,f))instanceof Error||(m=this.updateListIdMap(c,l,f))instanceof Error)return this._rollbackList(c,f),m;!1!==m&&d.trigger("onIdListChange",[m.list,m.befores,this.idKey],!0);if(!a||!0!==a.undo)this._history.push({_action:this._consts._updateList,_target:c,_before:f,_change:l}),this._redoHistory.length=0;d.trigger("onUpdateDatalist",[c,l,f,
a],!0);d.trigger("onDataChange",!1,!0);(!a||!0!==a.noRefresh)&&this.refresh(a);return!0};e._rollback=function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};e._rollbackList=function(b,a){for(var d=b.length,c=0,f,l,m;c<d;c++)for(m in f=b[c],l=a[c],l)l.hasOwnProperty(m)&&(f[m]=l[m])};e.remove=function(b,a){var d=this.map(b);if(d){this.grid.event.trigger("onBeforeDataChange",!1,!0);this.removeFromIdMap(d);this.removeFromUniqueMap(d);this.all.remove(d);if(!a||!0!==a.undo)this._history.push({_action:this._consts._remove,
_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onRemoveDatarow",[d,a],!0);this.grid.event.trigger("onDataChange",!1,!0);(!a||!0!==a.noRefresh)&&this.refresh(a);this.removeId(d);return!0}return!1};e.removeList=function(b,a){if(b&&b.length){var d=this.mapList(b).mapped;if(d.length){this.grid.event.trigger("onBeforeDataChange",!1,!0);this.removeListFromIdMap(d);this.removeListFromUniqueMap(d);this.all.removeList(d);if(!a||!0!==a.undo)this._history.push({_action:this._consts._removeList,
_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onRemoveDatalist",[d,a],!0);this.grid.event.trigger("onDataChange",!1,!0);(!a||!0!==a.noRefresh)&&this.refresh(a);this.cleanList(d);return!0}}return!1};e._keydownCanvas=function(b){if(b.ctrlKey)switch(b.which){case 90:this.undo();break;case 89:this.redo()}};e.undo=function(){if(!this._history.length)return!1;var b=this._history.pop();this._redoHistory.push(b);var a=b._target,d=b._before;switch(b._action){case this._consts._add:return this.remove(a,
{undo:!0});case this._consts._addList:return this.removeList(a,{undo:!0});case this._consts._update:return this.update(a,d,{undo:!0});case this._consts._updateList:for(var b=[],c=0,f=a.length;c<f;c++)b.push({datarow:a[c],change:d[c]});return this.updateList(b,{undo:!0});case this._consts._remove:return this.add(a,{undo:!0});case this._consts._removeList:return this.addList(a,{undo:!0})}};e.redo=function(){if(!this._redoHistory.length)return!1;var b=this._redoHistory.pop();this._history.push(b);var a=
b._target,d=b._change;switch(b._action){case this._consts._add:return this.add(a,{undo:!0});case this._consts._addList:return this.addList(a,{undo:!0});case this._consts._update:return this.update(a,d,{undo:!0});case this._consts._updateList:for(var b=[],c=0,f=a.length;c<f;c++)b.push({datarow:a[c],change:d[c]});return this.updateList(b,{undo:!0});case this._consts._remove:return this.remove(a,{undo:!0});case this._consts._removeList:return this.removeList(a,{undo:!0})}};e.equals=function(b,a){if(b&&
a){if(b===a)return!0;this._idMode===this._consts._composite&&(this.makeCompositeKey(b),this.makeCompositeKey(a));var d=this.idKey,c=b[d];return null==c?!1:c===a[d]}return!1};e.getReal=function(){var b=this._consts._notReal;return this.all.filter(function(a){return!a.hasOwnProperty(b)})};e.filterReal=function(b){var a=this._consts._notReal;return b.filter(function(d){return!d.hasOwnProperty(a)})};e.isReal=function(b){return b&&!b.hasOwnProperty(this._consts._notReal)};e.dropNonReal=function(b){if(b&&
b.length)for(var a=this._consts._notReal,d=b.length-1;0<=d;d--)b[d].hasOwnProperty(a)&&(delete b[d][a],b.removeAt(d))};e.removeIdCol=function(b){if(!(this._idMode===this._consts._given||!b||!b.length))for(var a=this.idKey,d=0,c=b.length;d<c;d++)b[d].hasOwnProperty(a)&&delete b[d][a]};e.removeId=function(b){b&&(this._idMode!==this._consts._given&&b.hasOwnProperty(this.idKey))&&delete b[this.idKey]};e.cleanList=function(b){b&&b.length&&(this.removeIdCol(b),this.dropNonReal(b))};e.setSorters=function(b){this.grid.event.trigger("onChangeSorter",
[this._sorters,b],!0);this._sorters=b};e.getSorters=function(){return this._sorters.slice()};e.setSorter=function(b){this.setSorters([b])};e.sort=function(b){if(!b||0==b.length)this.refresh({sorters:[]});else{for(var a=b.length,d=[],c,f,l=0;l<a;l++){if(!(c=this.grid.colDefMgr.getByKey(b[l].key))||!(f=c.sorter))return!1;f.desc=!!b[l].desc;d.push(f)}this.refresh({sorters:d})}return!0};e._sort=function(b){var a=function(a){return a.comparator?a.desc?function(c,d){return-a.comparator(c,d)}:a.comparator:
a.lexi?a.desc?function(c,d){return-(c[a.key]+"").localeCompare(d[a.key])}:function(c,d){return(c[a.key]+"").localeCompare(d[a.key])}:function(a,c){return a-c}};b?this.setSorters(b):b=this._sorters;if(b){var d=this.datalist,c=this.grid.event,f=[d],l=[],m=b.length,n;c.trigger("onBeforeSort",f,!0);if(0<m){for(n=0;n<m;n++)l.push(a(b[n]));h.compositeSort.call(null,d,l)}c.trigger("onAfterSort",f,!0)}};e.addFilter=function(b){this._filters.push(b);this.refresh()};e.removeFilter=function(b){var a=this._filters.length;
this._filters.remove(b);a!==this._filters.length&&this.refresh()};e._filter=function(){var b=this.datalist,a=this.failed,d=0,c=this._filters.length,f,l;this.grid.event.trigger("onBeforeFilter",[b,a],!0);b.length=0;b.pushList(this.all);for(a.length=0;d<c;d++){f=this._filters[d];for(l=b.length-1;0<=l;l--)f(b[l])||(a.push(b[l]),b.removeAt(l))}this.grid.event.trigger("onFilter",[b,a],!0);this.grid.event.trigger("onAfterFilter",[b,a],!0)};e._finish=function(b){this._reidx();this.grid.event.trigger("onAfterRefresh",
[b],!0)};e.refresh=function(b){this.grid.event.trigger("onBeforeRefresh",!1,!0);(!b||!b.noFilter)&&this._filter();b?b.noSort||(b.sorter?this._sort([b.sorter]):this._sort(b.sorters)):this._sort();this._finish(b)};e.exportRowToArray=function(b,a){if(!(b in this.datalist))return null;a||(a=this.grid.colDefMgr.getKeys());for(var d=this.datalist[b],c=[],f,l=0,m=a.length;l<m;l++)f=a[l],c.push(f in d?d[f]:null);return c};e.exportToArray=function(b,a,d,c){b=b||this.grid.colDefMgr.getKeys();c=c||this.datalist.slice(a,
d);d=[];for(var f,l,m=0,n=c.length,e,g=b.length;m<n;m++){f=c[m];e=0;for(a=[];e<g;e++)l=b[e],a.push(l in f?f[l]:null);d.push(a)}return d};e.select=function(b,a,d,c){b=b||this.grid.colDefMgr.getKeys();c=c||this.datalist.slice(a,d);d=[];for(var f,l,m=0,n=c.length,e,g=b.length;m<n;m++){f=c[m];e=0;for(a={};e<g;e++)l=b[e],a[l]=f.hasOwnProperty(l)&&null!=f[l]?f[l]:null;d.push(a)}return d};e.slice=function(b,a){return this.select(null,b,a)};g._lexi=function(b,a,d){var c=Object.prototype.toString;Object.prototype.toString=
"function"==typeof a?a:function(){return this[a]};b.sort();Object.prototype.toString=c;d&&b.reverse()}})();jx.grid.DataCreator={};
(function(){function g(b){this.mid=b.mid;this._ctnr=b.container;this._creator;this.grid=b.grid;this.grid.creator=this;this._options=k._extend({background:"#dfdfdf",borderThickness:0,border:"solid #D6D6D6",inputBorder:"solid #A7A7A7",inputBorderThickness:1,inputHeight:18,inputMargin:8,nameMargin:2,font:"12px Arial,Helvetica,sans-serif",height:28,padding:3,classCreatorIcon:"creator-icon",creatorIconUrl:this.grid._options.imageUrl+"data-creator-icon.png",creatorIconWidth:13,creatorIconHeight:13,classCreator:"data-creator",
classColName:"data-creator-name",inputBorderRadius:3},b.options);this._inputMap={};this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.Grid");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.DataCreator",g);g.getInstance=function(b){return new g(b)};var e=g.prototype;e.__init=function(){this._creator=$("<div class='"+this._options.classCreator+"'>").appendTo(this._ctnr);this.bindEvents()};e.bindEvents=function(){this.grid.event.bind({onRenderModules:this._onRenderModules,
onCreateCss:this._onCreateCss,onDestroy:this._destroy},this)};e._onCreateCss=function(){var b="#"+this.grid.mid+" .",a=this._options,d=[];d.push(b+a.classCreator+"{"+k._CONST._cssUnselectable+"float:left;width:100%;padding-left:8px;background:"+a.background+";border-top:"+(a.borderThickness+"px "+a.border)+";font:"+a.font+"}");d.push(b+a.classCreator+" button{float:left;margin:"+a.padding+"px "+a.padding+"px 0 0;height:"+(a.height-2*a.padding)+"px}");d.push(b+a.classCreator+" input{float:left;padding:0;margin-top:"+
(a.height-a.inputHeight-2*a.inputBorderThickness)/2+"px;height:"+a.inputHeight+"px;line-height:"+a.inputHeight+"px;border:"+a.inputBorderThickness+"px "+a.inputBorder+";border-radius:"+a.inputBorderRadius+"px;-moz-border-radius:"+a.inputBorderRadius+"px}");d.push(b+a.classCol+"{float:left;overflow:hidden;white-space:nowrap;line-height:"+a.height+"px;margin-right:"+a.inputMargin+"px}");d.push(b+a.classCol+" * {line-height:"+a.height+"px;}");d.push(b+a.classColName+"{float:left;margin-right:"+a.nameMargin+
"px}");d.push(b+a.classCreatorIcon+"{background:url("+a.creatorIconUrl+") no-repeat center;width:"+a.creatorIconWidth+"px;height:"+a.creatorIconHeight+"px}");return d.join("")};e._onRenderModules=function(){for(var b=[],a=this.grid.colDefMgr.getAll(),d=a.length,c,f=this._options,l=f.classCol,m=f.classColName,n=this,e=this._creator,g=this._inputMap,k=0,q=function(a){a.which===h.keyMapKeydown.enter&&n._addData()};k<d;k++)c=a[k],!0===c.inputOnCreate&&b.push("<div key='"+c.key+"' class='"+l+"'><div class='"+
m+"'>"+c.name+"</div><input type='text' value='"+h.ifNull(c.defaultValue,"")+"' style='width:"+c.width+"px'/></div>");e[0].innerHTML=b.join("")+"<button type='button' onclick='JGM.m.DataCreator."+this.mid+"._addData()'>등록</button><button type='button' onclick='JGM.m.DataCreator."+this.mid+"._reset()'>초기화</button>";for(k=0;k<d;k++)c=a[k],!0===c.inputOnCreate&&(g[c.key]=e.find("div[key='"+c.key+"'] input").keyup(q));null!=this.grid.menubar&&(this.grid.menubar.addIcon(f.classCreatorIcon,"데이터 로우를 추가합니다.",
f.creatorIconWidth,f.creatorIconHeight,function(a,c){e.toggle("fast")}),e.hide())};e._addData=function(){var b,a=this._inputMap,d=this.grid.colDefMgr,c={},f=d.getAll(),l=f.length,m=0;for(b in a)a.hasOwnProperty(b)&&d.getByKey(b);for(;m<l;m++)d=f[m],b=d.key,a.hasOwnProperty(b)?c[b]=a[b][0].value:void 0!==d.defaultValue&&(c[b]=d.defaultValue);this.grid.event.trigger("onAfterDataCreate",[c],!0);this.grid.dataMgr.add(c,{isNew:!0})};e._reset=function(){var b,a=this.grid.colDefMgr,d,c=this._inputMap;for(b in c)c.hasOwnProperty(b)&&
(d=a.getByKey(b),void 0!==d.defaultValue&&(c[b][0].value=d.defaultValue))};e._destroy=function(){var b,a=this._inputMap;for(b in a)a.hasOwnProperty(b)&&k._delete$(a,b);k._destroy(this,{name:"DataCreator",path:"creator",$:"_creator",map:"_inputMap _options"})}})();jx.grid.EditManager={};jx.grid.Editor={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.editMgr=this;this._options=h._extend({classEdit:"jgrid-edit",classCellEditable:"jgrid-editable",classCellNotEditable:"jgrid-notEditable",editableBgEnabled:!1,notEditableBgEnabled:!1,editableBg:"#FFF",notEditableBg:"#F6F6F6",deleteEnabled:!1,editIconEnabled:!0,urlEditIcon:this.grid._options.imageUrl+"editable-small.png",classEditIcon:"edit-icon",editIconWidth:12,editIconPadding:3,editOnClick:!1,basicBackground:"#FFF9D7",classSuccess:"edit-success",
successBackground:"#cdf7b6",classFailure:"edit-failure",failureBackground:"#ff0000"},a.options);this._beginEditKeys=e.which(["number","alphabet","del","backspace"]);this._beingCommitted;this.__init()}function k(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c])}var h=goog.getObjectByName("jx.grid"),e=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");var b=goog.getObjectByName("jx.grid.Cell");goog.exportSymbol("jx.grid.EditManager",g);
goog.exportSymbol("jx.grid.Editor",k);g.getInstance=function(a){return new g(a)};var a=g.prototype;a.__init=function(){this.bindEvents()};a.bindEvents=function(){var a={onGetColCellClass:this._onGetColCellClass,keydownCanvas:this._keydownCanvas,onDestroy:this._destroy,onCreateDynamicCss:this.onCreateDynamicCss,onChangeLanguage:this._onChangeLanguage,"onBeforeNavigate onBeforeRefresh onBeforeSelect":this.commit,onBeforeFocusCanvas:this.notActive};this._options.editOnClick?a.clickCanvas=this._triggerEditOnMouseEvent:
a.dblclickCanvas=this._triggerEditOnMouseEvent;e.isNull(this.grid.selMgr)?a.onCreateCss=this._onBeforeCreateSelCss:a.onBeforeCreateSelCss=this._onBeforeCreateSelCss;this._options.deleteEnabled&&(a["keydownSel_"+e.keyMapKeydown.del]=this._deleteContents);if(this._options.editIconEnabled)for(var c=this.grid.colDefMgr.get(),f=c.length,b=0;b<f;b++)e.isNotNull(c[b].editor)&&(a["onRenderHeader_"+c[b].key+"_prepend"]=this._onRenderHeader);this.grid.event.bind(a,this)};a._destroy=function(){this._deleteEditor();
h._destroy(this,{name:"EditManager",path:"editMgr",map:"_beginEditKeys _options"})};a._onChangeLanguage=function(){this.active()&&this.commit()};a._onBeforeCreateSelCss=function(){var a="#"+this.grid.mid+" .",c=this._options,f=[],b=this.grid.view._options.rowH;f.push(this.grid.view._getCellSelector()+"."+c.classEdit+"{background:"+c.basicBackground+"}");f.push(a+c.classEdit+" input{position:absolute;z-index:10;top:0;padding:0;border:0;margin:0;background:"+c.basicBackground+";height:"+b+"px;line-height:"+
b+"px}");c.editableBgEnabled&&f.push(a+c.classCellEditable+"{background:"+c.editableBg+"}");c.notEditableBgEnabled&&f.push(a+c.classCellNotEditable+"{background:"+c.notEditableBg+"}");c.editIconEnabled&&f.push(a+c.classEditIcon+"{float:left;position:absolute;left:0;top:0;padding:0 "+c.editIconPadding+"px;width:"+c.editIconWidth+"px;height:"+b+"px;background:url("+c.urlEditIcon+") no-repeat center transparent}");f.push(a+c.classSuccess+"{background:"+c.successBackground+"}");f.push(a+c.classFailure+
"{background:"+c.failureBackground+"}");return f.join("")};a.onCreateDynamicCss=function(){for(var a=this.grid.view._getCellSelector(),c=this.grid.colDefMgr.get(),f=0,b="";f<c.length;f++)e.isNotNull(c[f].editor)&&(b+=a+".k_"+c[f].key+" .basic-editor{width:"+c[f].width+"px}");return b};a._onRenderHeader=function(a){a.push("<span class='"+this._options.classEditIcon+"'></span>")};a._onRenderCell=function(a,c,f,b,m){this.grid.dataMgr.isReal(f)&&m.push("<span class='"+this._options.classEditIcon+"' title='클릭하여 에디팅을 시작합니다' onclick='JGM.m.EditManager."+
this.mid+'.beginEdit("'+f[this.grid.dataMgr.idKey]+'","'+b.key+"\")'></span>")};a.cancelMouseEvent=function(a){return!e.hasTagAndClass(a.target,"DIV",this._options.classEditIcon)};a.beginEdit=function(a,c){this.begin(h.create("Cell",{grid:this.grid,datarow:this.grid.dataMgr.getById(a),colDef:this.grid.colDefMgr.getByKey(c)}))};a._triggerEditOnMouseEvent=function(a,c){c.isEdited()||this.begin(c)};a._keydownCanvas=function(a){this.active()?a.which===e.keyMapKeydown.esc&&this.cancel():!a.ctrlKey&&(!a.altKey&&
e.isNotNull(this.grid.selMgr))&&(a.which===e.keyMapKeydown.del&&this._options.deleteEnabled?this._deleteContent(this.grid.selMgr.getCell()):this._beginEditKeys[a.which]?this.begin(this.grid.selMgr.getCell()):a.which===e.keyMapKeydown.f2&&(a.preventDefault(),this.begin(this.grid.selMgr.getCell())))};a.active=function(){return!!this.editor};a.notActive=function(){return e.isNull(this.editor)};a._isEdited=function(a){return this.active()&&this.editor.cell&&this.editor.cell.equals(a)};a._onGetColCellClass=
function(a){return e.isNotNull(a.editor)?this._options.classCellEditable:this._options.classCellNotEditable};b.prototype.isEdited=function(){return this.grid.editMgr._isEdited(this)};b.prototype.setValue=function(a){var c=this.getDatarow(),f=this.getKey(),b;e.isNotNullAnd(c,f)&&(b=this.grid.dataMgr.updateByKey(c,f,a,{noSort:!0,noFilter:!0,noRerender:!0}),!0===b&&this.grid.view.rerenderRow(c));return b};a.isEditable=function(a){if(a){var c=a.getColDef();if(c&&c.editor)return(a=a.getDatarow())&&this.grid.dataMgr.isReal(a)}return!1};
a.begin=function(a){this.active()&&this.commit();if(this.isEditable(a)){var c=a.getNode();if(c){var f=this.editor=a.getColDef().editor;f.cell=a;f.grid=this.grid;f.before=c.innerHTML;c.innerHTML=f.edit(a.getValue());a.get$().addClass(this._options.classEdit);setTimeout(function(){f.focus()},0)}}};a.cancel=function(){if(this.active()){var a=this.editor.cell;if(a){var c=a.getNode();c&&(c.innerHTML=this.editor.before,a.get$().removeClass(this._options.classEdit))}this._deleteEditor();this.grid.view.focus()}};
a._deleteEditor=function(){e.isNotNull(this.editor)&&(delete this.editor.grid,delete this.editor.cell,delete this.editor.before,delete this.editor)};a.commit=function(){if(!this._beingCommitted&&this.active()){this._beingCommitted=!0;var a=this.editor.cell;if(a){var c=a.getNode();if(c)if(c=this.editor.value(c),null==c||c==a.getValue())this.cancel();else{var c=a.setValue(c),f,b=a.get$();c instanceof Error?(this.cancel(),f=this._options.classFailure):(this._deleteEditor(),this.grid.view.focus(),this.grid.printMessage("Successfully Updated."),
f=this._options.classSuccess);b.addClass(f);setTimeout(function(){b.removeClass(f)},1E3)}}this._beingCommitted=!1}};a._deleteContent=function(a){if(!this.active()&&this.isEditable(a)){var c=a.getColDef();a.getValue()!==c.defaultValue&&a.setValue(c.defaultValue)}};a._deleteContents=function(a,c,b){if(!this.active()){a={};c={};var l=[],m,n,g,h,k,q,p;a:for(m in b)if(b.hasOwnProperty(m)&&"length"!==m)for(p in h=g=n=void 0,q=b[m],q)if(q.hasOwnProperty(p)&&!("length"===p||c.hasOwnProperty(p))){k=q[p].cell;
if(e.isNull(n)&&(n=k.getColDef(),g=n.defaultValue,h=n.key,e.isNull(n.editor)))continue a;k=e.isNotNull(a[p])?a[p].datarow:k.getDatarow();this.grid.dataMgr.isReal(k)?g!==k[h]&&(e.isNull(a[p])&&(a[p]={datarow:k,change:{}},l.push(a[p])),a[p].change[h]=g):c[p]=!0}0!==l.length&&this.grid.dataMgr.updateList(l)}};k.getInstance=function(a){return new k(a)};b=k.prototype;b.edit=function(a){return"<input type='text' class='basic-editor' value='"+(null==a?"":e.encode(a))+"' style='position:relative'/>"};b.focus=
function(){var a=this.cell;if(a){var c=a.getNode();if(c&&(c=c.childNodes[0])){if(c.setActive)try{c.setActive()}catch(b){}c.focus&&c.focus();document.activeElement!==c&&a.get$().children(":eq(0)").focus()}}};b.value=function(a){return a&&(a=a.childNodes[0])?a.value:null};b.path=function(){return"JGM.m.Editor."+this.mid};k.numberKeys=e.which(["number","del","backspace"]);k.isNumberKey=function(a){return this.numberKeys[a]?!0:!1};k.isNumberKeyEvent=function(a){a=a?a:event;return this.isNumberKey(a.which||
a.keyCode)};k.numberOnly=function(a){a=a?a:event;a=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0;return 31<a&&(48>a||57<a)?!1:!0};k.numberEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='return jx.grid.Editor.isNumberKeyEvent(event);' value='"+e.ifNull(a,"")+"' style='position:relative;ime-mode:disabled'/>"};k.floatKeys=e.which(["number",".","del","backspace"]);k.isFloatKey=function(a){return this.floatKeys[a]?!0:!1};k.isFloatKeyEvent=function(a){a=
a?a:event;return this.isFloatKey(a.which||a.keyCode)};k.floatOnly=function(a){a=a?a:event;a=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0;return 31<a&&(48>a||57<a)&&46!=a?!1:!0};k.floatEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='return jx.grid.Editor.isFloatKeyEvent(event);' value='"+e.ifNull(a,"")+"' style='position:relative;ime-mode:disabled'/>"};k.alphabetKeys=e.which(["alphabet","del","backspace","space"]);k.isAlphabet=function(a){return this.alphabetKeys[a]?
!0:!1};k.isAlphabetKeyEvent=function(a){a=a?a:event;return this.isAlphabet(a.which||a.keyCode)};k.alphabetOnly=function(a){a=a?a:event;a=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0;return 31<a&&(65>a||90<a)&&(97>a||122<a)?!1:!0};k.alphabetEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='return jx.grid.Editor.isAlphabetKeyEvent(event)' value='"+e.ifNull(a,"")+"' style='position:relative;ime-mode:disabled'/>"}})();jx.grid.SettingsManager={};
(function(){function g(a){e.call(this,a)}function k(a,f,d,m){return b.element("li",null,b.element("a",{onclick:"JGM.m.SettingsManager."+a.mid+"."+f+"()","class":a._options.classMenuItem+" "+d},m,b.SAFE),b.SAFE)}var h=goog.getObjectByName("jx.grid");goog.getObjectByName("jx.grid.Grid");var e=goog.getObjectByName("jx.grid.BaseModule"),b=goog.getObjectByName("jx.util");goog.inherits(g,e);goog.exportSymbol("jx.grid.SettingsManager",g);g.getInstance=function(a){return new g(a)};var a=g.prototype,d=e;a._init=
function(a){this.grid.settings=this;this._$menu=this._$button=null;this._original=this.grid.getColumnSettings(this._options.attr);"cookie"==this._options.storage?this._loadCookie():"jStorage"==this._options.storage&&(res=this._loadJStorage())};a._bindEvents=function(){this.bindGridEvent({onRenderModules:this._onRenderModules,mousedown:this.mousedown,onChangeLanguage:this._onChangeLanguage},this)};a._defaultOptions=function(){return{classIcon:"settings-icon",iconUrl:this.grid._options.imageUrl+"settings-icon.png",
iconWidth:15,iconHeight:15,classMenu:"settings-menu",classMenuItem:"settings-menu-item",menuBackgroundColor:"#EEE",menuFont:"12px sans-serif",menuBorderStyle:"1px solid #AAA",menuItemPadding:"5px",menuItemHoverColor:"#37F",name:this.grid.mid+"@"+window.location.pathname,attrs:["width"],daysToLive:7300,storage:"jStorage",cookiePrefix:"jexgrid",cookiePath:"/",maxNumCookies:1E3,classSaveMenu:"settings-save-menu",classResetMenu:"settings-reset-menu",callback:function(a,b,d){alert(d)}}};a._dispose=function(){h._destroy(this,
{name:"SettingsManager",path:"settings",$:"_$button _$menu",property:"_original",map:"_options"});d.prototype._dispose.apply(this)};a._onChangeLanguage=function(a,b){var d=this.grid.getTranslation(b);this._$menu.find("."+this._options.classSaveMenu).text(d.get("settings.saveMenu"));this._$menu.find("."+this._options.classResetMenu).text(d.get("settings.resetMenu"));this._$button.attr("title",d.get("settings.buttonTooltip"))};a._beforeCreateCss=function(a){var b=this._options,d="."+b.classMenu,m="."+
b.classMenuItem,n={};n["."+b.classIcon]={background:"url("+b.iconUrl+") no-repeat center","background-size":"100% 100%",width:b.iconWidth+"px",height:b.iconHeight+"px"};n[d]={"background-color":b.menuBackgroundColor,display:"none","list-style-type":"none",font:b.menuFont,position:"absolute",top:"100%",padding:"0",margin:"0","z-index":"10",border:b.menuBorderStyle};n[m]={display:"block",padding:b.menuItemPadding,"white-space":"nowrap"};n[m+":hover"]={"background-color":b.menuItemHoverColor};this.toCssStyles(a.css,
n)};a._onRenderModules=function(){var a=this._options,d=this.grid.menubar,l=this,m=this.grid.getTranslation();if(d){var n=[];n.push(k(this,"save",a.classSaveMenu,m.get("settings.saveMenu")));n.push(k(this,"reset",a.classResetMenu,m.get("settings.resetMenu")));this._$menu=$(b.element("ul",{"class":a.classMenu},n.join(""),b.SAFE));this._$button=d.addIcon(a.classIcon,m.get("settings.buttonTooltip"),a.iconWidth,a.iconHeight,function(a,c){l.toggleMenu()});this._$button.append(this._$menu)}};a.mousedown=
function(a){b.contains(this._$button[0],a.target)||(this._$menu.hide(),this._$button.hasClass("active")&&this._$button.toggleClass("active"))};a._getName=function(){var a=this._options.name;if("function"==typeof a)return a();if("string"==typeof a)return a};a._loadJStorage=function(){try{var a=h.getJStorage().get(this._getName(),!1);if(!1!==a)return this.grid.initColumnSettings(a),!0}catch(b){}return!1};a._saveJStorage=function(){try{var a=h.getJStorage(),b=this.grid.getColumnSettings(this._options.attr);
return a.set(this._getName(),b)}catch(d){}return!1};a._resetJStorage=function(){try{return h.getJStorage().deleteKey(this._getName()),this.grid.setColumnSettings(this._original),!0}catch(a){}return!1};a._loadCookie=function(){for(var a=this._options,d=this._getName(),l=b.getCookies(),m=a.cookiePrefix,a=a.maxNumCookies,n=null,e=0;e<a;e++)if(l.hasOwnProperty(m+e)){var g=JSON.parse(l[m+e]);if(g[d]){n=g[d];break}}else break;n&&this.grid.initColumnSettings(n)};a._resetCookie=function(){for(var a=this._options,
d=this._getName(),l=b.getCookies(),m=a.cookiePrefix,e=a.daysToLive,g=a.maxNumCookies,a=a.cookiePath,h=0;h<g;h++)if(l.hasOwnProperty(m+h)){var k=JSON.parse(l[m+h]);if(k[d]){delete k[d];b.setCookie(m+h,JSON.stringify(k),e,a);break}}else break;this.grid.setColumnSettings(this._original);return!0};a._saveCookie=function(){var a=this._options,d=this._getName(),l=this.grid.getColumnSettings(a.attrs),m=b.getCookies(),e=a.cookiePrefix,g=a.daysToLive,h=a.maxNumCookies,a=a.cookiePath,k=!1,q={};q[d]=l;l=JSON.stringify(q).slice(1,
-1);for(q=0;q<h;q++)if(m.hasOwnProperty(e+q)){var p=m[e+q],u=JSON.parse(p);u[d]?(delete u[d],b.setCookie(e+q,JSON.stringify(u),g,a)):b.setCookie(e+q,p,g,a)}else break;m=b.getCookies();for(q=0;q<h;q++)if(m.hasOwnProperty(e+q))if(p=m[e+q],JSON.parse(p),d="{}"==p?"{"+l+"}":p.slice(0,-1)+","+l+"}",b.setCookie(e+q,d,g,a),m=b.getCookies(),m[e+q]==d){k=!0;break}else b.setCookie(e+q,p,g,a);else{p="{"+l+"}";b.setCookie(e+q,p,g,a);m=b.getCookies();if(m.hasOwnProperty(e+q)&&m[e+q]==p){k=!0;break}break}return k};
a.save=function(){var a=!1,b;"cookie"==this._options.storage?a=this._saveCookie():"jStorage"==this._options.storage&&(a=this._saveJStorage());b=a?this.grid.getTranslation().get("settings.saveSuccess"):this.grid.getTranslation().get("settings.saveFailure");this._options.callback("save",a,b)};a.reset=function(){var a=!1,b;"cookie"==this._options.storage?a=this._resetCookie():"jStorage"==this._options.storage&&(a=this._resetJStorage());b=a?this.grid.getTranslation().get("settings.resetSuccess"):this.grid.getTranslation().get("settings.resetFailure");
this._options.callback("reset",a,b)};a.toggleMenu=function(){this._$menu.toggle()}})();jx.grid.SearchManager={};
(function(){function g(a){this.mid=a.mid;this._adv=this._advButton=this._tag=this._masterInput=this._mask=null;this.grid=a.grid;this._placeholderIsSupported=h.placeholderIsSupported();this.grid.search=this;this._options=k._extend({background:"#f0f0f0",borderThickness:0,border:"solid #d6d6d6",inputBorder:"1px solid #A7A7A7",inputPadding:0,searchbarAlign:"center",searchbarMargin:2,searchbarWidth:"140px",searchbarHeight:21,tagsHeight:26,tagsPadding:2,tagsBorderRadius:3,resetButton:!1,advButtonColor:"#123272",
advButtonFont:"bold 12px Arial,Helvetica,sans-serif",advButtonPadding:5,advButtonBg:"",advButtonBgHover:"url("+this.grid._options.imageUrl+"more-options-bg-hover.png) repeat-x scroll center",advButtonBgActive:"url("+this.grid._options.imageUrl+"more-options-bg-active.png) repeat-x scroll center",advButtonBgOpened:"url("+this.grid._options.imageUrl+"more-options-bg-opened.png) repeat-x scroll center",advButtonBorderThickness:1,advButtonBorder:"solid transparent",advButtonBorderHover:"solid #a4a4a4",
advButtonBorderActive:"solid #c5c5c5",advButtonBorderOpened:"solid #bfbfbf",advButtonIconWidth:9,advButtonIconMargin:2,advButtonIconUrl:this.grid._options.imageUrl+"more-options.png",advButtonIconCloseUrl:this.grid._options.imageUrl+"more-options-close.png",tagPadding:2,tagBorder:"solid #93979D",tagBorderThickness:1,tagFont:"bold 13px Arial",tagColor:"#282853",tagBackground:"url("+this.grid._options.imageUrl+"tag-background.png) repeat-x scroll center",tagRemoveIconWidth:12,tagRemoveIconUrl:this.grid._options.imageUrl+
"tag-close.png",tagRemoveIconHoverUrl:this.grid._options.imageUrl+"tag-close-hover.png",advFont:"11px Arial",advInputWidth:30,classMask:"search-mask",classSearchbar:"search-bar",classAdvButtonName:"more-option-name",classAdvButton:"more-options",classAdvButtonIcon:"more-icon",classClearTags:"clear-tags",classTagbar:"search-tags",classTag:"search-tag",classTagName:"search-tag-name",classRemoveTag:"search-tag-remove",classAdvanced:"search-advanced",classOptionCol:"search-option-col",classOption:"search-option",
classSearchBtn:"search-btn",searchBtnWidth:21,searchBtnHeight:21,searchBtnBackgroundHover:this.grid._options.imageUrl+"menu-icon-hover.png",searchBtnBackgroundActive:this.grid._options.imageUrl+"menu-icon-active.png",classSearchIcon:"search-icon",searchIconUrl:this.grid._options.imageUrl+"search-icon.png",searchIconWidth:15,searchIconHeight:15,keyMap:void 0,tagRemoveIconActiveUrl:this.grid._options.imageUrl+"tag-close-active.png",simpleSearchMode:!1,simpleTagPos:"right",simpleStyleMask:{},simpleStyleButton:{},
simpleStyleButtonHover:{},simpleStyleButtonActive:{},simpleStyleIcon:{},simpleStyleInput:{},syncMaster:!1},a.options);this._filterMap={};this._tagMap={};this._nameMap={};this._codeMap={};this._global=[];this._globalMap={};this._keyToName={};this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.Grid");var e=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.SearchManager",g);var b=g.prototype;b._onCreateCss=function(){var a=
"#"+this.grid.mid+" .",c=this._options,b=c.borderThickness+"px "+c.border,d="border-radius:"+c.tagsBorderRadius+"px;-moz-border-radius:"+c.tagsBorderRadius+"px",f=c.advButtonBorderThickness+"px "+c.advButtonBorder,l=c.advButtonBorderThickness+"px "+c.advButtonBorderHover,m=c.advButtonBorderThickness+"px "+c.advButtonBorderActive,e=c.advButtonBorderThickness+"px "+c.advButtonBorderOpened,n=c.tagsHeight-2*c.tagsPadding,g=n-2*c.advButtonBorderThickness,r=n-2*c.tagBorderThickness,h=a+c.classMask,s=a+
c.classSearchbar,q=a+c.classAdvButton,p=a+c.classRemoveTag,t=[];t.push(h+"{"+k._CONST._cssUnselectable+"overflow:hidden;float:left;background:"+c.background+"}");t.push(h+" button {margin:0;padding:0 3px;}");t.push(h+" input{border:"+c.inputBorder+";padding:"+c.inputPadding+"}");t.push(s+"{float:left;width:"+c.searchbarWidth+";margin:"+c.searchbarMargin+"px 2px;height:"+c.searchbarHeight+"px;"+d+"}");t.push(a+c.classTagbar+"{float:left;cursor:default;height:"+(c.tagsHeight-c.tagsPadding)+"px;padding:"+
c.tagsPadding+"px 0 0 "+c.tagsPadding+"px;border-bottom:"+b+"}");t.push(q+"{float:left;margin-right:"+c.tagsPadding+"px;background:"+c.advButtonBg+";border:"+f+";padding:0 "+c.advButtonPadding+"px;"+d+"}");t.push(q+":hover{background:"+c.advButtonBgHover+";border:"+l+"}");t.push(q+".opened{background:"+c.advButtonBgOpened+";border:"+e+"}");t.push(q+":active{background:"+c.advButtonBgActive+";border:"+m+"}");t.push(a+c.classAdvButtonName+"{float:left;color:"+c.advButtonColor+";font:"+c.advButtonFont+
";line-height:"+g+"px}");t.push(a+c.classAdvButtonIcon+"{float:left;height:"+g+"px;margin-left:"+c.advButtonIconMargin+"px;background:url("+c.advButtonIconUrl+") no-repeat center;width:"+c.advButtonIconWidth+"px}");t.push(q+".opened ."+c.classAdvButtonIcon+"{background:url("+c.advButtonIconCloseUrl+") no-repeat center}");t.push(a+c.classTag+"{float:left;border:"+c.tagBorderThickness+"px "+c.tagBorder+";margin:0 "+c.tagsPadding+"px "+c.tagsPadding+"px 0;padding:0 "+c.tagPadding+"px;background:"+c.tagBackground+
";"+d+"}");t.push(a+c.classTagName+"{float:left;color:"+c.tagColor+";font:"+c.tagFont+";line-height:"+r+"px}");t.push(p+"{float:left;margin-left:"+c.tagPadding+"px;background:url("+c.tagRemoveIconUrl+") no-repeat center;width:"+c.tagRemoveIconWidth+"px;height:"+r+"px}");t.push(p+":hover{background:url("+c.tagRemoveIconHoverUrl+") no-repeat center}");t.push(p+":active{background:url("+c.tagRemoveIconActiveUrl+") no-repeat center}");t.push(a+c.classClearTags+"{height:"+n+"px}");t.push(a+c.classAdvanced+
"{cursor:default;font:"+c.advFont+";border-bottom:"+b+"}");t.push(a+c.classOptionCol+"{display:inline-block;vertical-align:top}");t.push(a+c.classOptionCol+" input{width:"+c.advInputWidth+"px;margin-right:2px;"+d+"}");t.push(a+c.classSearchIcon+"{background:url("+c.searchIconUrl+") no-repeat center;width:"+c.searchIconWidth+"px;height:"+c.searchIconHeight+"px}");return t.join("")};g.getInstance=function(a){return new g(a)};b.__init=function(){this._options.simpleSearchMode?this.grid.event.bind({onCreateCss:this._onCreateCssSimple,
onRenderModules:this._onRenderModulesSimple,onFilter:this._onFilter,onDestroy:this._destroy,onAfterRenderModules:this._onAfterRenderModules,onChangeLanguage:this._onChangeLanguage},this):this.grid.event.bind({onCreateCss:this._onCreateCss,onRenderModules:this._onRenderModules,onFilter:this._onFilter,onDestroy:this._destroy,onAfterRenderModules:this._onAfterRenderModules},this)};b._onCreateCssSimple=function(){var a=this._options,c="."+a.classMask,b="."+a.classSearchbar,d="."+a.classSearchBtn,f="."+
a.classSearchIcon,l=[],m={overflow:"hidden","float":"left",margin:"0 2px 0 2px",background:"#f0f0f0",_append:k._CONST._cssUnselectable},n={"float":"left",position:"relative",height:a.searchBtnHeight+"px",width:a.searchBtnWidth+"px",border:"1px solid #a7a7a7",margin:"2px 0 0 0","border-radius":"4px","-moz-border-radius":"4px"},g={background:"url("+a.searchBtnBackgroundHover+") repeat-x scroll center",border:"1px solid #d4d4d4"},r={outline:"none",background:"url("+a.searchBtnBackgroundActive+") repeat-x scroll center",
border:"1px solid #d4d4d4"},h={background:"url("+a.searchIconUrl+") no-repeat center",width:a.searchIconWidth+"px",height:a.searchIconHeight+"px"},s={border:"1px solid #a7a7a7",padding:"0","float":"left",width:"140px",margin:"2px",height:"21px","line-height":"21px","border-radius":"3px","-moz-border-radius":"3px"},m=$.extend({},m,a.simpleStyleMask),n=$.extend({},n,a.simpleStyleButton),g=$.extend({},g,a.simpleStyleButtonHover),r=$.extend({},r,a.simpleStyleButtonActive),h=$.extend({},h,a.simpleStyleIcon),
s=$.extend({},s,a.simpleStyleInput),q=e.prototype.toCssStyle;l.push(q.call(this,c,m));l.push(q.call(this,d,n));l.push(q.call(this,d+":hover",g));l.push(q.call(this,d+":active",r));l.push(q.call(this,f,h));l.push(q.call(this,b,s));l.push(q.call(this,b+".placeholder",{color:"#aaa"}));c="#"+this.grid.mid+" .";b="border-radius:"+a.tagsBorderRadius+"px;-moz-border-radius:"+a.tagsBorderRadius+"px";d=a.tagsHeight-2*a.tagsPadding-2*a.tagBorderThickness;f=c+a.classRemoveTag;l.push(c+a.classTagbar+"{float:left;cursor:default;height:"+
(a.tagsHeight-a.tagsPadding)+"px;padding:"+a.tagsPadding+"px 0 0 "+a.tagsPadding+"px;border-bottom:"+(a.borderThickness+"px "+a.border)+"}");l.push(c+a.classTag+"{float:left;border:"+a.tagBorderThickness+"px "+a.tagBorder+";margin:0 "+a.tagsPadding+"px "+a.tagsPadding+"px 0;padding:0 "+a.tagPadding+"px;background:"+a.tagBackground+";"+b+"}");l.push(c+a.classTagName+"{float:left;color:"+a.tagColor+";font:"+a.tagFont+";line-height:"+d+"px}");l.push(f+"{float:left;margin-left:"+a.tagPadding+"px;background:url("+
a.tagRemoveIconUrl+") no-repeat center;width:"+a.tagRemoveIconWidth+"px;height:"+d+"px}");l.push(f+":hover{background:url("+a.tagRemoveIconHoverUrl+") no-repeat center}");l.push(f+":active{background:url("+a.tagRemoveIconActiveUrl+") no-repeat center}");return l.join("")};b._onChangeLanguage=function(a,c){var b=this.grid.getTranslation(c);if(this._masterInput){var d=$(this._masterInput);d.attr("title",b.get("search.masterInputTooltip"));d.attr("placeholder",b.get("search.masterInputTooltip"));d.hasClass("placeholder")&&
d.val(d.attr("placeholder"))}this._mask&&this._mask.find("."+this._options.classSearchBtn).attr("title",b.get("search.buttonTooltip"));d=b.get("search.tagTooltip");b=b.get("search.tagRemoveTooltip");0<this._global.length&&(this._tag.find("."+this._options.classTag).attr("title",h.sprint(d,{tag:this._global.join(", ")})),this._tag.find("."+this._options.classRemoveTag).attr("title",b))};b._onRenderModulesSimple=function(){var a=this.grid.menubar,c=this,b=this.grid.getTranslation(),d=this._options;
this._tag=$('<div class="'+d.classTagbar+'">');var f=$('<input type="text" id="jgrid-search-input-'+this.mid+'" class="'+d.classSearchbar+'" placeholder="'+b.get("search.masterInputTooltip")+'" title="'+b.get("search.masterInputTooltip")+'"/>');this._placeholderIsSupported||(f.addClass("placeholder"),f.val(f.attr("placeholder")),f.focus(function(){var a=$(this);a.hasClass("placeholder")&&(a.removeClass("placeholder"),a.val(""))}).blur(function(){var a=$(this);""==a.val()&&(a.addClass("placeholder"),
a.val(a.attr("placeholder")))}));var b=$("<div class='"+d.classSearchBtn+"' tabIndex='0' title='"+b.get("search.buttonTooltip")+"'><div class='"+d.classSearchIcon+"' style='margin-top:"+(d.searchBtnHeight-d.searchIconHeight)/2+"px;margin-left:"+(d.searchBtnWidth-d.searchIconWidth)/2+"px'></div></div>"),l=this._mask=$('<div class="'+d.classMask+' simple">');"right"==d.simpleTagPos?(l.append(f),l.append(b),l.append(this._tag)):(l.append(this._tag),l.append(f),l.append(b));a.$el.append(l);this._masterInput=
f[0];f.keyup(function(a){a.which===h.keyMapKeydown.enter&&(a=this.value,$(this).hasClass("placeholder")&&(a=""),c.search(a))});b.click(function(a){a=$(this.previousSibling);var b=a.val();a.hasClass("placeholder")&&(b="");c.search(b)}).keyup(function(a){if(a.which===h.keyMapKeydown.enter){a=$(this.previousSibling);var b=a.val();a.hasClass("placeholder")&&(b="");c.search(b)}}).mousedown(function(a){a.preventDefault()})};b._onRenderModules=function(){var a=this._options;this.grid.colDefMgr.get();var c=
this.mid,b="jgrid-search-input-"+c,d=h.encode,f=this.grid.getTranslation().get("search.masterInputTooltip"),l=this._mask=$('<div class="'+a.classMask+'"><input type="text" id="'+b+'" class="'+a.classSearchbar+'" title="'+d(f)+'" style="float:left;"/></div>');this._tag=$("<div class='"+a.classTagbar+"'>"+(a.resetButton?"<button type='button' class='"+a.classClearTags+"' onclick='JGM.m.SearchManager."+c+"._removeAllOptions()'>초기화</button>":"")+"</div>").appendTo(l);var c=this.grid.menubar,m=this;c.addIcon(a.classSearchIcon,
"데이터 검색을 합니다.",a.searchIconWidth,a.searchIconHeight,function(a,c){l.toggle("fast")});l.hide();c.appendHtml(l);var e=this._masterInput=document.getElementById(b);$(e).keyup(function(a){a=a.which;a===h.keyMapKeydown.enter?m._parse(e.value):a===h.keyMapKeydown.esc&&m._removeAllOptions()})};b._onAfterRenderModules=function(){var a=this._filterMap,c,b,d,f,l=this._adv;for(b in a)if(a.hasOwnProperty(b))for(d in c=a[b],c)c.hasOwnProperty(d)&&("andor"!==d&&"parser"!==d&&"validator"!==d)&&((f=c[d]).input=l.find("#"+
b+f.option.name))};b._destroy=function(){var a,c,b,d=this._globalMap,f=this._filterMap,l=this._tagMap;for(a in d)d.hasOwnProperty(a)&&(k._delete$(d[a],"tag"),k._deleteArray(d[a],"list"));for(a in f)if(f.hasOwnProperty(a)){d=f[a];for(c in d)d.hasOwnProperty(c)&&("andor"!==c&&("parser"!==c&&"validator"!==c)&&k._delete$(d[c],"input"),k._deleteMap(d,c));k._deleteMap(f,a)}for(a in l)if(l.hasOwnProperty(a)){f=l[a];for(c in f)if(f.hasOwnProperty(c)){d=f[c];for(b in d)d.hasOwnProperty(b)&&(k._delete$(d[b],
"tag"),k._deleteMap(d,b));k._deleteMap(f,c)}k._deleteMap(l,a)}k._destroy(this,{name:"SearchManager",path:"search",$:"_advButton _mask _tag _adv",array:"_global",map:"_globalMap _filterMap _tagMap _codeMap _nameMap _options _keyToName"})};b._onFilter=function(a,c){if(0===this._global.length&&h.isEmptyObj(this._codeMap))this.grid.event.trigger("onSearch",[!1],!0);else{this.grid.event.trigger("onSearch",[!0],!0);var b,d=this._tagMap,f,l,m=a.length,e=this.grid.view,n,g=this._filterMap,r=this.constructor.CONST.and,
k,s=0<this._global.length,q,p;if(s){var t=this._global,u;n=this.grid.colDefMgr.get().filter(function(a){return!a.noSearch});var v=n.length,z=[];for(q=0;q<v;q++)z.push(n[q].key)}q=m-1;a:for(;0<=q;q--){m=a[q];if(s){n=t.slice();b=0;for(;0!==n.length&&b<v;b++)if(null!=(u=e.getRenderedData(m,z[b]))){h.isString(u)||(u=u.toString());for(p=n.length-1;0<=p;p--)-1!==u.indexOf(n[p])&&n.removeAt(p)}if(0!==n.length){a.removeAt(q);c.push(m);continue a}}for(f in d)if(d.hasOwnProperty(f))if(p=d[f],b=g[f].andor,n=
e.getRenderedData(m,f),b===r)for(l in p){if(p.hasOwnProperty(l))for(k in b=p[l],b)if(b.hasOwnProperty(k)&&!b[k].fn(n)){a.removeAt(q);c.push(m);continue a}}else{for(l in p)if(p.hasOwnProperty(l))for(k in b=p[l],b)if(b.hasOwnProperty(k)&&b[k].fn(n))continue a;a.removeAt(q);c.push(m);continue a}}}};b._registerFilter=function(a,c,b,d,f){if(!this._filterMap.hasOwnProperty(a)){"number"===d?d=this.constructor._numberFilter:"string"===d&&(d=this.constructor._stringFilter);var l,m=d.length,e=0,n=this.mid,
g=this._options.classOption,r,h,k,s;r=this._filterMap[a]={andor:this.constructor.CONST.and};h=this._tagMap[a]={};for(f.push("<table>");e<m;e++)l=d[e],s=l.name,"parser"===s?r.parser=l.fn:"validator"===s?r.validator=l.fn:(k=l.tag,r[k]={option:l},h[k]={},f.push("<tr title='"+l.comment(b,"입력값")+"'><td><div class='"+g+"'>"+b+" "+k+"</td><td><input id='"+a+s+"' key='"+a+"' tag='"+k+"' type='text'><button type='button' onclick=\"JGM.m.SearchManager."+n+"._registerOption('"+a+"','"+c+"','"+k+"',this.previousSibling.value)\">등록</button></div></td></tr>"));
f.push("</table>")}};b.search=function(a){a=h.split(a);for(var c=[],b={},d=this._options,f=this.grid.getTranslation(),l=f.get("search.tagTooltip"),f=f.get("search.tagRemoveTooltip"),m=0,e=a.length;m<e;m++){var n=a[m];""!==n&&!b[n]&&(c.push(n),b[n]=!0)}0<c.length?this._tag.html("<div class='"+d.classTag+"' title='"+h.encode(h.sprint(l,{tag:c.join(", ")}))+"'><div class='"+d.classTagName+"'>"+h.encode(c.join(" "))+"</div><div class='"+d.classRemoveTag+"' title='"+h.encode(f)+"' onclick=\"JGM.m.SearchManager."+
this.mid+'._removeGlobalSimple()"></div></div>'):this._tag.html("");this._global=c;this.grid.dataMgr.refresh()};b._parse=function(a){for(var c,b,d,f,l=h.split(a),m=l.length,e=2,n=!1,g=[],r=this._nameMap,k=this._filterMap,s=0;s<m;s++)if(a=l[s],""!==a)switch(e){case 0:k[c].hasOwnProperty(a)&&(d=a,e=1);break;case 1:f=a;e=2;break;case 2:"@"===a.charAt(0)?(a=a.substring(1),r.hasOwnProperty(a)?(h.isNotNullAnd(c,b,d,f)&&this._registerOption(c,b,d,f,!0)&&(n=!0),c=r[a],b=a,f=d=void 0,e=0):null==c?g.push(a):
f+=" "+a):null==c?g.push(a):f+=" "+a}h.isNotNullAnd(c,b,d,f)&&this._registerOption(c,b,d,f,!0)&&(n=!0);this._registerGlobal(g)&&(n=!0);this._syncMasterInput();n&&this.grid.dataMgr.refresh()};b._syncMasterInput=function(){if(this._options.syncMaster){var a=this._global.join(" "),c=this._tagMap,b=this._keyToName,d,f,l,m,e;for(d in c)if(c.hasOwnProperty(d))for(f in m=c[d],m)if(m.hasOwnProperty(f))for(l in e=m[f],e)e.hasOwnProperty(l)&&(a+=" @"+b[d]+" "+f+" "+l);this._masterInput.value=$.trim(a)}else this._masterInput.value=
""};b._registerGlobal=function(a){for(var c=0,b=a.length,d=this._global;c<b;c++)-1!==d.indexOf(a[c])?a.removeAt(c--):d.push(a[c]);if(0===a.length)return!1;c=this._options;this._globalMap[a[0]]={tag:$("<div class='"+c.classTag+"' title='"+a.join(", ")+" 를 포함하는'><div class='"+c.classTagName+"'>"+a.join(" ")+"</div><div class='"+c.classRemoveTag+"' title='필터 제거' onclick=\"JGM.m.SearchManager."+this.mid+"._removeGlobal('"+a[0]+"')\"></div></div>").appendTo(this._tag),list:a};return!0};b._removeGlobal=
function(a){var c=this._globalMap;if(c.hasOwnProperty(a)){var b=c[a];b.tag.remove();delete b.tag;this._global.removeList(b.list);b.list.length=0;delete b.list;delete c[a];this._syncMasterInput();this.grid.dataMgr.refresh()}};b._removeGlobalSimple=function(){this._global.length=0;this._tag.html("");this.grid.dataMgr.refresh()};b._registerOption=function(a,c,b,d,f){var l=this._filterMap,m,e=this._codeMap;if(l.hasOwnProperty(a)&&(m=l[a]).hasOwnProperty(b)){l=m[b];if(null==d){var n=l.input;d=$.trim(n.val());
n.val("")}else d=$.trim(d);if(0===d.length)return!1;null!=m.parser&&(d=m.parser(d));if(e.hasOwnProperty(a+"@T"+b+"@B"+d)||null!=m.validator&&!m.validator(d))return!1;l=l.option;m=m.andor}else return!1;n=this._tagMap[a];if(n[b].hasOwnProperty(d))return!1;var r,h,k,s,q=this._filterMap[a],p;for(k in n)if(n.hasOwnProperty(k))for(s in r=n[k],r)r.hasOwnProperty(s)&&(p=r[s],h=null!=q.parser?q.parser(s):s,g._checkDisable(l.type,p.option.type,m,d,h)&&(delete e[a+"@T"+p.option.tag+"@B"+h],p.tag.remove(),delete p.tag,
delete p.option,delete p.fn,delete r[s]));e[a+"@T"+b+"@B"+d]=!0;this._createTag(a,l,d,c);f||(this._syncMasterInput(),this.grid.dataMgr.refresh());return!0};b._removeOption=function(a,c,b){var d=this._tagMap,f,l;if(d.hasOwnProperty(a)&&(f=d[a]).hasOwnProperty(c)&&(l=f[c]).hasOwnProperty(b))d=l[b],d.tag.remove(),delete d.tag,delete d.option,delete d.fn,delete l[b],delete this._codeMap[a+"@T"+c+"@B"+b],this._syncMasterInput(),this.grid.dataMgr.refresh()};b._removeAllOptions=function(){var a,c=this._globalMap,
b,d=this._tagMap,f,l,m;for(a in c)c.hasOwnProperty(a)&&(b=c[a],b.tag.remove(),delete b.tag,b.list.length=0,delete b.list,delete c[a]);this._global.length=0;for(a in d)if(d.hasOwnProperty(a))for(f in c=d[a],c)if(c.hasOwnProperty(f))for(l in b=c[f],b)b.hasOwnProperty(l)&&(m=b[l],m.tag.remove(),delete m.tag,delete m.option,delete m.fn,delete b[l]);this._codeMap={};this._syncMasterInput();this.grid.dataMgr.refresh()};b._createTag=function(a,c,b,d){var f=this._options;return this._tagMap[a][c.tag][b]=
{tag:$("<div class='"+f.classTag+"' title='"+c.comment(d,b)+"'><div class='"+f.classTagName+"'>@"+d+" "+c.tag+" "+b+"</div><div class='"+f.classRemoveTag+"' title='필터 제거' onclick=\"JGM.m.SearchManager."+this.mid+"._removeOption('"+a+"','"+c.tag+"','"+b+"')\"></div></div>").appendTo(this._tag),option:c,fn:c.fn(b)}};var a=g.CONST={lt:0,lte:1,eq:2,neq:3,gt:4,gte:5,and:6,or:7,T:8,F:9},b=a.lt,d=a.gt,c=a.eq,f=a.neq,l=a.and,m=a.or,n=a.T,a=a.F,r=g._comparator={},s=r[b]=function(a,c){return a<=c},t=r[d]=function(a,
c){return a>=c},q=r[c]=function(a,c){return a===c},n=r[n]=function(){return!0},p=g._disableMap={},u=p[b]={},v=p[d]={},z=p[c]={},p=p[f]={};r[a]=function(){return!1};u[b]={};u[b][l]=n;u[b][m]=n;u[d]={};u[d][l]=s;u[d][m]=t;u[c]={};u[c][l]=n;u[c][m]=t;u[f]={};u[f][l]=s;u[f][m]=n;v[b]={};v[b][l]=t;v[b][m]=s;v[d]={};v[d][l]=n;v[d][m]=n;v[c]={};v[c][l]=n;v[c][m]=s;v[f]={};v[f][l]=t;v[f][m]=n;z[b]={};z[b][l]=n;z[b][m]=s;z[d]={};z[d][l]=n;z[d][m]=t;z[c]={};z[c][l]=n;z[c][m]=q;z[f]={};z[f][l]=n;z[f][m]=n;p[b]=
{};p[b][l]=t;p[b][m]=n;p[d]={};p[d][l]=s;p[d][m]=n;p[c]={};p[c][l]=n;p[c][m]=n;p[f]={};p[f][l]=q;p[f][m]=n;g._checkDisable=function(a,c,b,d,f){try{return this._disableMap[a][c][b](d,f)}catch(l){return!1}};g._numberFilter=[{name:"gt",tag:">",type:d,comment:function(a,c){return a+" 이(가) "+c+"보다 큰"},fn:function(a){h.isString(a)&&(a=a.toFloat());return function(c){return c>a}}},{name:"gte",tag:">=",type:d,comment:function(a,c){return a+" 이(가) "+c+"보다 크거나 같은"},fn:function(a){h.isString(a)&&(a=a.toFloat());
return function(c){return c>=a}}},{name:"lt",tag:"<",type:b,comment:function(a,c){return a+" 이(가) "+c+"보다 작은"},fn:function(a){h.isString(a)&&(a=a.toFloat());return function(c){return c<a}}},{name:"lte",tag:"<=",type:b,comment:function(a,c){return a+" 이(가) "+c+"보다 작거나 같은"},fn:function(a){h.isString(a)&&(a=a.toFloat());return function(c){return c<=a}}},{name:"eq",tag:"=",type:c,comment:function(a,c){return a+" 이(가) "+c+"인"},fn:function(a){h.isString(a)&&(a=a.toFloat());return function(c){return c===
a}}},{name:"neq",tag:"!=",type:f,comment:function(a,c){return a+" 이(가) "+c+"이(가) 아닌"},fn:function(a){h.isString(a)&&(a=a.toFloat());return function(c){return c!==a}}},{name:"contains",tag:"*=",comment:function(a,c){return a+" 이(가) 숫자 "+c+"를 포함하는"},fn:function(a){a=h.isNumber(a)?a.toString():$.trim(a);return function(c){return-1!==c.toString().indexOf(a)}}},{name:"parser",fn:function(a){return a.toFloat()}},{name:"validator",fn:function(a){return!isNaN(a)}}];g._stringFilter=[{name:"to",tag:"<=",type:b,
comment:function(a,c){return a+" 이(가) "+c+"보다 사전에서 이전인"},fn:function(a){a=$.trim(a).toLowerCase();return function(c){return c.toLowerCase()<=a}}},{name:"from",tag:">=",type:d,comment:function(a,c){return a+" 이(가) "+c+"보다 사전에서 이후인"},fn:function(a){a=$.trim(a).toLowerCase();return function(c){return c.toLowerCase()>=a}}},{name:"equals",tag:"=",type:c,comment:function(a,c){return a+" 이(가) "+c+"와(과) 같은"},fn:function(a){a=$.trim(a).toLowerCase();return function(c){return c.toLowerCase()===a}}},{name:"notEquals",
tag:"!=",type:f,comment:function(a,c){return a+" 이(가) "+c+"이(가) 아닌"},fn:function(a){a=$.trim(a).toLowerCase();return function(c){return c.toLowerCase()!==a}}},{name:"startsWith",tag:"^=",comment:function(a,c){return a+" 이(가) "+c+"(으)로 시작하는"},fn:function(a){a=$.trim(a).toLowerCase();var c=a.length;return function(b){return b.substr(0,c).toLowerCase()===a}}},{name:"endsWith",tag:"$=",comment:function(a,c){return a+" 이(가) "+c+"(으)로 끝나는"},fn:function(a){a=$.trim(a).toLowerCase();var c=a.length;return function(b){return b.substr(b.length-
c,b.length).toLowerCase()===a}}},{name:"contains",tag:"*=",comment:function(a,c){return a+" 이(가) "+c+"을(를) 포함하는"},fn:function(a){a=$.trim(a).toLowerCase();return function(c){return-1!==c.toLowerCase().indexOf(a)}}},{name:"containsAny",tag:"|=",comment:function(a,c){return a+" 이(가) "+c+"들 중 하나 이상을 포함하는"},fn:function(a){a=a.toLowerCase();var c=h.split(a),b=c.length;return 1>=b?function(c){return-1!==c.toLowerCase().indexOf(a)}:function(a){a=a.toLowerCase();for(var d=0;d<b;d++)if(-1!==a.indexOf(c[d]))return!0;
return!1}}},{name:"containsAll",tag:"&=",comment:function(a,c){return a+" 이(가) "+c+"들 모두를 포함하는"},fn:function(a){a=a.toLowerCase();var c=h.split(a),b=c.length;return 1>=b?function(c){return-1!==c.toLowerCase().indexOf(a)}:function(a){a=a.toLowerCase();for(var d=0;d<b;d++)if(-1===a.indexOf(c[d]))return!1;return!0}}}]})();jx.grid.ViewportManager={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this._mask;this._canvas;this.grid=a.grid;this.grid.view=this;a=this._options=k._extend({attrRowIdx:"r",appendThreshold:3,renderThreshold:10,bufferSize:6,rowsPerPage:10,rowH:21,borderThickness:1,border:"solid #D0D7E5",padding:0,"padding-left":void 0,"padding-right":void 0,"padding-top":void 0,"padding-bottom":void 0,evenOddRows:!1,oddRowsBackground:"#F4F4F4",style:"",canvasStyle:"",rowStyle:"",cellStyle:"",classRow:"jgrid-row",classCell:"jgrid-cell",
classView:"jgrid-viewport",classCanvas:"jgrid-canvas",focusBackground:"#FFF",focusOutline:"2px solid #f1ca7f",autoHeight:!1,maxRowsPerPage:void 0,autoWidth:!1,noTitleAttr:!1,rowPopUpEnabled:!1,rowPopUpHandler:g._rowPopUpHandler},a.options);var c={top:0,right:0,bottom:0,left:0};if("string"===typeof a.padding){var b=a.padding.match(/\S+/g);1===b.length?c.left=c.right=c.top=c.bottom=Number(b[0]):2===b.length?(c.top=c.bottom=Number(b[0]),c.left=c.right=Number(b[1])):3===b.length?(c.top=Number(b[0]),c.right=
Number(b[1]),c.bottom=Number(b[2])):4===b.length&&(c.top=Number(b[0]),c.right=Number(b[1]),c.bottom=Number(b[2]),c.left=Number(b[3]))}else c.left=c.right=a.padding;a["padding-left"]&&(c.left=a["padding-left"]);a["padding-right"]&&(c.right=a["padding-right"]);a["padding-top"]&&(c.top=a["padding-top"]);a["padding-bottom"]&&(c.bottom=a["padding-bottom"]);this._padding=c;this._drag=!1;this._lastRowLen=this._lastScrollLeft=this._lastScrollTop=0;this._renderedRows={};this._lockedRows={};this._colLefts=
[0];this._evtmgr=this.grid.event;this._datamgr=this.grid.dataMgr;this._colmgr=this.grid.colDefMgr;this._rowClass=this._options.classRow;this._cellClass=this._options.classCell;this._rowIdxAttr=this._options.attrRowIdx;this._colRatios={};this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.grid.Grid"),e=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");var b=goog.getObjectByName("jx.grid.Cell"),a={INPUT:!0,TEXTAREA:!0,LABEL:!0,FIELDSET:!0,LEGEND:!0,
SELECT:!0,OPTGROUP:!0,OPTION:!0,BUTTON:!0},d={checkbox:!0,radio:!0};goog.exportSymbol("jx.grid.ViewportManager",g);g.getInstance=function(a){return new g(a)};var c=g.prototype;c.__init=function(){var a=this;this._mask=$("<div class='"+this._options.classView+"' tabIndex='0' style='width:100%;' onscroll='JGM.m.ViewportManager."+this.mid+"._scroll()'>").appendTo(this._ctnr);this._canvas=$("<div class='"+this._options.classCanvas+"' style='height:"+this._calCanvasHeight()+"px;'>").appendTo(this._mask);
this._canvasEl=this._canvas[0];this._mask.bind("selectstart.ui",function(a){return $(a.target).is("input, textarea")});this._mask.blur(function(c){a._evtmgr.trigger("onBlurCanvas",[c],!0)}).focus(function(c){a._evtmgr.trigger("onFocusCanvas",[c],!0)});this._percentToPx();this._setColLefts();this._mask[0].style.height=this._calHeight()+"px";this._setCanvasWidth(this._calCanvasWidth(),!0);this._lastRowLen=this._datamgr.datalist.length;this._evtmgr.bind({canvasFind:this._canvasFind,onCreateCss:this._onCreateCss,
onCreateDynamicCss:this._onCreateDynamicCss,onDestroy:this._onDestroy,keydown:this._keydown,keyup:this._keyup,keypress:this._keypress,mousein:this._mousein,mouseout:this._mouseout,mouseenter:this._mouseenter,mouseleave:this._mouseleave,mousemove:this._mousemove,mouseover:this._mouseover,mousedown:this._mousedown,mouseup:this._mouseup,click:this._click,dblclick:this._dblclick,dblclickCanvas:this._dblclickCanvas,resizeWidth:[this._setWidth,this._scroll],"resizeWidth onResizeCol onResizeCanvasHeight":this._resizeWidth,
onAfterRefresh:this.onAfterRefresh,onRenderModules:this._render,onAfterRenderModules:this._resizeWidth,changeVisibleColumns:this._onReorderCols,onResizeCanvasWidth:this._scroll,onUpdateDatarow:this.onUpdateDatarow,onUpdateDatalist:this.onUpdateDatalist,onRemoveDatarow:this.onRemoveDatarow,onRemoveDatalist:this.onRemoveDatalist,onIdChange:this.onIdChange,onIdListChange:this.onIdListChange,unsetDrag:this.unsetDrag},this)};c.unsetDrag=function(){this._drag=!1};c._onDestroy=function(){k._destroy(this,
{name:"ViewportManager",path:"view",$:"_canvas _mask",property:"_ctnr",map:"_vars _lockedRows _renderedRows _options"})};c._onCreateCss=function(){var a="#"+this.grid.mid+" .",c=this._options,b=a+this._cellClass,d=a+this._rowClass,e=this._getBorder()+"px "+c.border,g=this._colmgr.get(),h=g.length,k=0,p=[];p.push(a+c.classView+"{height:"+this._calHeight()+"px;outline:0;position:relative;white-space:nowrap;overflow:auto;line-height:"+c.rowH+"px;cursor:default;-moz-user-select:none;-webkit-user-select:none;"+
c.style+";}");p.push(a+c.classView+" * {line-height:"+c.rowH+"px;}");p.push(a+c.classView+":focus{background:"+c.focusBackground+";outline:"+c.focusOutline+"}");p.push(a+c.classCanvas+"{height:"+this._calCanvasHeight()+"px;"+c.canvasStyle+";padding:0;border:0;margin:0;float:left;position:relative;white-space:nowrap;}");p.push(d+"{background:white;position:absolute;"+c.rowStyle+";padding:0;border:0;margin:0;float:left;width:100%;}");p.push(b+"{height:"+this._toStyleHeight(c.rowH)+"px;border-bottom:"+
e+";float:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;padding-left:"+this._padding.left+"px;padding-right:"+this._padding.right+"px;padding-top:"+this._padding.top+"px;padding-bottom:"+this._padding.bottom+"px;border-right:"+e+";"+c.cellStyle+";}");p.push(b+".fit{width:auto !important;position:absolute !important;overflow:visible !important;}");p.push(b+".first-cell{clear:left;}");p.push(b+".second-last-cell{_margin-right:-3px;}");p.push(b+".last-cell{float:none;_margin-left:0px;width:auto !important;}");
for(c.evenOddRows&&p.push(d+".odd{background:"+c.oddRowsBackground+"}");k<h;k++)p.push(b+".k_"+g[k].key+"{"+g[k].style+"}");return p.join("")};c._onCreateDynamicCss=function(){for(var a="#"+this.grid.mid+" ."+this._cellClass,c=this._colmgr.get(),b="",d=c.length,e=0;e<d;e++)b+=a+".k_"+c[e].key+"{width:"+this._toStyleWidth(c[e].width)+"px}";return b};c.onUpdateDatarow=function(a,c,b){this.isRendered(a)&&this.rerenderRow(a)};c.onUpdateDatalist=function(a,c,b){b=a.length;for(var d=0;d<b;d++)c=a[d],this.isRendered(c)&&
this.rerenderRow(c)};c.onRemoveDatarow=function(a){this.destroyRow(a)};c.onRemoveDatalist=function(a){for(var c=a.length,b=0;b<c;b++)this.destroyRow(a[b])};c.onIdChange=function(a,c,b){this.isRowLockedById(c)&&(this._lockedRows[b]=this._lockedRows[c],delete this._lockedRows[c]);this.isRenderedById(c)&&((this._renderedRows[b]=this._renderedRows[c]).setAttribute("i",b),delete this._renderedRows[c])};c.onIdListChange=function(a,c,b){for(var d=a.length,e=0,g=this._lockedRows,h=this._renderedRows,k,p;e<
d;e++)k=c[e],p=a[e][b],g.hasOwnProperty(k)&&(g[p]=g[k],delete g[k]),h.hasOwnProperty(k)&&((h[p]=h[k]).setAttribute("i",p),delete h[k])};c._getCellSelector=function(){return"#"+this.grid.mid+" ."+this._cellClass};c._getRowSelector=function(){return"#"+this.grid.mid+" ."+this._rowClass};c.scrollTo=function(a,c){this.scrollToRow(a);this.scrollToCol(c)};c.scrollToRowLazy=function(a){var c=this.getScrollTop();return null==a?c:this._getLastSafeVisibleRow()<a?this.scrollToRow(this._getFirstRowForSafe(a)):
this._getFirstSafeVisibleRow()>a?this.scrollToRow(a):c};c.scrollToColLazy=function(a){var c=this.getScrollLeft();if(null==a)return c;var b=this._colLefts[a],d=this._colLefts[a+1],e=this._calCanvasWidth();b>=e&&(b-=e,d-=e);return c>b||c+this._mask[0].clientWidth<d?this.setScrollLeft(this.getScrollHForSafe(a)):this._getFirstSafeVisibleCol()>a?this.scrollToCol(a):c};c.scrollToLazy=function(a,c){this.scrollToRowLazy(a);this.scrollToColLazy(c)};c.scrollToRow=function(a){return null!=a?this.setScrollTop(this._getRowOuterHeight()*
a):this.getScrollTop()};c.scrollToCol=function(a){return this.setScrollLeft(this.getColLeft(a))};c._toStyleWidth=function(a){return k.quirk?a+this._colWidthPlus():a};c._toStyleHeight=function(a){return k.quirk?a+this._colHeightPlus():a};c._getColInnerWidth=function(a){return this._colmgr.get(a).width};c._getColInnerWidthByKey=function(a){return this._colmgr.getByKey(a).width};c.getColWidth=function(a){return this._getColInnerWidth(a)+this._padding.left+this._padding.right};c.getColWidthByKey=function(a){return this._getColInnerWidthByKey(a)+
this._padding.left+this._padding.right};c._getColOuterWidth=function(a){return this._getColInnerWidth(a)+this._colWidthPlus()};c._getColOuterWidthByKey=function(a){return this._getColInnerWidthByKey(a)+this._colWidthPlus()};c._getBorder=function(){return this._border||(this._border=this._options.borderThickness)};c._colWidthPlus=function(){return this._columnWidthPlus||(this._columnWidthPlus=this._padding.left+this._padding.right+this._getBorder())};c.colWidthPlus=c._colWidthPlus;c._colHeightPlus=
function(){return this._columnHeightPlus||(this._columnHeightPlus=this._padding.top+this._padding.bottom+this._getBorder())};c._getSingleRowOuterHeight=function(){return this._options.rowH+this._getBorder()+this._padding.top+this._padding.bottom};c._getRowOuterHeight=function(){var a=this._colmgr.hasDropDowns()?2:1;return(this._options.rowH+this._getBorder()+this._padding.top+this._padding.bottom)*a};c._getRowInnerHeight=function(){var a=this._colmgr.hasDropDowns()?2:1;return this._options.rowH*a};
c._calHeight=function(){if(this._options.autoHeight){if(this._options.maxRowsPerPage&&this._options.maxRowsPerPage<this._datamgr.datalist.length){var a=this.grid.width()<this._calCanvasWidth()+this.grid._vars.scrollbarDim.v?this.grid._vars.scrollbarDim.h:0;return this._getSingleRowOuterHeight()*this._options.maxRowsPerPage+a}a=this.grid.width()<this._calCanvasWidth()?this.grid._vars.scrollbarDim.h:0;return this._calCanvasHeight()+a}return this._getSingleRowOuterHeight()*this._options.rowsPerPage};
c.getHeight=function(){return this._mask[0].offsetHeight};c.getInnerHeight=function(){return this._mask[0].clientHeight};c._getWidth=function(){return this._mask[0].offsetWidth};c.getInnerWidth=function(){return this._mask[0].clientWidth};c._calCanvasHeight=function(){return this._getRowOuterHeight()*this._datamgr.datalist.length||1};c.getCanvasHeight=function(){return this._canvasEl.clientHeight};c._setCanvasHeight=function(a){a=parseInt(a,10);if(isNaN(a)||1>a)a=1;var c=this.getCanvasHeight();a!=
c&&(this._canvasEl.style.height=a+"px",this._evtmgr.trigger("onResizeCanvasHeight",[a,c],!0))};c._calCanvasWidth=function(){for(var a=this._colmgr.get(),c=0,b=a.length;c<b&&!a[c].dropDown;c++);return this._colLefts[c]};c.getCanvasWidth=function(){return this._canvasEl.clientWidth};c._setCanvasWidth=function(a,c){"number"!=typeof a&&(a=parseInt(a,10));if(isFinite(a)&&!(1>a)){var b=this.getCanvasWidth();if(c||a!=b)this._canvasEl.style.width=a+"px",this._evtmgr.trigger("onResizeCanvasWidth",[a,b],!0)}};
c.getColLeft=function(a){return this._colLefts[a]};c._getColLefts=function(){return this._colLefts};c._setColLefts=function(a,c){a=a||0;var b=this._colmgr.get(),d=this._colLefts[a],e=this._colmgr.hasDropDowns(),b=b.length;for(c=c||b;a<c;a++)d=this._colLefts[a+1]=d+this._getColOuterWidth(a);e&&a==b&&(this._colLefts[a]=2*this._calCanvasWidth());return this._colLefts};c._percentToPx=function(){for(var a=this._colmgr.getAll(),c=0,b=0,d=this._colWidthPlus(),e=0,g=a.length;e<g;e++){var h=a[e],k=h.width;
if("string"===typeof k&&(k.replace(/\s/g,""),-1!==k.indexOf("%",k.length-1))){if(this.grid._autoWidth)throw Error("% width cannot be used with autoWidth option");k=Number(k.slice(0,-1));h.width=Math.round(this.grid._lastW*(c+k)/100-b-d);c+=k;b+=h.width+d}}};c.saveColWRatio=function(a,c){this._colRatios[a]=(c+this._colWidthPlus())/this.grid._lastW};c.loadColWRatio=function(a,c){if(!this.grid._autoWidth)for(var b=this._colmgr.get(),d=this._colRatios,e=0,g=0,h=0,k=b.length;h<k;h++){var p=b[h].key;d.hasOwnProperty(p)||
(d[p]=(b[h].width+this._colWidthPlus())/c);var u=d[p]*a-this._colWidthPlus(),v=Math.round(e+u-g),e=e+u,g=g+v;this.setWidthByKey(p,v,!0)}};c._onReorderCols=function(a,c){this._setColLefts();this._setCanvasWidth(this._calCanvasWidth());(!c||!c.noRerender)&&this._rerender(!(c&&c.source))};c.getPagingProps=function(){return{rowsPerPage:this._options.rowsPerPage,autoHeight:this._options.autoHeight,maxRowsPerPage:this._options.maxRowsPerPage}};c.setPagingProps=function(a){this._options.rowsPerPage=a.rowsPerPage;
this._options.autoHeight=a.autoHeight;this._options.maxRowsPerPage=a.maxRowsPerPage;this._mask[0].style.height=this._calHeight()+"px";var c=this;this._options.autoHeight&&setTimeout(function(){c._fitHeight()},0);this._rerender()};c.setWidthByKey=function(a,c,b){var d=this._colmgr.getByKey(a);c=e.bound(c,d.minW,d.maxW);if(c===d.width)return!1;var g=this._evtmgr,h=this._colmgr,k=[a,c,d.width];d.width=c;if(!b&&this.grid._fixColWRatio){c=this._colmgr.getAll();b=0;for(d=c.length;b<d;b++)this._colRatios[c[b].key]=
(c[b].width+this._colWidthPlus())/this.grid._lastW}this._setColLefts(h.getIdxByKey(a));this._setCanvasWidth(this._calCanvasWidth());this.grid._recreateDynamicCss();g.trigger("onResizeCol_"+a,k,!0);g.trigger("onResizeCol",k,!0);return!0};c._autoColWidth=function(a){for(var c=this._canvasFind(".k_"+a),b=Number.MIN_VALUE,d=c.length,e=0;e<d;e++){var g=$(c[e]);g.addClass("fit");var h=g.outerWidth();b<h&&(b=h);g.removeClass("fit")}if(c=this._evtmgr.trigger("onGetMaxContentWidth",[a])){d=c.length;for(e=
0;e<d;e++)b<c[e]&&(b=c[e])}b-=this._padding.left+this._padding.right;this.setWidthByKey(a,b)};c.autoColWidth=c._autoColWidth;c._setWidth=function(a){};c.getScrollTop=function(){return this._mask[0].scrollTop};c.getScrollLeft=function(){return this._mask[0].scrollLeft};c.setScrollTop=function(a){var c=this.getScrollTop();return null!=a&&c!=a?this._mask[0].scrollTop=a:c};c.setScrollLeft=function(a){var c=this.getScrollLeft();return null!=a&&c!=a?this._mask[0].scrollLeft=a:c};c._hasHScrollbar=function(){return this._mask[0].offsetHeight>
this._mask[0].clientHeight};c._hasVScrollbar=function(){return this._mask[0].offsetWidth>this._mask[0].clientWidth};c._heightPlus=function(){return this._mask[0].offsetHeight-this._mask[0].clientHeight};c._widthPlus=function(){return this._mask[0].offsetWidth-this._mask[0].clientWidth};c._getFirstVisibleRow=function(){return Math.floor(this.getScrollTop()/this._getRowOuterHeight())};c._getFirstSafeVisibleRow=function(){return Math.ceil(this.getScrollTop()/this._getRowOuterHeight())};c._getLastVisibleRow=
function(){return Math.ceil((this.getScrollTop()+this._mask[0].clientHeight)/this._getRowOuterHeight())-1};c._getLastSafeVisibleRow=function(){return Math.floor((this.getScrollTop()+this._mask[0].clientHeight)/this._getRowOuterHeight())-1};c._getFirstRowForSafe=function(a){return a-Math.floor(this._mask[0].clientHeight/this._getRowOuterHeight())+1};c._getFirstVisibleCol=function(){for(var a=this.getScrollLeft(),c=this._colLefts,b=0,d=c.length;b<d;b++){if(c[b]>a)return b-1;if(c[b]===a)return b}return d-
2};c._getFirstSafeVisibleCol=function(){for(var a=this.getScrollLeft(),c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>=a)return b;return d-2};c._getLastVisibleCol=function(){for(var a=this.getScrollLeft()+this._mask[0].clientWidth,c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>=a)return b-1;return d-2};c._getLastSafeVisibleCol=function(){for(var a=this.getScrollLeft()+this._mask[0].clientWidth,c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>a)return b-2;return d-2};c._getFirstColForSafe=function(a){var c=
this._colLefts,b=c[a+1]-this._mask[0].clientWidth,d=a;if(0>=b)return 0;for(;0<=d;d--){if(d===a&&c[d]<=b||c[d]===b)return d;if(c[d]<b)return d+1}return 0};c.getScrollHForSafe=function(a){var c=this._colLefts,b=c[a],d=this.getCanvasWidth();a=c[a+1];b>=d&&(b-=d,a-=d);d=a-this._mask[0].clientWidth;return b<=d?b:d};c._getRenderRange=function(){if(this._options.autoHeight&&(!this._options.maxRowsPerPage||this._datamgr.datalist.length<=this._options.maxRowsPerPage))return{start:0,end:this._datamgr.datalist.length-
1};var a,c=this._datamgr.datalist.length-1,b=this._options.autoHeight&&null!=this._options.maxRowsPerPage?this._options.maxRowsPerPage:this._options.rowsPerPage,d=this._getFirstVisibleRow();return{start:0>(a=d-this._options.bufferSize)?0:a,end:(a=d+b-1+this._options.bufferSize)>c?c:a}};c._fitHeight=function(){this._mask[0].style.height=this._options.maxRowsPerPage&&this._datamgr.datalist.length>this._options.maxRowsPerPage?this._getRowOuterHeight()*this._options.maxRowsPerPage+this._heightPlus()+
"px":this.getCanvasHeight()+this._heightPlus()+"px"};c._resizeWidth=function(a){this._options.autoHeight&&this._fitHeight()};c.onAfterRefresh=function(a){void 0!==a&&!0===a.noRerender||this._rerender()};c._rerender=function(a){var c=this.getScrollTop(),b=this.getScrollLeft();this._evtmgr.trigger("onBeforeRerender",!1,!0);a&&this.grid._recreateDynamicCss();this.unlockAllRows();this._removeRows();a=this._datamgr.datalist.length;this._lastRowLen!==a&&(this._lastRowLen=a,this._setCanvasHeight(this._calCanvasHeight()));
this._render();this.setScrollTop(c);this.setScrollLeft(b);this._evtmgr.trigger("onAfterRerender",!1,!0)};c.rerender=c._rerender;c._render=function(a){this._removeAndRenderRows(a)};c._renderShift=function(a){a=a||this._getRenderRange();this._removeRowsExcept(a);this._appendRows(a)};c._removeRows=function(a){var c=this._canvasEl,b=this._renderedRows,d=this._lockedRows,e;if(a){var g=a.start;a=a.end;for(var h=this._datamgr;g<=a;g++)if(!d.hasOwnProperty(e=h.getIdByIdx(g))&&b.hasOwnProperty(e))c.removeChild(b[e]),
delete b[e]}else if(this._lockExist())for(e in b)!d.hasOwnProperty(e)&&b.hasOwnProperty(e)&&(c.removeChild(b[e]),delete b[e]);else this._renderedRows={},c.innerHTML=""};c._removeRowsExcept=function(a){var c=this._canvasEl,b=this._renderedRows,d=this._lockedRows,e;if(a){var g=a.start;a=a.end;var h=this._datamgr,k;for(e in b)if(b.hasOwnProperty(e)&&!(d.hasOwnProperty(e)||g<=(k=h.getIdxById(e))&&k<=a))c.removeChild(b[e]),delete b[e]}else if(this._lockExist())for(e in b)b.hasOwnProperty(e)&&!1===d.hasOwnProperty(e)&&
(c.removeChild(b[e]),delete b[e]);else this._renderedRows={},c.innerHTML=""};c.destroyRow=function(a){return this.destroyRowById(this._datamgr.getId(a))};c.destroyRowById=function(a){null!=a&&(this.unlockRowById(a),this._renderedRows.hasOwnProperty(a)&&(this._canvasEl.removeChild(this._renderedRows[a]),delete this._renderedRows[a]))};c.destroyRowByIdx=function(a){return this.destroyRowById(this._datamgr.getIdByIdx(a))};c._lockExist=function(){return e.isNotEmptyObj(this._lockedRows)};c.isRowLockedById=
function(a){return null!=a?this._lockedRows.hasOwnProperty(a):!1};c.isRowLocked=function(a){return this.isRowLockedById(this._datamgr.getId(a))};c.isRowLockedByIdx=function(a){return this.isRowLockedById(this._datamgr.getIdByIdx(a))};c.lockRowById=function(a){null!=a&&this._datamgr.hasById(a)&&(this._lockedRows[a]=!0)};c.lockRow=function(a){return this.lockRowById(this._datamgr.getId(a))};c.lockRowByIdx=function(a){return this.lockRowById(this._datamgr.getIdByIdx(a))};c.unlockRowById=function(a){this.isRowLockedById(a)&&
delete this._lockedRows[a]};c.unlockRow=function(a){return this.unlockRowById(this._datamgr.getId(a))};c.unlockRowByIdx=function(a){return this.unlockRowById(this._datamgr.getIdByIdx(a))};c.unlockAllRows=function(){this._lockedRows={}};c.rerenderRowById=function(a){if(this._datamgr.containsById(a)){var c=this._renderedRows,b=this._canvasEl,d=this._datamgr,g=d.idKey,h=d.getIdxById(a),d=d.getById(a),k=this._colmgr.get(),q=this._getColCellClasses(k).map(function(a){return"<div class='"+a+" "}),p=this._getRendererSettings(k),
u=p[0],p=p[1],v=this._getRowOuterHeight(),z="<div class='"+this._rowClass+" odd' i='",x="<div class='"+this._rowClass+"' i='",y="' "+this._rowIdxAttr+"='",w=[];c.hasOwnProperty(a)&&(b.removeChild(c[a]),this._evtmgr.trigger("onBeforeRenderRows",[[h]],!0),w[w.length]=(h%2?x:z)+d[g]+y+h+"' style='top:"+v*h+"px'>",this._renderRow(w,h,d,k,q,u,p),c[a]=e.appendHTML(b,w.join(""))[0],this._evtmgr.trigger("onAppendRows",[[h]],!0))}};c._getRendererSettings=function(a){a=a||this._colmgr.get();for(var c=0,b=a.length,
d,e=[],g=[],h;c<b;c++)d=a[c],(h=d.renderer)?(e.push(!!d.rendererInput),g.push(h)):(e.push(!1),g.push(!1));return[g,e]};c.rerenderRow=function(a){return this.rerenderRowById(this._datamgr.getId(a))};c.rerenderRowByIdx=function(a){return this.rerenderRowById(this._datamgr.getIdByIdx(a))};c.rerenderCellByIdAndKey=function(a,c){var b=this.getCellByIdAndKey(a,c);if(b){var d=this._datamgr,e=this._colmgr,g=d.getById(a),h=e.getByKey(c),d=d.getIdxById(a),e=e.getIdxByKey(c),k=h.renderer,p=[];this._renderCell(p,
d,e,g,h,k,k?h.rendererInput:!1);b.innerHTML=p.join("")}};c.rerenderCellByIdx=function(a,c){return this.rerenderCellByIdAndKey(this._datamgr.getIdByIdx(a),this._colmgr.getKeyByIdx(c))};c._appendRows=function(a){var c=this._evtmgr,b=[a],d=[],g=a.start;a=a.end;var h=this._datamgr,k=h.datalist,q=h.idKey,p=this._colmgr.get(),u=this._getColCellClasses(p).map(function(a){return"<div class='"+a+" "}),h=this._renderedRows,v=this._getRowOuterHeight(),z=this._canvasEl,x="<div class='"+this._rowClass+" odd' i='",
y="<div class='"+this._rowClass+"' i='",w="' "+this._rowIdxAttr+"='",B=this._getRendererSettings(p),A=B[0],D=B[1],E,C,B=[];for(c.trigger("onBeforeRenderRows",b,!0);g<=a;g++)E=k[g],C=E[q],h.hasOwnProperty(C)||(d[d.length]=(g%2?y:x)+C+w+g+"' style='top:"+v*g+"px'>",this._renderRow(d,g,E,p,u,A,D),B.push(C));d=e.appendHTML(z,d.join(""));g=0;for(a=B.length;g<a;g++)h[B[g]]=d[g];c.trigger("onAppendRows",b,!0)};c.autoSizeColumns=function(a,c){var b=this._evtmgr,d=this._datamgr.datalist,e=d.length,g=a?a:this._colmgr.get(),
h=g.length,k=c&&null!=c.min?c.min:0,p=c&&null!=c.max?c.max:e,u=this._canvasEl,v=this._getRendererSettings(g),z=v[0],x=v[1],y=document.createElement("div"),w,B,A=[],v=[];for(w=0;w<h;w++)v[w]=0;k=0>k?0:k;p=p>e?e:p;y.className=this._rowClass;y.style.left="-9999px";y.style.visibility="hidden";var e=this._getColCellClasses(g).map(function(a){var c=document.createElement("div");c.className=a.replace(/k_\S*/,"");return c}),D=document.createDocumentFragment();for(w=k;w<p;w=B){B=w+1E3>p?p:w+1E3;for(A.length=
0;w<B;w++){for(var E=d[w],C=[w,null,E,null],G=y.cloneNode(!0),k=0;k<h;k++){var F=g[k],I=e[k].cloneNode(!0);C[1]=k;C[3]=F;var H=b.trigger("onGetCellClass",C);H&&(I.className+=" "+H.join(" "));H=[];this._renderCell(H,w,k,E,F,z[k],x[k]);I.innerHTML=H.join("");G.appendChild(I)}D.appendChild(G);A.push(G)}u.appendChild(D);w=0;for(F=A.length;w<F;w++){E=A[w].childNodes;for(k=0;k<h;k++)C=$(E[k]).outerWidth(),v[k]<C&&(v[k]=C)}w=0;for(F=A.length;w<F;w++)u.removeChild(A[w]),delete A[w]}b=this.colWidthPlus();
w=0;for(e=g.length;w<e;w++){F=g[w];p=v[w];if(d=this._evtmgr.trigger("onGetMaxContentWidth",[F.key])){h=d.length;for(k=0;k<h;k++)p<d[k]&&(p=d[k])}this.setWidthByKey(F.key,p-b+1)}return v};c._removeAndRenderRows=function(a){a=a||this._getRenderRange();var c=this._evtmgr,b=[a],d=[],e=a.start;a=a.end;var g=this._datamgr,h=g.datalist,g=g.idKey,k=this._colmgr.get(),p=this._getColCellClasses(k).map(function(a){return"<div class='"+a+" "}),u=this._getRowOuterHeight(),v=this._canvasEl,z="<div class='"+this._rowClass+
" odd' i='",x="<div class='"+this._rowClass+"' i='",y="' "+this._rowIdxAttr+"='",w=this._getRendererSettings(k),B=w[0],w=w[1],A,D,E=[],C={};for(c.trigger("onBeforeRenderRows",b,!0);e<=a;e++)A=h[e],D=A[g],d[d.length]=(e%2?x:z)+D+y+e+"' style='top:"+u*e+"px'>",this._renderRow(d,e,A,k,p,B,w),E.push(D);v.innerHTML=d.join("");e=0;for(a=E.length;e<a;e++)C[E[e]]=v.childNodes[e];this._renderedRows=C;c.trigger("onAppendRows",b,!0)};c.removeAndRenderRows=c._removeAndRenderRows;c._renderColumn=function(a,c,
d,g,h,k,t){for(var q=[],p,u=0,v=d.length,z,x,y,w=c.key,B,A=this.grid,D=this._evtmgr,E="onRenderCell_"+w,C=[null,a,x,c],G=[null,a,null,c,null],F=e.encode;u<v;u++){z=d[u];x=g[z];y=x[w];p=[];G[0]=C[0]=z;G[2]=x;G[4]=p;B=D.trigger("onGetCellClass",C);p[p.length]=B?h+B.join(" ")+"'>":h+"'>";D.trigger(E+"_prepend",G,!0);if("string"!=typeof y||"J@H"!==y.substring(0,3))k?p[p.length]=t?k(new b({grid:A,row:z,col:a,datarow:x,colDef:c})):k(y,z,a,x,c):null!=y&&(p[p.length]=F(y));D.trigger(E+"_append",G,!0);p[p.length]=
"</div>";q[q.length]=p.join("")}return q};c._getColCellClass=function(a){var c=this._cellClass+" k_"+a.key;a.colClass&&(c+=" "+a.colClass);(a=this._evtmgr.trigger("onGetColCellClass",[a]))&&(c+=" "+a.join(" "));return c};c._getColCellClasses=function(a){var c=this;return(a||this._colmgr.get()).map(function(a){return c._getColCellClass(a)})};c._renderRow=function(a,c,b,d,g,h,k){var q=0,p=d.length,u,v,z=[c,null,b,null],x=this._evtmgr,y,w,B=e.encode;w=!0;for(v=0<p?d[0]:null;q<p;q++){u=v;v=q+1<p?d[q+
1]:null;z[1]=q;z[3]=u;y=x.trigger("onGetCellClass",z);a[a.length]=g[q];w&&(w=!1,a[a.length]="first-cell ");if(!v||v.dropDown)w=!0,a[a.length]="last-cell ";else if(q+2>=p||d[q+2].dropDown)a[a.length]="second-last-cell ";y&&(a[a.length]=y.join(" "));y=b[u.key];a[a.length]=null==y||""===y?"'>":this._options.noTitleAttr?"'>":"' title='"+B(y)+"'>";this._renderCell(a,c,q,b,u,h[q],k[q]);a[a.length]="</div>"}a[a.length]="</div>";return a};c._renderCell=function(a,c,d,g,h,k,t){var q=h.key,p=g[q],u=[c,d,g,
h,a],v=this._evtmgr,q="onRenderCell_"+q,z=e.encode;v.trigger(q+"_prepend",u,!0);if("string"!=typeof p||"J@H"!==p.substring(0,3))k?a[a.length]=t?arguments[5](new b({grid:this.grid,row:c,col:d,datarow:g,colDef:h})):arguments[5](p,c,d,g,h):null==p||""===p||(a[a.length]=z(p));v.trigger(q+"_append",u,!0)};b.prototype.rerender=function(){return this.grid.view.rerenderCellByIdAndKey(this.getId(),this.getKey())};b.prototype.scrollTo=function(){this.grid.view.scrollTo(this.getRowIdx(),this.getColIdx())};c._keydown=
function(a){e.contains(this._mask[0],document.activeElement,this._ctnr[0])&&(this._evtmgr.trigger("keydownCanvas_"+a.which,[a],!0),this._evtmgr.trigger("keydownCanvas",[a],!0))};c._keyup=function(a){e.contains(this._mask[0],document.activeElement,this._ctnr[0])&&(this._evtmgr.trigger("keyupCanvas_"+a.which,[a],!0),this._evtmgr.trigger("keyupCanvas",[a],!0))};c._keypress=function(a){e.contains(this._mask[0],document.activeElement,this._ctnr[0])&&(this._evtmgr.trigger("keypressCanvas_"+a.which,[a],
!0),this._evtmgr.trigger("keypressCanvas",[a],!0))};c._mousein=function(a){this._drag?this._triggerMouseEvent(a,"draginCanvas,mouseinCanvas",h.V_MOUSEIN):this._triggerMouseEvent(a,"mouseinCanvas",h.V_MOUSEIN)};c._mouseout=function(a){this._drag?this._triggerMouseEvent(a,"dragoutCanvas,mouseoutCanvas",h.V_MOUSEOUT):this._triggerMouseEvent(a,"mouseoutCanvas",h.V_MOUSEOUT)};c._mouseenter=function(a){this._drag?this._triggerMouseEvent(a,"dragenterCanvas,mouseenterCanvas",h.V_MOUSEENTER):this._triggerMouseEvent(a,
"mouseenterCanvas",h.V_MOUSEENTER)};c._mouseleave=function(a){this._drag?this._triggerMouseEvent(a,"dragleaveCanvas,mouseleaveCanvas",h.V_MOUSELEAVE):this._triggerMouseEvent(a,"mouseleaveCanvas",h.V_MOUSELEAVE)};c._mousemove=function(a){this._drag?this._triggerMouseEvent(a,"dragmoveCanvas,mousemoveCanvas",h.V_MOUSEMOVE):this._triggerMouseEvent(a,"mousemoveCanvas",h.V_MOUSEMOVE)};c._mouseover=function(a){this._drag?this._triggerMouseEvent(a,"dragoverCanvas,mouseoverCanvas",h.V_MOUSEOVER):this._triggerMouseEvent(a,
"mouseoverCanvas",h.V_MOUSEOVER)};c._mousedown=function(a){this._triggerMouseEvent(a,"mousedownCanvas",h.V_MOUSEDOWN)&&(this._drag=!0)};c._mouseup=function(a){this._drag=!1;this._triggerMouseEvent(a,"mouseupCanvas",h.V_MOUSEUP)};c._click=function(a){this._triggerMouseEvent(a,"clickCanvas",h.V_CLICK)&&this.focus(a)};c.getRenderedData=function(a,c){var b=this._datamgr.getIdx(a),d=this._colmgr.getIdxByKey(c),e=this._colmgr.getByKey(c);return this.getFormattedData("renderer",a[c],b,d,a,e)};c.getFormattedData=
function(a,c,b,d,e,g){if(!a||"data"===a)return c;if("string"==typeof a){if("renderer"==a)return(a=g.renderer)?a&&g.rendererInput?a(new k.Cell({grid:this.grid,row:b,col:d,datarow:e,colDef:g})):a(c,b,d,e,g):c}else if("function"==typeof a)return a(c,b,d,e,g)};c._dblclickCanvas=function(a,c){if((!this.grid.editMgr||!this.grid.editMgr.isEditable(c))&&this._options.rowPopUpEnabled){for(var b=[],d=this._colmgr.get(),e=c.getDatarow(),g=c.getRowIdx(),h=0,k=d.length;h<k;h++){var p=d[h],u={};u.key=p.name;u.value=
this.getFormattedData(p.rowPopUpFormat,e[p.key],g,h,e,p);null==u.value&&(u.value="");b.push(u)}this._options.rowPopUpHandler(b)}};c._dblclick=function(a){this._triggerMouseEvent(a,"dblclickCanvas",h.V_DBLCLICK)};c._triggerMouseEvent=function(c,l){try{var m=c.target;if(m){var e=this._getClosestCell(c.target);if(e){var g=m.tagName,h=m.type&&m.type.toLowerCase();if(d[h]||!a[g]){var k=new b({grid:this.grid,node:e}),q=k.getKey(),m=[c,k],p=this._evtmgr;if(-1<l.indexOf(","))for(var u=l.split(","),e=0,v=
u.length,z;e<v;e++)z=u[e],p.trigger(z+"_"+q,m,!0),p.trigger(z,m,!0);else p.trigger(l+"_"+q,m,!0),p.trigger(l,m,!0);return!0}}}return!1}catch(x){return!1}};c._scroll=function(){var a=this.getScrollTop(),c=a-this._lastScrollTop,b=this.getScrollLeft(),d=b-this._lastScrollLeft;if(0!==c||0!==d){var e=this._evtmgr,c=Math.abs(c/this._getRowOuterHeight());e.trigger("onScrollViewport",!1,!0);d&&(this._lastScrollLeft=b,e.trigger("onScrollViewportH",[b],!0));b=this.renderElapsed;null==b&&(b=50);500<b&&(b=500);
if(c>=this._options.appendThreshold){this.scrollHandlerId&&(window.clearTimeout(this.scrollHandlerId),this.scrollHandlerId=null);var g=this;this.scrollHandlerId=window.setTimeout(function(){var c=(new Date).getTime();g._lastScrollTop=a;g._removeAndRenderRows();e.trigger("onScrollViewportV",!1,!0);g.renderElapsed=(new Date).getTime()-c},b)}}};c.focus=function(a){if(!a||!this._evtmgr.triggerInvalid("onBeforeFocusCanvas",[a]))if(a=this._mask[0],document.activeElement!==a){if(a.setActive)try{a.setActive()}catch(c){}a.focus();
document.activeElement!==a&&this._mask.focus()}};c.isRenderedById=function(a){return null!=a?this._renderedRows.hasOwnProperty(a):!1};c.isRendered=function(a){return this.isRenderedById(this._datamgr.getId(a))};c.isRenderedByIdx=function(a){return this.isRenderedById(this._datamgr.getIdByIdx(a))};c.getRowById=function(a){if(this.isRenderedById(a))return this._renderedRows[a]};c.getRow=function(a){return this.getRowById(this._datamgr.getId(a))};c.getRowByIdx=function(a){return this.getRowById(this._datamgr.getIdByIdx(a))};
c.getRenderedRowById=function(a){if(this.isRenderedById(a))return this._renderedRows[a]};c.getRenderedRow=function(a){return this.getRenderedRowById(this._datamgr.getId(a))};c.getRenderedRowByIdx=function(a){return this.getRenderedRowById(this._datamgr.getIdByIdx(a))};c.getRenderedRows=function(){return e.toArray(this._renderedRows)};c.getCell=function(a,c){if(null!=c){var b=this.getRowByIdx(a);if(b)return b.childNodes[c]}};c.getCellByIdAndKey=function(a,c){var b=this._colmgr.getIdxByKey(c);if(null!=
b){var d=this.getRowById(a);if(d)return d.childNodes[b]}};c.getRenderedCell=function(a,c){if(null!=c){var b=this.getRenderedRowByIdx(a);if(b)return b.childNodes[c]}};c.getRenderedCellByIdAndKey=function(a,c){var b=this._colmgr.getIdxByKey(c);if(null!=b){var d=this.getRenderedRowById(a);if(d)return d.childNodes[b]}};c._getClosestCell=function(a){return e.closestWithTag(a,"DIV",this._cellClass,this._canvasEl)};c._getClosestRow=function(a){return e.closestWithTag(a,"DIV",this._rowClass,this._canvasEl)};
c._getClosestRowIdx=function(a){return this._datamgr.getIdxByNode(this._getClosestRow(a))};c._canvasFind=function(a){return this._canvas.find(a)};g._renderer=function(a,c,b,d,e,g){return null==a?"":a};g._rowPopUpHandler=function(a){for(var c="<table>",b=0,d=a.length;b<d;b++)c+="<tr><td class='key'>",c+=a[b].key,c+="</td><td class='value'>",c+=a[b].value,c+="</td></tr>";c+="</table>";a=window.open("","grid_row_details",function(a,c){var b="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,
d="undefined"!=typeof window.screenY?window.screenY:window.screenTop,f="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,b=parseInt((0>b?window.screen.width+b:b)+(("undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth)-a)/2,10),d=parseInt(d+(f-c)/2.5,10);return"width="+a+",height="+c+",left="+b+",top="+d+",scrollbars=1"}(350,450));a.document.open();a.document.write("<html><head><title>상세보기</title><style>body {   padding: 5px;}table, tr, td {   margin: 0;   border: 1px solid #D0D7E5;   font: 12px Arial,Helvetica,sans-serif;   text-align: middle;} table {   border-collapse:collapse;   table-layout:fixed;} td {   padding: 0 10px;   height: 20px;}td.key {   width:110px;   background-color: #DCEBFE;} td.value {   width:180px;} </style><body>"+
c+"</body></html>");a.document.close();a.focus()}})();jx.grid.PrintManager={};
(function(){function g(b){this.mid=b.mid;this._ctnr=Util$.safe$(b.container);this.grid=b.grid;this._options=k._extend({title:"Print Preview",font:"15px arial,sans-serif",headerFontColor:"#27413E",headerBackgroundColor:"#DCDEDE",tableBorderColor:"#6E7174",headerBorderColor:"#909192",cellBorderColor:"#D0D7E5",winOptions:{name:"Print Preview",width:800,height:600,directories:"no",location:"no",menubar:"no",status:"no",toolbar:"no"}},b.options);this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");
goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.PrintManager",g);g.getInstance=function(b){return new g(b)};var e=g.prototype;e.__init=function(){var b=this;this._ctnr[0].innerHTML="<button type='button'>Print</button>";this._ctnr.click(function(){b.print()})};e.print=function(){var b=this.getPrintHtml(this.grid.colDefMgr.get(),this.grid.dataMgr.datalist),a=h.open(this._options.winOptions);a.document.write(b);a.document.close()};e.getPrintHtml=function(b,a){var d=this._options,
c=d.tableBorderColor,f=d.headerBorderColor,l=d.cellBorderColor,m=[],e=b.length,g=e-1,h=a.length,k=h-1,q=0,p;m.push("<html><head>");m.push("<title>"+d.title+"</title>");m.push("</head><body onload='window.print();'>");m.push("<table width='100%' cellspacing='0' cellpadding='0'><tbody><tr><td align='left'>");m.push("<table width='100%' cellspacing='0' cellpadding='2' style='border-collapse:collapse'>");m.push("<tbody style='font:"+d.font+";'>");for(m.push("<tr style='background-color:"+d.headerBackgroundColor+
";color:"+d.headerFontColor+";text-align:center'>");q<e;q++)m.push("<td style='border:solid 1px "+f+";'>"+b[q].name+"</td>");m.push("</tr>");for(q=0;q<h;q++){d=a[q];m.push("<tr>");if(0===q)for(p=0;p<e;p++)0===p?m.push("<td style='border:solid 1px "+l+";border-top:solid 1px "+f+";border-left:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):p===g?m.push("<td style='border:solid 1px "+l+";border-top:solid 1px "+f+";border-right:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):m.push("<td style='border:solid 1px "+l+";border-top:solid 1px "+
f+"'>"+d[b[p].key]+"</td>");else if(q<k)for(p=0;p<e;p++)0===p?m.push("<td style='border:solid 1px "+l+";border-left:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):p===g?m.push("<td style='border:solid 1px "+l+";border-right:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):m.push("<td style='border:solid 1px "+l+"'>"+d[b[p].key]+"</td>");else for(p=0;p<e;p++)0===p?m.push("<td style='border:solid 1px "+l+";border-bottom:solid 1px "+c+";border-left:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):p===g?m.push("<td style='border:solid 1px "+
l+";border-bottom:solid 1px "+c+";border-right:solid 1px "+c+"'>"+d[b[p].key]+"</td>"):m.push("<td style='border:solid 1px "+l+";border-bottom:solid 1px "+c+"'>"+d[b[p].key]+"</td>");m.push("</tr>")}m.push("</tbody></table></td></tr></tbody></table></body></html>");return m.join("")}})();jx.grid.TooltipManager={};
(function(){function g(b){this.mid=b.mid;this.grid=b.grid;this.grid.tooltip=this;this._ctnr=b.container;this._options=k._extend({classTooltip:"jgrid-tooltip",tooltipSyncEnabled:!0,offsetX:0,offsetY:18,background:"#F5F5F5",border:"1px solid #868686",padding:"2px 10px",font:"14px Arial,Helvetica,sans-serif",color:"#333"},b.options);this._tooltip;this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.Grid");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.TooltipManager",
g);g.getInstance=function(b){return new g(b)};var e=g.prototype;e.__init=function(){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy,mouseoutCanvas:this._mouseoutCanvas,mousemoveCanvas:this._mousemoveCanvas,mouseoverCanvas:this._mouseoverCanvas},this)};e._destroy=function(){k._destroy(this,{name:"TooltipManager",path:"tooltip",$:"_tooltip",property:"_ctnr",map:"_options"})};e._onCreateCss=function(){var b=this._options,a=[];a.push("#"+this.grid.mid+" ."+b.classTooltip+"{position:absolute;z-index:10;background:"+
b.background+";border:"+b.border+";padding:"+b.padding+";color:"+b.color+";font:"+b.font+"}");return a.join("")};e._mouseoutCanvas=function(b,a){h.isNotNull(this._tooltip)&&(this._ctnr[0].removeChild(this._tooltip[0]),delete this._tooltip)};e._mousemoveCanvas=function(b,a){var d=this._options;d.tooltipSyncEnabled&&h.isNotNull(this._tooltip)&&this._tooltip.css({left:b.pageX+d.offsetX+"px",top:b.pageY+d.offsetY+"px"})};e._mouseoverCanvas=function(b,a){if(a.getColDef().tooltipEnabled&&h.isNull(this._tooltip)){var d=
this._options,c=document.createElement("div");c.innerHTML="<div class='"+d.classTooltip+"' style='left:"+(b.pageX+d.offsetX)+"px;top:"+(b.pageY+d.offsetY)+"px'>"+a.getValue()+"</div>";this._tooltip=$(c.firstChild);this._ctnr[0].appendChild(this._tooltip[0])}}})();jx.grid.SelectionManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.selMgr=this;this._options=k._extend({rowSelKey:this.grid.dataMgr.idKey,bgColorSelection:"#DCEBFE",bgColorLast:"#f1ca7f",bgColorRange:"#D9D9D9",classSelection:"jgrid-selection",classLast:"selection-last",classRange:"selection-range",multiSelectEnabled:!1,classRowSelected:"rowSelected",highlightRowEnabled:!0,bgColorRowSelected:"#d8dfea"},a.options);this._consts={_UP:1,_DOWN:2,_LEFT:3,_RIGHT:4,_PGDN:5,_PGUP:6,_HOME:7,_END:8,_NAVKEYS:{}};
this._consts._NAVKEYS=h.which("enter arrow pgdn pgup home end esc c".split(" "));this._last;this._range;this._rows={length:0};this._cols={length:0};this._navigationMode=!0;this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");var e=goog.getObjectByName("jx.grid.Cell");goog.exportSymbol("jx.grid.SelectionManager",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){this.bindEvents()};
b.bindEvents=function(){this.grid.event.bind({onAfterSetDatalist:this.empty,onGetCellClass:this._onGetCellClass,onCreateCss:this._onCreateCss,onDestroy:this._destroy,keydownCanvas:this._keydownCanvas,dragoverCanvas:this._dragoverCanvas,mousedownCanvas:this._mousedownCanvas,onBeforeRerender:this._onBeforeRerender,onAfterRerender:this.onAfterRerender,onBeforeDataChange:this.onBeforeDataChange,onFocusCanvas:this._onFocusCanvas},this)};b._destroy=function(){k._deleteMap(this._consts,"_NAVKEYS");var a,
b=this._rows,c=this._cols;for(a in b)b.hasOwnProperty(a)&&"length"!==a&&k._deleteMap(b,a);for(a in c)c.hasOwnProperty(a)&&"length"!==a&&k._deleteMap(c,a);k._destroy(this,{name:"SelectionManager",path:"selMgr",map:"_rows _cols _range _last _consts _options"})};b._onCreateCss=function(){var a=this.grid.event.trigger("onBeforeCreateSelCss"),b="#"+this.grid.mid+" .",c=this._options,a=a||[];!0===c.highlightRowEnabled&&a.push(b+c.classRowSelected+" div{background:"+c.bgColorRowSelected+"}");!0===c.multiSelectEnabled&&
(a.push(b+c.classSelection+"{background:"+c.bgColorSelection+"}"),a.push(b+c.classRange+"{background:"+c.bgColorRange+"}"));a.push("#"+this.grid.mid+" div."+c.classLast+"{background:"+c.bgColorLast+"}");return a.join("\n")};b._onGetCellClass=function(a,b,c,f){var l="",m=this._last,e=this._range,g=this._rows,h=this._options;m&&(m.getDatarow()===c&&m.getColDef()===f)&&(l+=h.classLast);!0===h.multiSelectEnabled&&(e&&(e.getDatarow()===c&&e.getColDef()===f)&&(l+=" "+h.classRange),g.hasOwnProperty(a)&&
g[a].hasOwnProperty(b)&&(l+=" "+h.classSelection));return l};b._onFocusCanvas=function(a){!this._last&&(0<this.grid.dataMgr.datalist.length&&0<this.grid.colDefMgr.length())&&this.selectCell(k.create("Cell",{grid:this.grid,row:0,col:0}))};b._mousedownCanvas=function(a,b){if(!this._last||!this._last.equals(b))this.grid.event.trigger("onBeforeSelect",[a,b],!0),!1===this._options.multiSelectEnabled?this.selectCell(b):a.shiftKey&&this._last&&this._range?this.selectRange(b):a.ctrlKey?b.getKey()===this._options.rowSelKey?
this.addRow(b):this.addCell(b):this.selectCell(b)};b._getNextCell=function(a){var b=a.getRowIdx();a=a.getColIdx();if(a<this.grid.colDefMgr.length()-1)a++;else if(a=0,b++,b>=this.grid.dataMgr.datalist.length)return!1;return k.create("Cell",{grid:this.grid,row:b,col:a})};b._getPrevCell=function(a){var b=a.getRowIdx();a=a.getColIdx();if(0<a)a--;else if(a=this.grid.colDefMgr.length()-1,b--,0>b)return!1;return k.create("Cell",{grid:this.grid,row:b,col:a})};b._dragoverCanvas=function(a,b){!1===this._options.multiSelectEnabled?
this.selectCell(b):this._last&&this._range&&(a.ctrlKey?this.addRange(b):this.selectRange(b))};b._keydownCanvas=function(a){var b=this._last,c=a.which;if(!b)if(0<this.grid.dataMgr.datalist.length&&0<this.grid.colDefMgr.length())this.selectCell(k.create("Cell",{grid:this.grid,row:0,col:0}));else return;var f=this.grid.event;if(this._consts._NAVKEYS[c]){if(!f.triggerInvalid("onBeforeNavigate",[a])){var l;switch(c){case h.keyMapKeydown.enter:l=a.shiftKey?this._idxToCell(this._consts._UP,b):this._idxToCell(this._consts._DOWN,
b);this.selectCell(l);break;case h.keyMapKeydown.up:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._UP,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._UP,b),this.selectCell(l));break;case h.keyMapKeydown.down:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._DOWN,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._DOWN,b),this.selectCell(l));break;case h.keyMapKeydown.left:this._options.multiSelectEnabled&&
a.shiftKey?(l=this._idxToCell(this._consts._LEFT,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._LEFT,b),this.selectCell(l));break;case h.keyMapKeydown.right:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._RIGHT,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._RIGHT,b),this.selectCell(l));break;case h.keyMapKeydown.pgup:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._PGUP,this._range),this.selectRange(l)):
(l=this._idxToCell(this._consts._PGUP,b),this.selectCell(l));break;case h.keyMapKeydown.pgdn:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._PGDN,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._PGDN,b),this.selectCell(l));break;case h.keyMapKeydown.space:l=a.shiftKey?this._idxToCell(this._consts._PGUP,b):this._idxToCell(this._consts._PGDN,b);this.selectCell(l);break;case h.keyMapKeydown.home:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._HOME,
this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._HOME,b),this.selectCell(l));break;case h.keyMapKeydown.end:this._options.multiSelectEnabled&&a.shiftKey?(l=this._idxToCell(this._consts._END,this._range),this.selectRange(l)):(l=this._idxToCell(this._consts._END,b),this.selectCell(l));break;case h.keyMapKeydown.c:a.ctrlKey&&(b=this._getSelectRangeDataToExcel(),c=this.grid.getTranslation(),prompt(c.get("selection.copyTooltip"),b))}a.preventDefault();f.trigger("onAfterNavigate",[l],
!0)}}else{if(1===this._cols.length){var m,e=this.grid.colDefMgr,g,s=this._cols;l=[a,null,b];for(g in s)s.hasOwnProperty(g)&&"length"!==g&&(m=e.get(g).key,m="keydownColSel_"+m,l[1]=s[g],f.trigger(m+"_"+c,l,!0),f.trigger(m,l,!0))}if(1===this._rows.length){var t;g=this._rows;l=[a,null,b];for(t in g)g.hasOwnProperty(t)&&"length"!==t&&(l[1]=g[t],f.trigger("keydownRowSel_"+c,l,!0),f.trigger("keydownRowSel",l,!0))}l=[a,this._rows,this._cols];f.trigger("keydownSel_"+c,l,!0);f.trigger("keydownSel",l,!0)}};
b.getCell=function(){return this._last||null};b._isSelected=function(a){return a&&this._last&&this._last.equals(a)};e.prototype.isSelected=function(){return this.grid.selMgr._isSelected(this)};b._getCellIdxToNavigate=function(a,b,c){switch(a){case this._consts._RIGHT:c<this.grid.colDefMgr.length()-1&&c++;break;case this._consts._LEFT:0<c&&c--;break;case this._consts._DOWN:b<this.grid.dataMgr.datalist.length-1&&b++;break;case this._consts._UP:0<b&&b--;break;case this._consts._PGDN:b+=this.grid.view._options.rowsPerPage;
b>this.grid.dataMgr.datalist.length-1&&(b=this.grid.dataMgr.datalist.length-1);break;case this._consts._PGUP:b-=this.grid.view._options.rowsPerPage;0>b&&(b=0);break;case this._consts._HOME:b=0;break;case this._consts._END:b=this.grid.dataMgr.datalist.length-1}return[b,c]};b._idxToCell=function(a,b){var c=this._getCellIdxToNavigate(a,b.getRowIdx(),b.getColIdx());return k.create("Cell",{grid:this.grid,row:c[0],col:c[1]})};b.selectRow=function(a){var b=a.getRowIdx(),c=a.getColIdx();this._setRange(b,
c,a);this._setLast(b,c,a);this._setSelMap(this._getRowMap(b,c,a))};b.selectCell=function(a,b){this.grid.event.trigger("onBeforeSelectCell",[a],!0);if(this._options.multiSelectEnabled&&a.getKey()===this._options.rowSelKey)this.selectRow(a);else{var c=a.getRowIdx(),f=a.getColIdx();this._setRange(c,f,a,b);this._setLast(c,f,a);this._setSelMap(this._getCellMap(c,f,a))}this.grid.event.trigger("onAfterSelectCell",[a],!0)};b.onBeforeDataChange=function(){};b._onBeforeRerender=function(){this._last&&(this.toSelect=
this._last);this.empty()};b.onAfterRerender=function(){this.toSelect&&(this.selectCell(this.toSelect,!0),this.grid.view.scrollToRowLazy(this.toSelect.getRowIdx()))};b.addRow=function(a){var b=a.getRowIdx(),c=a.getColIdx();this._setRange(b,c,a);this._setLast(b,c,a);this._addSelMap(this._getRowMap(b,c,a))};b.addCell=function(a){var b=a.getRowIdx(),c=a.getColIdx();this._setRange(b,c,a);this._setLast(b,c,a);this._addSelMap(this._getCellMap(b,c,a))};b.selectRange=function(a){var b=a.getRowIdx(),c=a.getColIdx(),
f=this._last.getRowIdx(),l=this._last.getColIdx(),m=f<b?f:b,f=f<b?b:f,e;this._setRange(b,c,a);a.getKey()===this._options.rowSelKey?(e=0,l=this.grid.colDefMgr.length()-1):(e=l<c?l:c,l=l<c?c:l);this._setSelMap(this._getRangeMap(m,e,f,l,b,c,a));return{minRow:m,minCol:e,maxRow:f,maxCol:l}};b.addRange=function(a){var b=a.getRowIdx(),c=a.getColIdx(),f=this._last.getRowIdx(),l=this._last.getColIdx(),m=f<b?f:b,f=f<b?b:f,e;this._setRange(b,c,a);a.getKey()===this._options.rowSelKey?(e=0,l=this.grid.colDefMgr.length()-
1):(e=l<c?l:c,l=l<c?c:l);this._addSelMap(this._getRangeMap(m,e,f,l,b,c,a));return{minRow:m,minCol:e,maxRow:f,maxCol:l}};b._setLast=function(a,b,c){b=this._last;var f;b&&(f=b.getRowIdx(),a!==f&&(this._range&&f!==this._range.getRowIdx())&&this.grid.view.unlockRowById(b.getId()),b.get$().removeClass(this._options.classLast),!0===this._options.highlightRowEnabled&&$(b.getRowNode()).removeClass(this._options.classRowSelected),c||delete this._last);c&&((this._last=c).get$().addClass(this._options.classLast),
!0===this._options.highlightRowEnabled&&$(c.getRowNode()).addClass(this._options.classRowSelected),this.grid.view.lockRowByIdx(a))};b._setRange=function(a,b,c,f){var l=this._range;if(l){var e=l.getRowIdx();if(a===e&&b===l.getColIdx())return;a!==e&&(this._last&&e!==this._last.getRowIdx())&&this.grid.view.unlockRowById(l.getId());l.get$().removeClass(this._options.classRange);c||delete this._range}c&&((this._range=c).get$().addClass(this._options.classRange),c=this.grid.view,c.lockRowByIdx(a),f||c.scrollToLazy(a,
b))};b._addSelMap=function(a){var b=this._rows,c,f,l,m;for(l in a)if(a.hasOwnProperty(l)&&(f=a[l],b.hasOwnProperty(l)))for(m in c=b[l],f)f.hasOwnProperty(m)&&c.hasOwnProperty(m)&&(f[m]instanceof e&&(c[m]=f[m]),delete f[m]);this.addOrRemoveCss(a,!0);this._addToMaps(a)};b._setSelMap=function(a){var b=this._rows,c,f,l,m,g={};for(l in b)if(b.hasOwnProperty(l)&&"length"!==l)if(c=b[l],a.hasOwnProperty(l))for(m in f=a[l],c)c.hasOwnProperty(m)&&"length"!==m&&(f.hasOwnProperty(m)?(f[m]instanceof e&&(c[m]=
f[m]),delete f[m]):(g.hasOwnProperty(l)||(g[l]={}),g[l][m]=!0));else for(m in f=g[l]={},c)c.hasOwnProperty(m)&&"length"!==m&&(f[m]=!0);this._removeFromMaps(g);this.addOrRemoveCss(g,!1);this._addSelMap(a)};b.addOrRemoveCss=function(a,b){var c=[],f,l,m,g=this.grid.view;for(f in a)if(a.hasOwnProperty(f))for(l in m=a[f],m)m.hasOwnProperty(l)&&(m[l]instanceof e?c.push(m[l].getNode()):c.push(g.getCell(f,l)));c=c.filter(function(a){return a});b?$(c).addClass(this._options.classSelection):$(c).removeClass(this._options.classSelection)};
b._addToMaps=function(a){var b,c,f,l=this._rows,e=this._cols,g;for(b in a)if(a.hasOwnProperty(b))for(c in g=a[b],g)g.hasOwnProperty(c)&&(f=(f=g[c])?!0:f,l.hasOwnProperty(b)?l[b].length++:(l[b]={length:1},l.length++),l[b][c]=f,e.hasOwnProperty(c)?e[c].length++:(e[c]={length:1},e.length++),e[c][b]=f)};b._removeFromMaps=function(a){var b,c,f=this._rows,l=this._cols,e;for(b in a)if(a.hasOwnProperty(b))for(c in e=a[b],e)e.hasOwnProperty(c)&&(0===--f[b].length?(delete f[b],f.length--):delete f[b][c],0===
--l[c].length?(delete l[c],l.length--):delete l[c][b])};b._getCellMap=function(a,b,c){var f={};f[a]={};f[a][b]=c;return f};b._getRowMap=function(a,b,c){var f={},l=this.grid.colDefMgr.length(),e=0;for(f[a]={};e<l;e++)f[a][e]=!0;f[a][b]=c;return f};b._getRangeMap=function(a,b,c,f,l,e,g){for(var h={},k;a<=c;a++){h[a]={};for(k=b;k<=f;k++)h[a][k]=!0}h[l][e]=g;return h};b.empty=function(){this._setLast();this._setRange();this._setSelMap({})};b._getSelectRangeDataToExcel=function(){var a,b,c,f=this._rows,
l=this._cols,e=this.grid.dataMgr.datalist,g=this.grid.colDefMgr.getKeys(),h="";if(f&&l)for(a in f)if(f.hasOwnProperty(a)&&"length"!=a){for(b in l)l.hasOwnProperty(b)&&"length"!=b&&(f[a][b]&&(c=g[b],void 0!==e[a][c]&&(h+=e[a][c])),h+="\t");h+="\n"}return h}})();jx.grid.RowNumber={};
(function(){function g(e){this.addEventListener("afteroption",this._afteroption);k.call(this,e);this.removeEventListener("afteroption",this._afteroption)}goog.getObjectByName("jx.grid");var k=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.RowNumber",g);goog.inherits(g,k);g.getInstance=function(e){return new g(e)};var h=g.prototype;h._defaultOptions=function(e){return{colDef:{key:"jgm-row-num",width:30,name:"#",noTitle:!0,resizable:!1,sorter:null,filter:null,noSearch:!0,editor:null,
style:"text-align: center;",inputOnCreate:!1,generated:!0,renderer:function(b,a){return a+1},printFormat:"renderer",saveFormat:"renderer",rowPopUpFormat:"renderer"},colIdx:0}};h._afteroption=function(e){this._col=this._options.colDef;this._key=this._col.key};h._init=function(){var e=this.getColMgr();e.getByKey(this._col.key)||e.addAt(this._options.colIdx,this._col)};h._bindEvents=function(){};h._beforeCreateCss=function(e){};h.getKey=function(){return this._col.key}})();jx.grid.ColumnManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.colDefMgr=this;this._options=c._extend({colDef:{type:"string",key:void 0,name:"",colClass:void 0,defaultValue:void 0,inputOnCreate:void 0,style:"",headerStyle:"",width:80,minW:0,maxW:void 0,editor:void 0,sorter:void 0,hidden:!1,sumRenderer:void 0,tooltipEnabled:!1,resizable:!1,renderer:void 0,rendererInput:!1,noTitle:!1,noName:!1,title:void 0,noSearch:!1,filter:void 0,parser:void 0,validator:void 0,nullOnCreate:!1,notNull:!1,printFormat:void 0,
saveFormat:void 0,rowPopUpFormat:void 0,dropDown:!1},printFormat:void 0,saveFormat:void 0,rowPopUpFormat:void 0},a.options);this._colDefs=[];this._filtered=[];this._filteredGroups=[];this._keyToDef={};this._keyToIdx={};this._parsers={};this._sorters={};this._validators={};this._nullOnCreates={};this._groupsByName=this._groups=null;this._columnSettingAttrs={width:!0};this.__init(a)}function k(a){if(a)switch(a=a.toLowerCase(),a){case "bool":case "boolean":return"boolean";case "int":case "integer":case "long":case "short":return"int";
case "float":case "double":case "number":case "num":case "numeric":return"float";case "str":case "string":case "text":return"string";case "date":case "datetime":case "time":case "timestamp":return"date";case "num_comma":return"num_comma"}return null}function h(a){if("boolean"!=typeof a){if(!a)return!1;switch(a.toString().toLowerCase()){case "0":case "n":case "no":case "false":case "f":case "off":case "disable":case "disabled":case "null":case "undefined":case "nil":case "fail":case "not":return!1}return!0}return a}
function e(a){return"string"!=typeof a?null==a?"":a.toString():a}function b(a){return new Date(Date.parse(a))}function a(a,c){switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a;case "string":return a[c]();default:if(null==a)return Number.MAX_VALUE}a=a.valueOf();switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a;case "string":return a[c]();default:return null==a?Number.MAX_VALUE:a.toString()[c]()}}
function d(a){switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a}return null==a?Number.MAX_VALUE:h(a)?1:0}var c=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");goog.getObjectByName("jx.grid.Column");goog.getObjectByName("jx.grid.ViewportManager");goog.exportSymbol("jx.grid.ColumnManager",g);g.getInstance=function(a){return new g(a)};var l=g.prototype;
l.__init=function(a){this.grid.event.bind("onDestroy",this._destroy,this);this.set(a.colDefs)};l._destroy=function(){c._destroy(this,{name:"ColumnManager",path:"colDefMgr",property:"_colDefs",map:"_keyToIdx _keyToDef _options",array:"_filtered _filteredGroups"})};l.getAll=function(){return this._colDefs};l.empty=function(){this._colDefs=[];this._filtered.length=0;this._keyToIdx={};this._keyToDef={};this._parsers={};this._sorters={};this._validators={};this._nullOnCreates={};this._filteredGroups.length=
0;this._groupsByName=this._groups=null};l.setColumnSettings=function(a,c){if("number"!=typeof a[0]){for(var b=a.length,d={},f=this._colDefs,l=f.length,e=[],g=0;g<b;g++){var h=a[g],k=this.getByKey(h.key);if(k){d[k.key]=!0;for(var x in h)x in this._columnSettingAttrs&&"width"!=x&&(k[x]=h[x]);e.push(k)}}for(g=0;g<l;g++)d[f[g].key]||e.push(f[g]);this._colDefs=e;this._filter();this.eventChangeVisible({noRerender:c});for(g=0;g<b;g++)if(h=a[g],k=this.getByKey(h.key))for(x in h)if(x in this._columnSettingAttrs&&
"width"==x){!c&&k[x]!=h[x]?this.grid.view.setWidthByKey(k.key,h.width):k.width=h.width;break}}else if(2==a[0]){d=(g=a[1])?g.split(" "):[];f=d.length;l=this.getInitialColDefs();e=l.length;b=[];for(g=0;g<e;g++)b.push(l[g].key);for(g=0;g<f;g++)b.push(d[g]);l=a[2];g=l.length;f=a[3];d=f.length;if(d!=g||g!=b.length)return!1;e=[];for(g=0;g<d;g++)0<=f[g]?e[f[g]]=g:e[-f[g]-1]=g;h=[];d={};for(g=0;g<e.length;g++)if(k=e[g],x=this.getByKey(b[k]))x.hidden=0>f[k]?!0:!1,h.push(x),d[x.key]=!0;f=this._colDefs;k=f.length;
for(g=0;g<k;g++)d[f[g].key]||(f[g].hidden=!0,h.push(f[g]));this._colDefs=h;this._filter();this.eventChangeVisible({noRerender:c});for(g=0;g<e.length;g++)if(k=e[g],x=this.getByKey(b[k]))c?x.width=l[k]:this.grid.view.setWidthByKey(x.key,l[k]);this.eventChangeVisible({noRerender:c})}};l.getColumnSettings=function(){for(var a=this.getInitialColDefs(),c=a.length,b=this._colDefs,d=b.length,f={},l=d,e=[],g=[],h=0;h<c;h++){for(var k=null,x=0;x<d;x++)if(b[x].key==a[h].key){k=b[x];e[h]=k.width;g[h]=k.hidden?
-x-1:x;f[k.key]=!0;break}null==k&&(e[h]=a[h].width,g[h]=-l-1,l++)}a=[];for(h=0;h<d;h++)f[b[h].key]||(a.push(b[h].key),e[c]=b[h].width,g[c]=b[h].hidden?-h-1:h,c++);return[2,a.join(" "),e,g]};l.getInitialColDefs=function(){return this.grid._origColDefs};l.set=function(a){a=a||[];if(this._colDefs===a)return a;this.empty();this.eventChangeVisible();var c=0,b=a.length,d,f,l=a.some(function(a){return null!=a.parent});if(l)var e=this._groups=[],g=this._groupsByName={};for(;c<b;c++){d=a[c];f=d.key;try{if(this.hasKey(f,
!0))throw Error("duplicate column key, key = "+f);}catch(h){throw this.empty(),h;}d.key=f=f.toString();l&&(d.parent&&(d.parent=d.parent.toString()),f=this._getParent(d),g.hasOwnProperty(f)||e.push(g[f]=[]),g[f].push(d));this._extend(d)}if(l){c=0;b=e.length;for(a=[];c<b;c++){g=e[c];d=0;for(l=g.length;d<l;d++)a.push(g[d])}}this._colDefs=a;this._filter();this.eventChangeVisible();return a};l._getParent=function(a){return null==a?null:null==a.parent?a.name||a.key:a.parent};l.reorganizeGroups=function(){var a=
this._colDefs,c=a.some(function(a){return null!=a.parent});this._groupsByName=this._groups=null;if(c){for(var c=0,b=a.length,d,f=this._groups=[],l=this._groupsByName={},e;c<b;c++)d=a[c],e=this._getParent(d),l.hasOwnProperty(e)||f.push(l[e]=[]),l[e].push(d);c=0;b=f.length;for(e=[];c<b;c++){l=f[c];a=0;for(d=l.length;a<d;a++)e.push(l[a])}this._colDefs=e}};l.hasDropDowns=function(){return this._colDefs.some(function(a){return a.dropDown})};l.hasGroups=function(){return!!this._groups};l.getGroups=function(){return this._filteredGroups};
l.getGroupByGroupIdx=function(a){return this._filteredGroups[a]};l.getGroupByName=function(a){if(null!=a&&this._groupsByName&&this._groupsByName.hasOwnProperty(a))return this._groupsByName[a]};l.getGroupIndexByKey=function(a){a=this.getByKey(a);if(!a)return null;var c=this._getParent(a);if(null!=c){a=this._filteredGroups;for(var c=this._groupsByName[c],b=0,d=a.length;b<d;b++)if(a[b]===c)return b}return null};l.getSorter=function(a){if(null==a)return this._sorters;if(this.hasKey(a,!0)){var c=this._sorters;
return c.hasOwnProperty(a)?c[a]:null}throw Error("column key not found! key="+a);};l.getValidator=function(a){if(null==a)return this._validators;if(this.hasKey(a,!0)){var c=this._validators;return c.hasOwnProperty(a)?c[a]:null}throw Error("column key not found! key="+a);};l.getParser=function(a){if(null==a)return this._parsers;if(this.hasKey(a,!0)){var c=this._parsers;return c.hasOwnProperty(a)?c[a]:null}throw Error("column key not found! key="+a);};l.getNullOnCreate=function(a){if(null==a)return this._nullOnCreates;
if(this.hasKey(a,!0))return this._nullOnCreates.hasOwnProperty(a);throw Error("column key not found! key="+a);};l.push=function(a){return this.addAt(this._colDefs.length,a)};l.addAt=function(a,c){var b=c.key,d=this._colDefs;if(this.hasKey(b,!0))throw Error("duplicate column key, key = "+b);if(0>a||a>d.length)throw Error("index out of bound, i = "+a);d.addAt(a,this._extend(c));this.reorganizeGroups();this._filter();this.eventChangeVisible();return d.length};l._extend=function(a){if(a&&!a._extended){a._extended=
!0;var c={},d,f;$.extend(!0,c,this._options.colDef);$.extend(!0,c,a);$.extend(!0,a,c);f=a.type=k(a.type);c=a.key.toString();this._keyToDef[c]=a;if(d=a.sorter){"string"==typeof d?d=k(d):f&&(d=f);if(d=g.sorter(d,c))d.key=c,this._sorters[c]=d;a.sorter=d}if(d=a.parser){if(f&&"function"!=typeof d){switch(f){case "boolean":d=h;break;case "int":d=function(a){return parseInt(a,10)};break;case "float":d=parseFloat;break;case "string":d=e;break;case "date":d=b;break;default:d=null}a.parser=d}this._parsers[c]=
d}a.inputOnCreate=!!a.inputOnCreate;a.hidden=!!a.hidden;a.tooltipEnabled=!!a.tooltipEnabled;a.resizable=!!a.resizable;a.rendererInput=!!a.rendererInput;a.noTitle=!!a.noTitle;a.noName=!!a.noName;a.noSearch=!!a.noSearch;a.nullOnCreate=!!a.nullOnCreate;if(f=a.validator)this._validators[c]=f;a.nullOnCreate&&(this._nullOnCreates[c]=!0);!a.saveFormat&&this._options.saveFormat&&(a.saveFormat=this._options.saveFormat);!a.printFormat&&this._options.printFormat&&(a.printFormat=this._options.printFormat);!a.rowPopUpFormat&&
this._options.rowPopUpFormat&&(a.rowPopUpFormat=this._options.rowPopUpFormat)}return a};l.setVisible=function(a,c){var b=this.getByKey(a,!0);if(!b)throw Error("column key not found! key="+a);c=!!c;!b.hidden!==c&&(b.hidden=!c,this._filter(),this.eventChangeVisible());return b};l.setName=function(a,c){var b=this.getByKey(a);if(!b)return null;b.name!=c&&(b.name=c,this.grid.event.trigger("onChangeColumn:name",[b,c],!0));return b};l.setSumRenderer=function(a,c){var b=this.getByKey(a);if(!b)return null;
b.sumRenderer!=c&&(b.sumRenderer=c,this.grid.event.trigger("onChangeColumn:sumRenderer",[b,c],!0));return b};l.show=function(a){return this.setVisible(a,!0)};l.hide=function(a){return this.setVisible(a,!1)};l._filter=function(){this._filtered=this._colDefs.filter(function(a){return!a.hidden});this._groups?this._filteredGroups=this._groups.filter(function(a){return a.some(function(a){return!a.hidden})}):this._filteredGroups.length=0;this._reidx();return this._filtered};l._reidx=function(a){a=a||0;
for(var c=this._filtered,b=c.length,d=this._keyToIdx={};a<b;a++)d[c[a].key]=a;return d};l.get=function(a){if(null==a)return this._filtered;var c=this._filtered;if(0>a||a>=c.length)throw Error("index out of bound, i = "+a);return this._filtered[a]};l.checkKey=function(a,c){if(null==a){if(c)throw Error("column key is null");return!1}"string"!=typeof a&&(a=a.toString());if(!a&&c)throw Error("column key is empty");return!0};l.mapKeys=function(a){var c=this;return a.map(function(a){var b=c.getByKey(a,
!0);if(!b)throw Error("column key not found! key="+a);return b})};l.getByKey=function(a,c){return this.hasKey(a,c)?this._keyToDef[a]:null};l.hasKey=function(a,c){return this.checkKey(a,c)?this._keyToDef.hasOwnProperty(a):!1};l.length=function(){return this._filtered.length};l.getIdxByKey=function(a){return this._keyToIdx.hasOwnProperty(a)?this._keyToIdx[a]:-1};l.getIdx=function(a){return f.isNotNull(a)&&this._keyToIdx.hasOwnProperty(a.key)?this._keyToIdx[a.key]:-1};l.sortByKey=function(a,c){for(var b=
{},d=a.length,f=this._colDefs,l=f.length,e=[],g=0;g<d;g++)b[a[g]]=!0,e.push(this.getByKey(a[g]));for(g=0;g<l;g++)b[f[g].key]||e.push(f[g]);this._colDefs=e;this._filter();this.grid.event.trigger("onReorderCols",[a,c],!0);this.eventChangeVisible({source:c});return this._filtered};l.eventChangeVisible=function(a){this.grid.event.trigger("changeVisibleColumns",[this._filtered,a])};l.getKeys=function(){return this._filtered.map(function(a){return a.key})};g.sorter=function(c,b,f){f={on:!!f,key:b};switch(c){case "boolean":return f.comparator=
function(a,c){return d(a[b])-d(c[b])},f;case "string":return f.lexi=b,f;case "int":return f.comparator=function(c,d){return a(c[b],"toInt")-a(d[b],"toInt")},f;case "float":return f.comparator=function(c,d){return a(c[b],"toFloat")-a(d[b],"toFloat")},f;case "date":return f.comparator=function(c,d){return a(c[b],"toInt")-a(d[b],"toInt")},f;case "num_comma":return f.comparator=function(c,d){var f,l;f=c[b];l=d[b];"string"===typeof f&&(f=f.replace(/,/g,""));"string"===typeof l&&(l=l.replace(/,/g,""));
return a(f,"toFloat")-a(l,"toFloat")},f}return null}})();jx.grid.MenuBar={};
(function(){function g(a){e.call(this,a);this.grid.menubar=this;this.columnWidths={}}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.Grid");var e=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.MenuBar",g);goog.inherits(g,e);g.getInstance=function(a){return new g(a)};var b=g.prototype;b._defaultOptions=function(){var a=this.grid._options.imageUrl;return{background:"url("+a+"menubar-bg.png) repeat-x scroll center",borderThickness:1,
border:"solid #b6bac0",height:27,classMenuBar:"menubar",classButtonMenu:"button-menu",classIcon:"menu-icon",classColumnToggleIcon:"jgrid-column-toggle-icon",columnIconUrl:a+"data-creator-icon.png",columnIconWidth:15,columnIconHeight:15,iconBorderThickness:1,iconBorder:"solid transparent",iconBorderHover:"solid #d4d4d4",iconBorderActive:"solid #9a9a9a",iconMargin:2,iconBackground:"",iconBackgroundHover:"url("+a+"menu-icon-hover.png) repeat-x scroll center",iconBackgroundActive:"url("+a+"menu-icon-active.png) repeat-x scroll center",
iconHeight:21,iconWidth:21,iconBorderRadius:4,iconBorderFocus:"solid #5f5f5f",menuItems:null,position:"top"}};b._init=function(a){var b=this._options;this._ctnr=a.container;this.$el=this._menubar="top"==b.position?$("<div class='"+b.classMenuBar+"'></div>").prependTo(this._ctnr):$("<div class='"+b.classMenuBar+"'></div>").appendTo(this._ctnr);this._nameMap={}};b._getNewName=function(){for(var a=this._nameMap,b=0;;b++)if(!a.hasOwnProperty("menuItem"+b))return"menuItem"+b};b.mousedown=function(a){this.columnIcon&&
(!h.contains(this.columnIcon[0],a.target)&&!h.contains(this.ul[0],a.target))&&(this.ul.hide(),this.columnIcon.hasClass("active")&&this.columnIcon.toggleClass("active"))};b.toggleColumn=function(a,b,c){b?(this.getColMgr().show(a),$(c.parentNode).removeClass("unchecked")):(this.getColMgr().hide(a),$(c.parentNode).addClass("unchecked"))};b._bindEvents=function(a){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy,mousedown:this.mousedown,onRenderModules:this._onRenderModules,
changeVisibleColumns:this._onChangeVisibleColumns,"onChangeColumn:name":this._onChangeColumnName,onChangeLanguage:this._onChangeLanguage},this)};b._destroy=function(){k._destroy(this,{name:"MenuBar",path:"menubar",$:"_menubar",property:"_ctnr",map:"_options _nameMap"})};b._onChangeColumnName=function(a,b){if(this.grid._options.columnHideEnabled&&this.ul){var c=this.mid+"-toggle-column-"+a.key;this.ul.find("#"+c).parent().html(h.input("checkbox",{id:c,checked:!a.hidden,onclick:"JGM.m.MenuBar."+this.mid+
".toggleColumn('"+a.key+"', this.checked, this)"})+h.encode(b))}};b._onChangeVisibleColumns=function(a,b){if(this.grid._options.columnHideEnabled&&(!b||!b.noRerender)){for(var c=this.getColMgr().getAll(),f="",l=h.element,e=h.input,g=h.SAFE,k=this.getColMgr().getInitialColDefs(),s={},t=0;t<k.length;t++)k[t].hidden||(s[k[t].key]=!0);t=0;for(k=c.length;t<k;t++){var q=c[t],p=q.key;if(s[p])var u=this.mid+"-toggle-column-"+p,f=f+l("li",null,l("label",{"for":u},e("checkbox",{id:u,checked:!q.hidden,onclick:"JGM.m.MenuBar."+
this.mid+".toggleColumn('"+p+"', this.checked, this)"})+h.encode(q.name),g),g)}this.ul.html(f)}};b._onRenderModules=function(){var a=this.grid.getTranslation();if(this.grid._options.columnHideEnabled){for(var b=h.element,c=h.input,f=h.SAFE,l=this.getColMgr().getInitialColDefs(),e=this.getColMgr().getAll(),g={},k=0,s=e.length,t="",q=this.mid,p,u,k=0;k<l.length;k++)l[k].hidden||(g[l[k].key]=!0);for(k=0;k<s;k++)l=e[k],p=l.key,g[p]&&(u=q+"-toggle-column-"+p,t+=b("li",null,b("label",{"for":u},c("checkbox",
{id:u,checked:!l.hidden,onclick:"JGM.m.MenuBar."+q+".toggleColumn('"+p+"', this.checked, this)"})+h.encode(l.name),f),f));var v=this.ul=$(b("ul",{"class":"jgrid-column-toggle-box",onclick:"var event = arguments[0] || window.event; if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true"},t,f));v.css({"white-space":"nowrap",top:"100%","max-height":this.getView()._calHeight(),"overflow-y":"auto","overflow-x":"hidden","text-overflow":"ellipsis"});v.hide();this.columnIcon=this.addIcon(this._options.classColumnToggleIcon,
a.get("menubar.columnIconTooltip"),this._options.columnIconWidth,this._options.columnIconHeight,function(a,c){v.toggle()});this.columnIcon.append(this.ul)}if(a=this._options.menuItems){k=0;for(b=a.length;k<b;k++)c=a[k],"button"==c.type&&(f=this.addButtonMenu(c),c.name=c.name||this._getNewName(),c.$el=f,this._nameMap[c.name]={$el:f,item:c})}};b.addButtonMenu=function(a){function b(a){t&&t.call(this,a,v.grid);a.preventDefault()}var c=this.grid.getTranslation(),f=a.tooltipToken?c.get(a.tooltipToken):
a.tooltip,l="right"==a.align?a.align:"left",e=a.imgClass,g=a.imgWidth||15,k=a.imgHeight||15,s=a.imgUrl,t=a.onClick,c=a.attrs,q=this._options.iconWidth,p=this._options.iconHeight;a=$("<div class='"+(a["class"]?a["class"]:this._options.classButtonMenu)+"' tabIndex='0' title='"+h.encode(f)+"' style='float:"+l+";'><div class='"+(e?e:"")+"' style='width:"+g+"px;height:"+k+"px;margin-top:"+(p-k)/2+"px;margin-left:"+(q-g)/2+"px;"+(s?"background:url("+s+") repeat-x scroll center;":"")+"'></div></div>").appendTo(this._menubar);
if(c)for(var u in c)c.hasOwnProperty(u)&&a.attr(u,c[u]);var v=this,z=h.keyMapKeydown.enter,x=h.keyMapKeydown.space;a.click(b).keydown(function(a){var c=a.which;(c===z||c===x)&&b.call(this,a)});return a};b._onChangeLanguage=function(a,b){var c=this.grid.getTranslation(b);this.columnIcon&&this.columnIcon.attr("title",c.get("menubar.columnIconTooltip"));var f=this._nameMap,e;for(e in f)if(f.hasOwnProperty(e)){var g=f[e].$el,h=f[e].item,h=h.tooltipToken?c.get(h.tooltipToken):h.tooltip;g.attr("title",
h)}};b._onCreateCss=function(){var a="#"+this.grid.mid+" .",b=this._options,c=[];c.push(a+b.classMenuBar+"{"+k._CONST._cssUnselectable+"position:relative;width:100%;background:"+b.background+";border-bottom:"+(b.borderThickness+"px "+b.border)+";height:"+b.height+"px;z-index:50}");c.push(a+b.classIcon+"{float:left;position:relative;height:"+b.iconHeight+"px;width:"+b.iconWidth+"px;border:"+b.iconBorderThickness+"px "+b.iconBorder+";margin:"+b.iconMargin+"px "+b.iconMargin+"px 0 "+b.iconMargin+"px;background:"+
b.iconBackground+";border-radius:"+b.iconBorderRadius+"px;-moz-border-radius:"+b.iconBorderRadius+"px}");c.push(a+b.classIcon+":hover,"+a+b.classIcon+":focus{background:"+b.iconBackgroundHover+";border:"+b.iconBorderThickness+"px "+b.iconBorderHover+"}");c.push(a+b.classIcon+":active,"+a+b.classIcon+".active{cursor:default;outline:none;background:"+b.iconBackgroundActive+";border:"+b.iconBorderThickness+"px "+b.iconBorderActive+"}");c.push(a+b.classIcon+".active:focus{border:"+b.iconBorderThickness+
"px "+b.iconBorderFocus+"}");c.push(a+b.classButtonMenu+"{float:left;position:relative;height:"+b.iconHeight+"px;width:"+b.iconWidth+"px;border:"+b.iconBorderThickness+"px "+b.iconBorder+";margin:"+b.iconMargin+"px "+b.iconMargin+"px 0 "+b.iconMargin+"px;background:"+b.iconBackground+";border-radius:"+b.iconBorderRadius+"px;-moz-border-radius:"+b.iconBorderRadius+"px}");c.push(a+b.classButtonMenu+":hover,"+a+b.classButtonMenu+":focus{background:"+b.iconBackgroundHover+";border:"+b.iconBorderThickness+
"px "+b.iconBorderHover+"}");c.push(a+b.classButtonMenu+":active,"+a+b.classButtonMenu+".active{cursor:default;outline:none;background:"+b.iconBackgroundActive+";border:"+b.iconBorderThickness+"px "+b.iconBorderActive+"}");c.push(a+b.classButtonMenu+".active:focus{border:"+b.iconBorderThickness+"px "+b.iconBorderFocus+"}");c.push(a+b.classColumnToggleIcon+"{background:url("+b.columnIconUrl+") no-repeat center;width:"+b.columnIconWidth+"px;height:"+b.columnIconHeight+"px}");c.push(".jgrid-column-toggle-box{position:absolute;top:0;left:0;z-index:100;list-style-type:none;margin:0;padding:0;border:1px solid #888;background:#eee}");
c.push(".jgrid-column-toggle-box li{cursor:pointer;padding:1px 24px 1px 0px;max-width:300px}");c.push(".jgrid-column-toggle-box li.unchecked{background:#ccc}");return c.join("")};b.addIcon=function(a,b,c,f,e){function g(a){e&&e.call(this,a,k.grid);this.toggleClass("active");this.hasClass("active")||this.blur();a.preventDefault()}a=$("<div class='"+this._options.classIcon+"' tabIndex='0' title='"+b+"'><div class='"+(a?a:"")+"' style='margin-top:"+(this._options.iconHeight-f)/2+"px;margin-left:"+(this._options.iconWidth-
c)/2+"px;'></div></div>").appendTo(this._menubar);var k=this,r=h.keyMapKeydown.enter,s=h.keyMapKeydown.space;a.click(g).keydown(function(a){var c=a.which;(c===r||c===s)&&g.call(this,a)});return a};b.appendHtml=function(a){return $(a).appendTo(this._menubar)};b.append$=function(a){return a.appendTo(this._menubar)}})();jx.grid.ColumnHeader={};
(function(){function g(a){e.call(this,a)}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util"),e=goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");var b=h.element;goog.exportSymbol("jx.grid.ColumnHeader",g);goog.inherits(g,e);g.getInstance=function(a){return new g(a)};var a=g.prototype,d=e;a._init=function(a){this.grid.header=this;this._map={};this._resizeMap={};this._resizeKey=this._resizeInitX=this._resizeHandleInitX=this._resizeInitWidth=this._resizeInitColWidth=
this._resizeGuide=this._resizeHandleOffset=null;var d=this._options;a=this._mask=$(b("div",{"class":d.classHeaderMask,onscroll:"JGM.m.ColumnHeader."+this.mid+"._scroll()"})).prependTo(this._ctnr=a.container);this.getColMgr().hasGroups()&&(this._doubleHead=$(b("div",{"class":d.classHeader})).appendTo(a));a=this._head=$(b("div",{"class":d.classHeader})).appendTo(a);g._disableSel(a);a={top:0,right:0,bottom:0,left:0};if("string"===typeof d.padding){var e=d.padding.match(/\S+/g);1===e.length?a.left=a.right=
a.top=a.bottom=Number(e[0]):2===e.length?(a.top=a.bottom=Number(e[0]),a.left=a.right=Number(e[1])):3===e.length?(a.top=Number(e[0]),a.right=Number(e[1]),a.bottom=Number(e[2])):4===e.length&&(a.top=Number(e[0]),a.right=Number(e[1]),a.bottom=Number(e[2]),a.left=Number(e[3]))}else a.left=a.right=d.padding;d["padding-left"]&&(a.left=d["padding-left"]);d["padding-right"]&&(a.right=d["padding-right"]);d["padding-top"]&&(a.top=d["padding-top"]);d["padding-bottom"]&&(a.bottom=d["padding-bottom"]);this._padding=
a};a._bindEvents=function(){var a,b=this.getColumns(),d=b.length,e=0;for(a={onRenderModules:this._onRenderModules,onAfterRenderModules:this._onAfterRenderModules,mousedown:this._mousedown,mouseup:this._mouseup,dragmove:this._dragmove,keydown:this._keydown,onScrollViewportH:this._onScrollViewportH,onScrollViewportV:this._onScrollViewportV,onChangeSorter:this._onChangeSorter,click:this._click,onResizeCol:this._setWidthByKey,changeVisibleColumns:this._onChangeVisibleColumns,onGetMaxContentWidth:this._onGetMaxContentWidth,
onChangeLanguage:this._onChangeLanguage};e<d;e++)b[e].sorter&&(a["clickHeader_"+b[e].key]=this._sort);this.bindGridEvent(a,this)};a._onChangeLanguage=function(a,b){for(var d=this.getColMgr().getAll(),e=d.length,g=this.grid.getTranslation(),k=0;k<e;k++){var s=d[k],t=s.key,s=s.noName?"":s.name||t,t=this._mask.find("."+this._options.classResizeHandle+"[key="+t+"]");t.attr("title")&&t.attr("title",h.sprint(g.get("header.resizeTooltip"),{name:s}))}};a._onGetMaxContentWidth=function(a){a=this.get(a);if(a.length){var b=
a[0].style.width;a.css("width","");var d=a.outerWidth();a[0].style.width=b;return d}return 0};a._defaultOptions=function(a){a=a._options.imageUrl;return{reorderEnabled:!1,reorderSyncEnabled:!0,background:"url("+a+"column-headers-bg.png) repeat-x scroll center",backgroundHover:"url("+a+"column-headers-over-bg.png) repeat-x scroll center",backgroundPlaceholder:"#646464",sortBackground:a+"sort.png",sortRight:4,sortWidth:7,sortOrderFontSize:8,sortOrderRight:15,sortOrderWidth:null,sortBackgroundAsc:a+
"sort-asc.png",sortBackgroundDesc:a+"sort-desc.png",headerMoreButton:a+"header-more-button.gif",font:"15px Arial,Helvetica,sans-serif",height:21,padding:0,"padding-left":void 0,"padding-right":void 0,"padding-top":void 0,"padding-bottom":void 0,borderThickness:1,border:"solid #909192",classHeaderMask:"jgrid-header-mask",classHeader:"jgrid-header",classColHeader:"jgrid-colheader",classColHeaderActive:"jgrid-colheader-active",classColHeaderPlaceholder:"jgrid-colheader-placeholder",classInteractive:"interactive",
classColHeaderTitle:"jgrid-colheader-title",classColHeaderSorted:"jgrid-colheader-sorted",classSort:"jgrid-sort",classSortAsc:"jgrid-sort-asc",classSortDesc:"jgrid-sort-desc",classSortOrder:"jgrid-sort-order",classResizeHandle:"jgrid-resize-handle",resizeHandleWidth:5,style:"",headerStyle:"",scrollerLeft:1E4,scrollerWidth:1E5,classResizeGuide:"resize-guide",resizeGuideWidth:1,resizeBackground:"black;filter:alpha(opacity=40);opacity:0.4",syncResize:!1,resizeHandleBackground:"black;filter:alpha(opacity=10);opacity:0.10",
noTitleAttr:!1}};a._dispose=function(){this._head.sortable&&this._head.sortable("destroy");this._destroyResizeHandles();k._destroy(this,{name:"ColumnHeader",path:"header",$:"_resizeGuide _mask _head",property:"_ctnr _resizeMap",map:"_map _options"});d.prototype._dispose.apply(this)};a._destroyResizeHandles=function(){var a=this._resizeMap,b;for(b in a)a.hasOwnProperty(b)&&(a[b].remove(),delete a[b]);delete this._resizeKey;delete this._resizeInitX;delete this._resizeHandleInitX;delete this._resizeInitWidth;
delete this._resizeInitColWidth};a._onChangeVisibleColumns=function(a,b){(!b||b.source!==this&&!b.noRerender)&&this.rerender()};a._beforeCreateCss=function(a){var b="#"+this.grid.mid+" .",d=this._options,e=this._getBorder()+"px "+d.border,g=this.getColumns(),h=g.length,k=0,t="."+d.classColHeader,q=d.scrollerLeft,p=d.height+"px",u=d.classColHeaderActive,v={};v["."+d.classHeaderMask]={position:"relative",overflow:"hidden",width:"100%",font:d.font,background:d.background,"border-bottom":e,_append:d.style};
v["."+d.classHeader]={position:"relative",overflow:"hidden","white-space":"nowrap",cursor:"default",background:d.background,left:-q+"px","float":"left",width:d.scrollerWidth+"px","line-height":p};v["."+d.classHeader+" * "]={"line-height":p};v[t]={position:"relative",overflow:"hidden","float":"left","text-overflow":"ellipsis","text-align":"center","vertical-align":"middle",height:this._toStyleHeight(d.height)+"px",left:q-this.getView().getScrollLeft()+"px","padding-left":this._padding.left+"px","padding-right":this._padding.right+
"px","padding-top":this._padding.top+"px","padding-bottom":this._padding.bottom+"px","border-right":e,_append:d.headerStyle};v[t+"."+d.classInteractive+":hover, "+b+u]={cursor:"pointer",background:d.backgroundHover};v["."+u]={"border-left":e};v[t+"."+d.classColHeaderPlaceholder]={background:d.backgroundPlaceholder+"!important"};v[".jgrid-header-text"]={"vertical-align":"middle"};v[".jgrid-header-more"]={position:"absolute",cursor:"pointer",height:"100%",width:"14px",right:0,top:0};v[".jgrid-header-more:hover"]=
{"border-left":"1px solid black",background:"url("+d.headerMoreButton+") no-repeat left center"};v["."+d.classSort]={position:"absolute",height:"100%",top:(d.sortTop||0)+"px",width:d.sortWidth+"px",background:"url("+d.sortBackground+") no-repeat center transparent"};d.sortRight&&(v["."+d.classSort].right=d.sortRight+"px");v["."+d.classSortAsc]={background:"url("+d.sortBackgroundAsc+") no-repeat center transparent"};v["."+d.classSortDesc]={background:"url("+d.sortBackgroundDesc+") no-repeat center transparent"};
v["."+d.classSortOrder]={position:"absolute","font-size":d.sortOrderFontSize+"px",top:"0px",height:"100%"};d.sortOrderRight&&(v["."+d.classSortOrder].right=d.sortOrderRight+"px");d.sortOrderWidth&&(v["."+d.classSortOrder].width=d.sortOrderWidth+"px");v["."+d.classResizeHandle]={"z-index":10,background:d.resizeHandleBackground,cursor:"e-resize",position:"absolute",top:(d.resizeHandleTop||0)+"px",height:d.height+this._heightPlus()+"px",width:d.resizeHandleWidth+"px"};for(v["."+d.classResizeGuide]={"z-index":10,
position:"absolute",background:d.resizeBackground,width:d.resizeGuideWidth+"px"};k<h;k++)g[k].headerStyle&&(v[t+"#"+this.mid+"h"+g[k].key]={_append:g[k].headerStyle});this.toCssStyles(a.css,v)};a._getBorder=function(){return this._border||(this._border=this._options.borderThickness)};a._widthPlus=function(){return this._colWidthPlus||(this._colWidthPlus=this._padding.left+this._padding.right+this._getBorder())};a._heightPlus=function(){return this._colHeightPlus||(this._colHeightPlus=this._padding.top+
this._padding.bottom+this._getBorder())};a._scroll=function(){var a=this._mask[0].scrollLeft;a!=this._lastViewScrollLeft&&this.getView().setScrollLeft(a)};a._onScrollViewportH=function(a){this._lastViewScrollLeft=a;this._mask[0].scrollLeft=this._lastViewScrollLeft};a._renderHeaders=function(){var a=this.getColumns(),d=a.length,e=this._options,g=0,k=[],r=this.getColMgr();r.hasDropDowns()&&(e.reorderEnabled=!1);if(r.hasGroups()){var r=r.getGroups(),s=0,t=r.length,q,p,u,v=[],z=0,x=this.getView(),y,w=
this._widthPlus();for(e.reorderEnabled=!1;s<t;s++){q=r[s];p=null==q[0].parent?"":q[0].parent;z=u=0;for(y=q.length;z<y;z++)q[z].hidden||(u+=x._getColOuterWidthByKey(q[z].key));v.push(b("div",e.noTitleAttr?{"class":e.classColHeader,style:{width:this._toStyleWidth(u-w)+"px"}}:{"class":e.classColHeader,title:p,style:{width:this._toStyleWidth(u-w)+"px"}},null,h.LEAVE_OPENED));v.push(b("span",{"class":e.classColHeaderTitle},p));v.push("</div>")}this._doubleHead[0].innerHTML=v.join("")}for(;g<d&&!(e=a[g]).dropDown;g++)e.hidden||
this._render(k,e,g);this._head[0].innerHTML=k.join("");this.triggerGridEvent("onRenderHeadersComplete",!1,!0)};a._onRenderModules=function(){this._renderHeaders()};a.rerender=function(a){if(a){a=this.getColMgr().getAll();var b=a.length,d=this._options.classColHeaderTitle,e,g=this.grid.getTranslation();for(e=0;e<b;e++){var k=a[e],s=this.getParentHeader(k.key);if(k.dropDown)break;if(s){var t=null==k.parent?"":k.parent;this._options.noTitleAttr||(s.title=t);s=h.child(s,0);s.innerHTML="";s.appendChild(document.createTextNode(t))}if(!k.hidden){var t=
k.key,s=k.noName?"":k.name||t,q=this.get(k.key);if(q){var p=q.children("."+d);p&&(k.noTitle||this._options.noTitleAttr?p.parent().removeAttr("title"):p.parent().attr("title",k.title||s),p.text(s));$handle=q.parent().children("."+this._options.classResizeHandle+"[key="+t+"]");k.noTitle||this._options.noTitleAttr?$handle.removeAttr("title"):$handle.attr("title",h.sprint(g.get("header.resizeTooltip"),{name:s}))}}}}else this._renderHeaders(),this._map={},a=this.grid.dataMgr.getSorters(),this._onChangeSorter(a,
a),!this.getColMgr().hasGroups()&&this._options.reorderEnabled&&this._initReorder(),this._initResizeHandles()};a._onAfterRenderModules=function(){var a=this._options;!this.getColMgr().hasGroups()&&a.reorderEnabled&&this._initReorder();this._initResizeHandles();this._resizeGuide=$(b("div",{"class":a.classResizeGuide})).appendTo(this.getView()._mask).hide();this._resizeGuide[0].style.top="0px";this._resizeGuide[0].style.height="0px"};a._render=function(a,d,e){var g=this._options,k=d.key,r=d.noName?
"":d.name||k,s="onRenderHeader_"+k,t=[a],q=g.classColHeader;if(g.reorderEnabled||d.sorter)q+=" "+g.classInteractive;e={id:this.mid+"h"+k,"class":q,tabindex:"0",colKey:k,style:{width:this._toStyleWidth(this.fromViewWidth(e))+"px"}};!d.noTitle&&!g.noTitleAttr&&(e.title=d.title||r);a.push(b("div",e,null,h.LEAVE_OPENED));this.triggerGridEvent(s+"_prepend",t,!0);a.push(b("span",{"class":g.classColHeaderTitle},r));this.triggerGridEvent(s+"_append",t,!0);d.sorter&&(a.push(b("span",{"class":g.classSort})),
a.push(b("span",{"class":g.classSortOrder})));a.push("</div>")};g._disableSel=function(a){Util$.safe$(a).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})};a.getParentHeader=function(a){var b=this.getColMgr();return b.hasGroups()&&(a=b.getGroupIndexByKey(a),this._doubleHead&&null!==a)?h.child(this._doubleHead[0],a):null};a.get=function(a){if(this._map.hasOwnProperty(a))return this._map[a];var b=document.getElementById(this.mid+"h"+a);return!b?$([]):
this._map[a]=$(b)};a._updateIndicator=function(a,b,d){a=this.get(a);var e=this._options,g=a.find("."+e.classSort),h=a.find("."+e.classSortOrder),k=e.classColHeaderSorted,t=e.classSortAsc,e=e.classSortDesc;0===b?(a.removeClass(k),g.removeClass(t+" "+e),h.text("")):(a.addClass(k),1===b?g.addClass(t).removeClass(e):2===b&&g.addClass(e).removeClass(t),null!==d?h.text(String(d+1)):h.text(""))};a._closest=function(a){return Util$.safe$(a).closest("div."+this._options.classColHeader,this._head)};a._getDef=
function(a){return this.getColMgr().getByKey(a.attr("colKey"))};a._sort=function(a,b,d){b=d.key;d=d.sorter;var e=this.grid.dataMgr.getSorters(),g=e.length,h={};this.triggerGridEvent("onBeforeColSort_"+b,!1,!0);this.triggerGridEvent("onBeforeColSort",!1,!0);for(var k=0;k<g;k++)h[e[k].key]=e[k];a.shiftKey?h[b]?(d=h[b],d.desc?e.remove(d):d.desc=!0):(d.desc=!1,e.push(d)):(h[b]?(d=h[b],d.desc=!d.desc):d.desc=!1,e=[d]);this.getDataMgr().refresh({sorters:e});this.getView()._scroll()};a._onChangeSorter=function(a,
b){var d=a.length,e=b.length,g;for(g=0;g<d;g++)a[g]&&this._updateIndicator(a[g].key,0,0);for(g=0;g<e;g++)b[g]&&this._updateIndicator(b[g].key,b[g].desc?2:1,1==e?null:g)};a._initReorder=function(){var a=this,b=this._options,d=this.getColMgr(),e=this._head,g=this.mid.length+1,h=function(b,f){for(var h=$(e).sortable("toArray"),k=h.length,r,v=0;v<k;v++)r=h[v],h[v]=""===r?f.item.attr("id").substring(g):r.substring(g);d.sortByKey(h,a)};e.sortable({items:"."+b.classColHeader,axis:"x",forcePlaceholderSize:!0,
placeholder:b.classColHeaderPlaceholder+" "+b.classColHeader,tolerance:"pointer",start:function(d,e){e.item.addClass(a._options.classColHeaderActive);$("#"+a.grid.mid+" ."+b.classColHeaderPlaceholder)[0].style.width=e.item[0].style.width},stop:function(b,d){d.item.removeClass(a._options.classColHeaderActive);d.item.css("top","");d.item.css("left","");d.item.css("z-index","");a._syncResizeHandles()},update:h});b.reorderSyncEnabled&&e.sortable("option","change",h)};a._getDx=function(a,b){var d=a.clientX-
this._resizeInitX,e=b.minW,g=h.ifNull(b.maxW,Number.MAX_VALUE),k=this._resizeInitWidth;k+d<e&&(d=e-k);k+d>g&&(d=g-k);return d};a._click=function(a){var b=this._closest(a.target);if(0!==b.length){var d=this._getDef(b);if(d){var e=d.key;a=[a,b,d];this.getEventMgr().triggerInvalid("clickHeaderValid_"+e,a)||(this.triggerGridEvent("clickHeader_"+e,a,!0),this.triggerGridEvent("clickHeader",a,!0))}}};a._mousedown=function(a){var b=this._options;if(h.hasTagAndClass(a.target,"DIV",b.classResizeHandle)){var d=
this._resizeKey=a.target.getAttribute("key");this._resizeInitWidth=parseInt(this.get(d)[0].style.width,10);this._resizeInitColWidth=this.getColMgr().getByKey(d).width;this._resizeInitX=a.clientX;this._resizeHandleInitX=this._resizeMap[d][0].offsetLeft;this._resizeGuide[0].style.left=Math.floor(this._resizeHandleInitX+(b.resizeHandleWidth-b.resizeGuideWidth)/2-b.scrollerLeft)+"px";this._resizeGuide[0].style.height=this.getView().getInnerHeight()+"px";this._resizeGuide.show()}else if(b=this._closest(a.target),
b.length){var e=this._getDef(b);e&&(d=e.key,a=[a,b,e],this.triggerGridEvent("mousedownHeader",a,!0),this.triggerGridEvent("mousedownHeader_"+d,a,!0))}};a._dragmove=function(a){var b=this._resizeKey;if(null!=b&&(a=this._getDx(a,this.getColMgr().getByKey(b)),!(1>Math.abs(a)))){var d=this._options;this.get(b)[0].style.width=this._resizeInitWidth+a+"px";this._moveResizeHandles(this._resizeHandleInitX+a-this._resizeMap[b][0].offsetLeft,this.getColMgr().getIdxByKey(b));this._resizeGuide[0].style.left=Math.floor(this._resizeHandleInitX+
a+(d.resizeHandleWidth-d.resizeGuideWidth)/2-d.scrollerLeft)+"px";d.syncResize&&this.getView().setWidthByKey(b,this._resizeInitColWidth+a)}};a._mouseup=function(a){var b=this._resizeKey;if(null!=b){this._resizeGuide.hide();this._resizeGuide[0].style.height="0px";var d=this._getDx(a,this.getColMgr().getByKey(b)),e;1<=Math.abs(d)&&(e=this.getView().setWidthByKey(b,this._resizeInitColWidth+d));!0!=e&&a.clientX!=this._resizeInitX&&this._setWidthByKey(b,this.getColMgr().getByKey(b).width);delete this._resizeKey;
delete this._resizeInitX;delete this._resizeHandleInitX;delete this._resizeInitWidth;delete this._resizeInitColWidth}};a._keydown=function(a){var b=document.activeElement;if(h.contains(this._mask[0],b,this._ctnr[0])&&h.hasClass(b,this._options.classColHeader)&&13==a.which){var b=$(b),d=this._getDef(b);d&&this._sort(a,b,d)}};a._toStyleWidth=function(a){return k.quirk?a+this._widthPlus():a};a._toStyleHeight=function(a){return k.quirk?a+this._heightPlus():a};a.setHeaderWidthFromViewWidth=function(a,
b){var d=this.get(a)[0];return d?d.style.width=this._toStyleWidth(b+this.getView()._colWidthPlus()-this._widthPlus())+"px":this._toStyleWidth(b+this.getView()._colWidthPlus()-this._widthPlus())+"px"};a.fromViewWidth=function(a){return this.getView()._getColOuterWidth(a)-this._widthPlus()};a._setWidthByKey=function(a,b){this.setHeaderWidthFromViewWidth(a,b);if(this._doubleHead){var d=this.getColMgr(),e=this.getView(),g=d.getGroupIndexByKey(a);if(null!=g){for(var d=d.getGroupByGroupIdx(g),h=0,k=d.length,
t=0;h<k;h++)d[h].hidden||(t+=e._getColOuterWidthByKey(d[h].key));this._doubleHead[0].childNodes[g].style.width=this._toStyleWidth(t-this._widthPlus())+"px"}}this._syncResizeHandles(this.getColMgr().getIdxByKey(a));this.getView()._scroll()};a._syncResizeHandles=function(a){a=a||0;for(var b=this.getView()._getColLefts(),d=this.getColumns(),e=d.length,g=this._resizeMap,h;a<e&&!d[a].dropDown;a++)h=d[a].key,g.hasOwnProperty(h)&&(g[h][0].style.left=b[a+1]+this._resizeHandleOffset+"px")};a._moveResizeHandles=
function(a,b){b=b||0;for(var d=this.getColumns(),e=d.length,g=this._resizeMap,h;b<e;b++)h=d[b].key,g.hasOwnProperty(h)&&(h=g[h][0],h.style.left=h.offsetLeft+a+"px")};a._onScrollViewportV=function(){this._resizeGuide[0].style.top=this.getView().getScrollTop()+"px"};a._initResizeHandles=function(){var a=this.getColumns(),b=a.length,d=this.getView(),e=d.mid,g=this._options,k=this._resizeMap,s,t,q=0,p=this._resizeHandleOffset=Math.floor(g.scrollerLeft-g.resizeHandleWidth/2),g=g.classResizeHandle,u=this.grid.getTranslation(),
v=this._head;d._setColLefts();for(d=d._getColLefts();q<b;q++){s=a[q];if(s.dropDown)break;s.resizable&&(t=s.key,k[t]=$("<div class='"+g+"' key='"+t+"' ondblclick='JGM.m.ViewportManager."+e+'._autoColWidth("'+t+"\")' style='left:"+(p+d[q+1])+"px' title='"+h.sprint(u.get("header.resizeTooltip"),{name:s.name}).replace(/'/g,h.escapeChar)+"'>").appendTo(v))}}})();jx.grid.Footer={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this._foot;this.grid=a.grid;this.grid.footer=this;this._options=k._extend({classCell:"footer-cell",background:"#F1F5FB",border:"0px solid #CCD9EA",sumBorderThickness:1,sumBorder:"solid #ddd",sumPadding:0,"sumPadding-top":void 0,"sumPadding-right":void 0,"sumPadding-bottom":void 0,"sumPadding-left":void 0,sumRowH:21,color:"#000",fontSize:"13px",fontWeight:"normal",cellHeight:25,cellPadding:40,countTemplate:"&nbsp;&nbsp;현재 <span name='shownCount'></span> 건 / 총 <span name='totalCount'></span> 건",titleColor:"#5A6779",
titleFontSize:"12px",titleFontWeight:"normal",contentColor:"#1E395B",contentFontSize:"12px",contentFontWeight:"normal",classFooter:"jgrid-footer",classTitle:"footer-title",classContent:"footer-content",style:"",cellStyle:"",titleStyle:"",contentStyle:"",sumAlign:"right",sumRound:null},a.options);this._sumMap={};this._showSums=!0;this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");var e=
h.element;goog.exportSymbol("jx.grid.Footer",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){var a=this._options,b={top:0,right:0,bottom:0,left:0};if("string"===typeof a.sumPadding){var c=a.sumPadding.match(/\S+/g);1===c.length?b.left=b.right=b.top=b.bottom=Number(c[0]):2===c.length?(b.top=b.bottom=Number(c[0]),b.left=b.right=Number(c[1])):3===c.length?(b.top=Number(c[0]),b.right=Number(c[1]),b.bottom=Number(c[2])):4===c.length&&(b.top=Number(c[0]),b.right=Number(c[1]),
b.bottom=Number(c[2]),b.left=Number(c[3]))}else b.left=b.right=a.sumPadding;a["sumPadding-left"]&&(b.left=a["sumPadding-left"]);a["sumPadding-right"]&&(b.right=a["sumPadding-right"]);a["sumPadding-top"]&&(b.top=a["sumPadding-top"]);a["sumPadding-bottom"]&&(b.bottom=a["sumPadding-bottom"]);this._padding=b;this._hasSum=this.grid.colDefMgr.get().some(function(a){return!!a.sumRenderer});this._hasSum2=this.grid.colDefMgr.getAll().some(function(a){return!!a.sumRenderer});a=this._mask=$(e("div",{"class":"classSliderMask"})).appendTo(this._ctnr);
this._slider=$(e("div",this._hasSum&&this._showSums?{"class":"classSlider"}:{})).appendTo(a);this._foot=$("<div class='"+this._options.classFooter+"'>").appendTo(this._ctnr);this.getNextCell().html(this._options.countTemplate);this._updateTotalCount();this._updateShownCount();this.bindEvents()};b.bindEvents=function(){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy,onDataChange:[this._updateTotalCount,this._updateSums],onAfterRefresh:this._updateShownCount,onResizeCol:this.setSumWidthFromViewWidth,
onRenderModules:this._render,changeVisibleColumns:this._onChangeVisibleColumns,onGetMaxContentWidth:this._onGetMaxContentWidth,onScrollViewportH:this._onScrollViewportH,"onChangeColumn:sumRenderer":this._onChangeSumRenderer},this)};b._render=function(){this.renderCells();this._updateSums()};b._onGetMaxContentWidth=function(a){if(a=this.getSumCell(a)){var b=$(a),c=a.style.width;b.css("width","");b=b.outerWidth();a.style.width=c;return b}return 0};b._onChangeVisibleColumns=function(a,b){(this._hasSum=
this.grid.colDefMgr.get().some(function(a){return!!a.sumRenderer}))&&this._showSums?this._slider.addClass("classSlider"):this._slider.removeClass("classSlider");if(this._hasSum&&this._showSums&&(!b||!b.noRerender)){for(var c=this.grid.colDefMgr.get(),f=this.grid.view,g=this._widthPlus(),h=0,k=c.length;h<k;h++){var r=c[h];if(r.dropDown)break;var s=this.getSumCell(r.key);s?this._slider[0].appendChild(s):this._slider[0].insertAdjacentHTML("beforeend",e("div",{"class":"classSliderCell",id:this.mid+"_sum_"+
r.key,style:{width:this._toStyleWidth(f._getColOuterWidth(h)-g)+"px"}},this._sumMap[r.key]||""))}if(c=this.getSumCell(c[0].key))for(c=c.previousSibling;c;)f=c.previousSibling,this._slider[0].removeChild(c),c=f}};b._onChangeSumRenderer=function(a,b){this._hasSum=this.grid.colDefMgr.get().some(function(a){return!!a.sumRenderer});this._hasSum2=this.grid.colDefMgr.getAll().some(function(a){return!!a.sumRenderer});this._hasSum&&this._showSums?(this._slider.addClass("classSlider"),this._slider.css("height",
"")):(this._slider[0].innerHTML="",this._slider.removeClass("classSlider"),this._slider.css("height","0"));this.renderCells();this._updateSums()};b._onReorderCols=function(){if(this._hasSum&&this._showSums)for(var a=this.grid.colDefMgr.get(),b=0,c=a.length;b<c&&!a[b].dropDown;b++){var f=this.getSumCell(a[b].key);f&&this._slider[0].appendChild(f)}};b.setSumWidthFromViewWidth=function(a,b){var c=this.getSumCell(a);if(c){var f=b+this.grid.view._colWidthPlus()-this._widthPlus();if(0>f)this.grid.view.setWidthByKey(a,
b-f);else return c.style.width=this._toStyleWidth(b+this.grid.view._colWidthPlus()-this._widthPlus())+"px"}};b._getBorder=function(){return this._border||(this._border=this._options.sumBorderThickness)};b._widthPlus=function(){return this._wPlus||(this._wPlus=this._padding.left+this._padding.right+this._getBorder())};b._heightPlus=function(){return this._hPlus||(this._hPlus=this._padding.top+this._padding.bottom+this._getBorder())};b._toStyleWidth=function(a){return k.quirk?a+this._widthPlus():a};
b._toStyleHeight=function(a){return k.quirk?a+this._heightPlus():a};b._onScrollViewportH=function(a){this._hasSum&&this._showSums&&(this._slider[0].style.left=-1E4-a+"px")};b.renderCells=function(){if(this._hasSum&&this._showSums){for(var a=this.grid.colDefMgr.get(),b=0,c=a.length,f=this.grid.view,g=[],h=this._widthPlus();b<c&&!a[b].dropDown;b++)g.push(e("div",{"class":"classSliderCell",id:this.mid+"_sum_"+a[b].key,style:{width:this._toStyleWidth(f._getColOuterWidth(b)-h)+"px"}}));this._slider[0].innerHTML=
g.join("")}};b.getSumCell=function(a){return document.getElementById(this.mid+"_sum_"+a)};b.setCellValue=function(a,b){this._sumMap[a]=b;var c=this.getSumCell(a);c&&(c.innerHTML=null==b?"":b)};b.getCellValue=function(a){return this._sumMap[a]};b._destroy=function(){var a,b=this._sumMap;for(a in b)b.hasOwnProperty(a)&&(b[a]&&b[a].remove)&&b[a].remove();this._mask&&(this._mask.remove(),delete this._mask);this._slider&&(this._slider.remove(),delete this._slider);k._destroy(this,{name:"Footer",path:"footer",
$:"_foot",property:"_ctnr",map:"_sumMap _options"})};b._onCreateCss=function(){var a=this._options,b="#"+this.grid.mid+" ."+a.classFooter,c=[];c.push(b+"{cursor:default;overflow:hidden;width:100%;"+k._CONST._cssUnselectable+"background:"+a.background+";border-top:"+a.border+";border-collapse:collapse;color:"+a.color+";font-size:"+a.fontSize+";font-weight:"+a.fontWeight+";"+a.style+"}");c.push(b+" ."+a.classCell+"{float:left;white-space:nowrap;line-height:"+a.cellHeight+"px;padding-right:"+a.cellPadding+
"px;"+a.cellStyle+"}");c.push(b+" ."+a.classCell+" * {line-height:"+a.cellHeight+"px;}");c.push(b+" ."+a.classTitle+"{text-align:right;color:"+a.titleColor+";font-size:"+a.titleFontSize+";font-weight:"+a.titleFontWeight+";"+a.titleStyle+"}");c.push(b+" ."+a.classContent+"{color:"+a.contentColor+";font-size:"+a.contentFontSize+";font-weight:"+a.contentFontWeight+";"+a.contentStyle+"}");var f=a.sumBorderThickness+"px "+a.sumBorder,b={},e="#"+this.grid.mid;b[e+" .classSliderMask"]={position:"relative",
overflow:"hidden",width:"100%","border-bottom":f};b[e+" .classSlider"]={position:"relative",overflow:"hidden","white-space":"nowrap",cursor:"default",background:"#f0f0f0",left:"-10000px",width:"100000px","line-height":a.sumRowH+"px"};b[e+" .classSlider * "]={"line-height":a.sumRowH+"px"};b[e+" .classSliderCell"]={position:"relative",overflow:"hidden","float":"left","text-overflow":"ellipsis","text-align":a.sumAlign,"vertical-align":"middle",height:this._toStyleHeight(a.sumRowH)+"px",left:1E4-this.grid.view.getScrollLeft()+
"px","border-right":f,padding:this._padding.top+"px "+this._padding.right+"px "+this._padding.bottom+"px "+this._padding.left+"px"};var g,h;for(g in b)if(b.hasOwnProperty(g)){a=b[g];c.push(g+"{");for(h in a)c.push(h+":"+a[h]+";");c.push("}")}return c.join("")};b._updateTotalCount=function(){this._foot.find("[name=totalCount]")[0].innerHTML=this.grid.dataMgr.getReal().length};b._updateShownCount=function(){this._foot.find("[name=shownCount]")[0].innerHTML=this.grid.dataMgr.filterReal(this.grid.dataMgr.datalist).length};
b._updateSums=function(){if(this._hasSum2)for(var a=this.getSumRendered(),b=this.grid.colDefMgr.getAll(),c=b.length,f=0;f<c;f++){var e=b[f].key;this.setCellValue(e,a[e])}};b.updateSums=b._updateSums;b.hideSums=function(){this._showSums=!1;this._slider[0].innerHTML="";this._slider.removeClass("classSlider");this._slider.css("height","0")};b.showSums=function(){this._showSums=!0;this._slider.addClass("classSlider");this._slider.css("height","");this.renderCells();this._updateSums()};b.getNextCell=function(){return $("<div class='"+
this._options.classCell+"'/>").appendTo(this._foot)};b._sumRenderer=function(a,b){return"<span class='"+this._options.classTitle+"'>"+a+" 합계: </span><span class='"+this._options.classContent+"'>"+b+"</span>"};b.getSumRendered=function(a,b){a=a||this.grid.dataMgr.getReal();b=b||this.grid.colDefMgr.getAll();for(var c=b.length,f={},e=this._options.sumRound,k=0;k<c;k++){var n=b[k],r=n.sumRenderer,s=n.key;if(r){var t=n.name,q;q=g._calSum;var p;switch(typeof r){case "function":q=q(a,s,!0,e);p=r(t,q.sum,
q.min,q.max);break;case "string":q=q(a,s,void 0,e);n=r.toLowerCase();if("krw"===n||"\\"===r)p=h.formatNumber(q);else if("usd"===n||"$"===r)p=h.formatNumber(q,2,"$ ");break;default:q=q(a,s,void 0,e),p=n.renderer?n.renderer(q):q}f[s]=p}else f[s]=""}return f};g._calSum=function(a,b,c,f){if(null==f){if(c){c=0;for(var e=a.length,g=0,h=Number.MAX_VALUE,k=Number.MIN_VALUE;g<e;g++){if("string"===typeof(f=a[g][b]))f=f.toFloat();h>f&&(h=f);k<f&&(k=f);c+=isNaN(f)?0:f}return{sum:c,min:h,max:k}}c=0;e=a.length;
for(g=0;g<e;g++){if("string"===typeof(f=a[g][b]))f=f.toFloat();c+=isNaN(f)?0:f}return c}if(c){c=0;for(var e=a.length,g=0,h=Number.MAX_VALUE,k=Number.MIN_VALUE,s=Math.pow(10,f);g<e;g++){if("string"===typeof(f=a[g][b]))f=f.toFloat();f=Math.round(f*s);h>f&&(h=f);k<f&&(k=f);c+=isNaN(f)?0:f}return{sum:c/s,min:h/s,max:k/s}}c=0;e=a.length;g=0;for(s=Math.pow(10,f);g<e;g++){if("string"===typeof(f=a[g][b]))f=f.toFloat();f=Math.round(f*s);c+=isNaN(f)?0:f}return c/s}})();jx.grid.CheckManager={};
(function(){function g(a){function b(a){a=this._options;var d=this._isRadio=a.isRadio=!!a.isRadio;this._hasMaster=a.master=!d&&!!a.master;this._col=a.colDef;this._key=this._col.key;this._cssClass=a.classCheck;this._cssClassMaster=a.classMasterCheck;this._name=a.name||d&&"radio"+this.mid||null}this.addEventListener("afteroption",b);e.call(this,a);this.removeEventListener("afteroption",b)}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util"),e=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.CheckManager",
g);goog.inherits(g,e);g.getInstance=function(a){return new g(a)};var b=g.prototype;b._init=function(){this._map={};this.disabledmap={};this._count=0;this._disabled=!1;this._master;var a,b=k._CONST;a=this.getColMgr();a.getByKey(this._col.key)||a.addAt(this._options.colIdx,this._col);b._checkboxWidth||(a=h.calCheckSize(),b._checkboxWidth=a.checkboxW,b._checkboxHeight=a.checkboxH,b._radioWidth=a.radioW,b._radioHeight=a.radioH)};b._bindEvents=function(){var a=this._col.key,b;b={onAfterSetDatalist:this.uncheckAll,
onAfterRerender:this._updateMaster,onIdChange:this._onIdChange,onIdListChange:this._onIdListChange,onRemoveDatarow:this._onRemoveDatarow,onRemoveDatalist:this._onRemoveDatalist,onChangeLanguage:this._onChangeLanguage,onSearch:this._onSearch};b["onRenderCell_"+a+"_prepend"]=this._onRenderCell;b["keydownColSel_"+a+"_"+h.keyMapKeydown.space]=this._keydownColSel;this._hasMaster&&(b["onRenderHeader_"+a+"_prepend"]=this._onRenderHeader,b.onRenderHeadersComplete=this._getMaster);this.bindGridEvent(b,this)};
b._onChangeLanguage=function(){var a=this.grid.getTranslation();this._master&&this._master.attr("title",a.get("check.masterTooltip"));for(var b=this.getView().getRenderedRows(),c=this.getDataMgr(),f=this.getColMgr().getIdxByKey(this._key),a=a.get("check.inputTooltip"),e=0,g=b.length;e<g;e++){var k=c.getIdxByNode(b[e]);b[e].childNodes[f].childNodes[0].title=h.sprint(a,{row:k+1})}};b._onSearch=function(a){a?this.disableMaster():this.enableMaster()};b._defaultOptions=function(){var a=this;return{colDef:{key:"checkbox",
width:20,name:" ",noTitle:!0,resizable:!1,sorter:null,style:"text-align: center",filter:null,noSearch:!0,editor:null,generated:!0,inputOnCreate:!1,rowPopUpFormat:function(b,c,f,e,g){return a.isChecked(e)?"True":"False"},printFormat:function(b,c,f,e,g){return a.isChecked(e)?"True":"False"},saveFormat:function(b,c,f,e,g){return a.isChecked(e)?"True":"False"}},colIdx:0,name:void 0,classCheck:"checkmg",classMasterCheck:"checkm",master:!0,isRadio:!1,generated:!0,ignoreDisabled:!1}};b._beforeCreateCss=
function(a){var b,c=a.css;this._isRadio?(b=k._CONST._radioWidth||13,a=k._CONST._radioHeight||13):(b=k._CONST._checkboxWidth||13,a=k._CONST._checkboxHeight||13);b="*overflow:hidden;padding:0;width:"+b+"px;height:"+a+"px;";c.push(this.getView()._getCellSelector()+" ."+this._cssClass+"[mid='"+this.mid+"']{"+b+"margin:"+Math.floor((this.getView()._options.rowH-a)/2)+"px 0 0 0}#"+this.mid+"h{"+b+"margin:"+Math.floor((this.getHeader()._options.height-a)/2)+"px 0 0 0}")};b.getKey=function(){return this._key};
b.checkList=function(a,b){b||(a=this.getDataMgr().mapList(a).mapped);for(var c=0,f=a.length;c<f;c++)this.check(a[c],!0)};b.setCheckList=function(a,b){this.uncheckAll();this.checkList(a,b)};b.getCheckList=function(){return h.toArray(this._map)};b.getDisableds=function(){return h.toArray(this.disabledmap)};b.toggleCheckAll=function(){return this.isCheckedAll()?this.uncheckAll():this.checkAll()};b.clickMaster=function(a){this.getAllData();var b=this.getDataList(),c=this._options.ignoreDisabled;if(a=
!!a){g._check(this.getCheckboxes(c));for(var f=b.length,e=this.getIdKey(),h,k=0;k<f;k++)h=b[k],(!c||!this.isDisabled(h,!0))&&this._add(h,h[e])&&this.triggerGridEvent("onCheckChange",[h,!0],!0)}else{g._uncheck(this.getCheckboxes(c));f=b.length;e=this.getIdKey();for(k=0;k<f;k++)h=b[k],(!c||!this.isDisabled(h,!0))&&this._remove(h,h[e])&&this.triggerGridEvent("onCheckChange",[h,!1],!0)}this.triggerGridEvent("onClickMasterCheck",[a],!0)};b.checkAll=function(){this._hasMaster&&g._check(this._master);g._check(this.getCheckboxes());
for(var a=this.getAllData(),b=a.length,c=this.getIdKey(),f=this._map,e=0;e<b;e++)f[a[e][c]]=a[e];this._count=b;this.triggerGridEvent("onCheckAll",[],!0)};b.uncheckAll=function(){this._hasMaster&&g._uncheck(this._master);g._uncheck(this.getCheckboxes());this._map={};this._count=0;this.triggerGridEvent("onUncheckAll",[],!0)};b.toggleCheck=function(a,b){b||(a=this.getDataMgr().map(a));this.isChecked(a,!0)&&!this._isRadio?this.uncheck(a,!0):this.check(a,!0)};b.toggleDisable=function(a,b){b||(a=this.getDataMgr().map(a));
this.isDisabled(a,!0)?this.enable(a,!0):this.disable(a,!0)};b.toggleById=function(a){this.toggleCheck(this.getDataMgr().getById(a),!0)};b.check=function(a,b){b||(a=this.getDataMgr().map(a));this._add(a)&&(g._check(this.getCheckbox(a)),this._updateMaster(),this.triggerGridEvent("onCheckChange",[a,!0],!0))};b.uncheck=function(a,b){b||(a=this.getDataMgr().map(a));this._remove(a)&&(g._uncheck(this.getCheckbox(a)),this._hasMaster&&g._uncheck(this._master),this.triggerGridEvent("onCheckChange",[a,!1],!0))};
b.disable=function(a,b){var c=this.getDataMgr();b||(a=c.map(a));var c=c.getId(a),f=this.disabledmap;f.hasOwnProperty(c)||(f[c]=a,g.disableNode(this.getCheckbox(a)),this.triggerGridEvent("onDisableCheck",[a],!0))};b.enable=function(a,b){var c=this.getDataMgr();b||(a=c.map(a));var c=c.getId(a),f=this.disabledmap;f.hasOwnProperty(c)&&(delete f[c],g.enableNode(this.getCheckbox(a)),this.triggerGridEvent("onEnableCheck",[a],!0))};b._updateMaster=function(){var a=this._options.ignoreDisabled;this._hasMaster&&
g._setCheck(this._master,this.isCheckedAll(a))};b._add=function(a,b){b=b||a[this.getIdKey()];if(this._map.hasOwnProperty(b))return!1;this._isRadio&&(this._map={},this._count=0);this._map[b]=a;this._count++;return!0};b._remove=function(a,b){b=b||a[this.getIdKey()];var c=this._map;if(!c.hasOwnProperty(b))return!1;delete c[b];this._count--;return!0};b.isChecked=function(a,b){var c=this.getDataMgr();b||(a=c.map(a));return this._map.hasOwnProperty(c.getId(a))};b.isDisabled=function(a,b){var c=this.getDataMgr();
b||(a=c.map(a));return this.disabledmap.hasOwnProperty(c.getId(a))};b.splitChecked=function(a,b){b||(a=this.getDataMgr().mapList(a).mapped);for(var c=[],f=[],e=0,g=a.length,h=this.getIdKey(),k,s=this._map;e<g;e++)s.hasOwnProperty((k=a[e])[h])?c.push(k):f.push(k);return{checked:c,unchecked:f}};b.isCheckedAll=function(a){if(a){if(b=this._count){b=this.getDataList();c=b.length;for(a=0;a<c;a++)if(!this.isDisabled(b[a])&&!this.isChecked(b[a],!0))return!1;return!0}}else{var b=this._count;if(b){a=this.getAllData().length;
if(b===a)return!0;var b=this.getDataList(),c=b.length;if(c!==a){for(a=0;a<c;a++)if(!this.isChecked(b[a],!0))return!1;return!0}}}return!1};b.removeChecked=function(){return this.getDataMgr().removeList(this.getCheckList())};b._getMaster=function(){this._master=$(document.getElementById(this.mid+"h"))};b._getChecks=function(a){for(var b=a.length,c=[],f=0,e=this.getColMgr().getIdxByKey(this._key);f<b;f++)c.push(a[f].childNodes[e].childNodes[0]);return c};b.getCheckboxes=function(a){var b=this._getChecks(this.getView().getRenderedRows());
return a?b.filter(function(a){return!a.disabled}):b};b.getCheckboxById=function(a){if(a=this.getView().getRowById(a))return a.childNodes[this.getColMgr().getIdxByKey(this._key)].childNodes[0]};b.getCheckbox=function(a){return this.getCheckboxById(this.getDataMgr().getId(a))};b.getCheckboxByIdx=function(a){return this.getCheckboxById(this.getDataMgr().getIdByIdx(a))};b._onRemoveDatarow=function(a){this.uncheck(a,!0);this.enable(a,!0)};b._onRemoveDatalist=function(a){for(var b=0,c=a.length;b<c;b++)this.uncheck(a[b],
!0),this.enable(a[b],!0)};b._onIdChange=function(a,b,c){var f=this._map,e=this.disabledmap;f.hasOwnProperty(b)&&(delete f[b],f[c]=a);e.hasOwnProperty(b)&&(delete e[b],e[c]=a)};b._onIdListChange=function(a,b,c){for(var f=0,e=a.length,g=this._map,h=this.disabledmap,k,s;f<e;f++)k=a[f],s=b[f],g.hasOwnProperty(s)&&(delete g[s],g[k[c]]=k),h.hasOwnProperty(s)&&(delete h[s],h[k[c]]=k)};b._keydownColSel=function(a,b,c){a.preventDefault();if(b&&c){a=this.isChecked(c.getDatarow(),!0);var f;c=this.getDataList();
if(this._isRadio)for(f in b){if(b.hasOwnProperty(f)&&"length"!==f){this.check(c[f],!0);break}}else for(f in b)b.hasOwnProperty(f)&&"length"!==f&&(a?this.uncheck(c[f],!0):this.check(c[f],!0))}};b._onRenderHeader=function(a){var b=h.encode,c=this.grid.getTranslation().get("check.masterTooltip");a.push("<input id='"+this.mid+"h' type='checkbox' tabIndex='-1' title='"+b(c)+"' onclick='JGM.m.CheckManager."+this.mid+".clickMaster(this.checked);' class='"+this._cssClass+" "+this._cssClassMaster+"' mid='"+
this.mid+"'");this.isCheckedAll()&&a.push(" checked='checked'");this._disabled&&a.push(" disabled='disabled'");a.push("/>")};b._onRenderCell=function(a,b,c,f,e){b=this.grid.getTranslation().get("check.inputTooltip");e.push("<input tabIndex='-1' onclick=\"JGM.m.CheckManager."+this.mid+".toggleById('"+c[this.getIdKey()]+"')\" type='"+(this._isRadio?"radio":"checkbox")+"' class='"+this._cssClass+"' title='"+h.sprint(b,{row:a+1})+"' mid='"+this.mid+"'");this._name&&e.push(" name='"+this._name+"'");this.isChecked(c,
!0)&&e.push(" checked='checked'");(this._disabled||this.isDisabled(c,!0))&&e.push(" disabled='disabled'");e.push("/>")};b.disableAll=function(){this._disabled||(this._disabled=!0,this._hasMaster&&this._master.attr("disabled","disabled"),$(this.getCheckboxes()).attr("disabled","disabled"))};b.enableAll=function(){this._disabled&&(this._disabled=!1,this._hasMaster&&this._master.removeAttr("disabled"),$(this.getCheckboxes()).removeAttr("disabled"))};b.disableMaster=function(){this._hasMaster&&this._master.attr("disabled",
"disabled")};b.enableMaster=function(){this._hasMaster&&this._master.removeAttr("disabled")};g._check=function(a){a&&Util$.safe$(a).attr("checked","checked")};g._uncheck=function(a){a&&Util$.safe$(a).removeAttr("checked")};g.disableNode=function(a){a&&Util$.safe$(a).attr("disabled","disabled")};g.enableNode=function(a){a&&Util$.safe$(a).removeAttr("disabled")};g._setCheck=function(a,b){b?g._check(a):g._uncheck(a)}})();jx.grid.Collapser={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.collapser=this;this._options=k._extend({key:void 0,colDef:{key:"collapser",width:120,name:" ",noSearch:!0},colIdx:0,urlCollapsed:this.grid._options.imageUrl+"collapsed.png",urlCollapsedHover:this.grid._options.imageUrl+"collapsed-hover.png",urlExpanded:this.grid._options.imageUrl+"expanded.png",urlExpandedHover:this.grid._options.imageUrl+"expanded-hover.png",width:6,padding:5,classCollapser:"jgrid-collapser",classCollapsed:"collapsed",
classExpanded:"expanded",classIndent:"indent",classMasterCollapser:"master",indentSize:12,beginCollapsed:!1,CheckManager:void 0,Tree:void 0,TreeCheckMode:!0},a.options);this._options.CheckManager&&(this.checkMgr=k.create("CheckManager",{grid:this.grid,options:this._options.CheckManager}),delete this._options.CheckManager,h.isNull(this._options.key)&&this._options.colIdx++);this._tree=new e({list:this.grid.dataMgr.all,options:this._options.Tree});this._master;this.key;this._treeCheckMode=this._options.TreeCheckMode}
var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");var e=goog.getObjectByName("jx.struct.Tree");goog.exportSymbol("jx.grid.Collapser",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){h.isNull(this._options.key)&&this.grid.colDefMgr.addAt(this._options.colIdx,this._options.colDef);this._makeTree();this._filterRefresh();this.key=h.isNull(this._options.key)?this._options.colDef.key:
this._options.key;this.bindEvents()};b.bindEvents=function(){var a=this.key,b;b={onAfterFilter:this._onAfterFilter,onCreateCss:this._onCreateCss,onDestroy:this._destroy,onAfterSetDatalist:this._onAfterSetDatalist,onAddDatarow:this._onAddDatarow,onAddDatalist:this._onAddDatalist,onUpdateDatarow:this._onUpdateDatarow,onUpdateDatalist:this._onUpdateDatalist,onRemoveDatarow:this._onRemoveDatarow,onRemoveDatalist:this._onRemoveDatalist,onRenderHeadersComplete:this._getMaster};b["onRenderHeader_"+a+"_prepend"]=
this._onRenderHeader;b["clickHeaderValid_"+a]=this._clickHeaderValid;b["onRenderCell_"+a+"_prepend"]=this._onRenderCell;b["dblclickCanvas_"+a]=this._dblclickCanvas;b["keydownColSel_"+a+"_"+h.keyMapKeydown.space]=this._keydownColSel;h.isNotNull(this.checkMgr)&&(b.onCheckChange=this._onCheckChange);this.grid.event.bind(b,this)};b._destroy=function(){k._destroy(this,{name:"Collapser",path:"collapser",module:"_tree",$:"_master",property:"checkMgr",map:"_options"})};b._onCreateCss=function(){var a="#"+
this.grid.mid+" .",b=this._options,c=a+this.grid.view._options.classRow+" .",f=a+b.classCollapser,e=f+"."+b.classExpanded,g=f+"."+b.classCollapsed,k=this.grid.view._options.rowH,r=[],s=this.grid.header;r.push(a+b.classIndent+"{height:"+k+"px;float:left;}");r.push(f+"{width:"+b.width+"px;float:left;padding:0 "+b.padding+"px}");r.push(c+b.classCollapser+"{height:"+k+"px}");r.push(e+"{background:url("+b.urlExpanded+") no-repeat center transparent}");r.push(e+":hover{background:url("+b.urlExpandedHover+
") no-repeat center transparent}");r.push(g+"{background:url("+b.urlCollapsed+") no-repeat center transparent}");r.push(g+":hover{background:url("+b.urlCollapsedHover+") no-repeat center transparent}");h.isNotNull(s)&&r.push(a+s._options.classColHeader+" ."+b.classCollapser+"{height:"+s._options.height+"px}");return r.join("")};b._onAfterSetDatalist=function(a){this._tree.destroy();this._tree=new e({list:this.grid.dataMgr.all,options:this._options.Tree});this._makeTree()};b._onAddDatarow=function(a){a=
this._tree.createNode(a);a._collapsed=this._options.beginCollapsed;h.isNotNull(a.parent)&&(a.parent===a.tree.root||a.parent._shown&&!a.parent._collapsed)?a._shown=!0:a._shown=!1;h.isNotNull(a.parent)&&1===a.parent.children.length&&this.grid.view.rerenderCellByIdAndKey(this.grid.dataMgr.getId(a.parent.data),this.key);!0===a._collapsed||!1===a._shown?a.traverseChildren({fn:function(a){this._shown=!1}}):a.traverseChildren({fn:function(a){h.isNotNull(this.parent)&&(this.parent===this.tree.root||this.parent._shown&&
!this.parent._collapsed)?this._shown=!0:(a.propagate=!1,this.traverse({fn:function(a){this._shown=!1}}))}});this.grid.event.trigger("onCollapserTreeChange",!1,!0)};b._onAddDatalist=function(a){for(var b=0,c=a.length,f=this._tree,e=f.root,g=this._options.beginCollapsed,k=this.key,r=this.grid.view,s=this.grid.dataMgr,t,q=[],p;b<c;b++)t=f.createNode(a[b]),t._collapsed=g,h.isNotNull(t.parent)&&1===t.parent.children.length&&q.push(t.parent.data);if(void 0!==r){b=0;for(c=q.length;b<c;b++)r.rerenderCellByIdAndKey(s.getId(q[b]),
k)}e.traverseChildren({fn:function(a){p=this.parent;h.isNotNull(p)&&(p===e||p._shown&&!p._collapsed)?this._shown=!0:(a.propagate=!1,this.traverse({fn:function(a){this._shown=!1}}))}});this.grid.event.trigger("onCollapserTreeChange",!1,!0)};b._onUpdateDatarow=function(a,b,c){var f=this._tree,e=f._options.nodeKey,g=f._options.parentKey,k;b.hasOwnProperty(e)&&(k=f.getNodeByNodeId(c[e]),f.changeNodeId(k,c[e],b[e]),this.grid.event.trigger("onCollapserTreeChange",!1,!0));b.hasOwnProperty(g)&&(h.isNull(k)&&
(k=f.getNode(a)),f.changeParentId(k,c[g],b[g]),this.grid.event.trigger("onCollapserTreeChange",!1,!0))};b._onUpdateDatalist=function(a,b,c){b=this._tree;for(var e=b._options.nodeKey,g=b._options.parentKey,k,n,r,s=[],t=[],q=0,p=a.length;q<p;q++)k=c[q],n=a[q],r=void 0,k.hasOwnProperty(e)&&(h.isNull(r)&&(r=b.getNodeByNodeId(k[e])),s.push({node:r,before:k[e],newId:n[e]})),k.hasOwnProperty(g)&&(h.isNull(r)&&(r=b.getNode(n)),t.push({node:r,before:k[g],newId:n[g]}));a=s.length;c=t.length;if(0!==a+c){if(10<
a+c)b.reattach();else{for(q=0;q<a;q++)e=s[q],b.changeNodeId(e.node,e.before,e.newId);for(q=0;q<c;q++)e=t[q],b.changeParentId(e.node,e.before,e.newId)}this.grid.event.trigger("onCollapserTreeChange",!1,!0)}};b._onRemoveDatarow=function(a){this._tree.destroyNodeByData(a);this.grid.event.trigger("onCollapserTreeChange",!1,!0)};b._onRemoveDatalist=function(a){for(var b=0,c=a.length,e=this._tree;b<c;b++)e.destroyNodeByData(a[b]);this.grid.event.trigger("onCollapserTreeChange",!1,!0)};b._onAfterFilter=
function(a,b){var c=this._tree;if(0<b.length){var e=this.grid.dataMgr,g=a.length,k=e._idToIdx,n=e.idKey,r,s=0,t=function(c){h.isNotNull(this.parent)?(r=this.parent.data,h.isNotNull(r)&&!e.has(r)&&(a.push(r),b.remove(r),k[r[n]]=-1)):c.stop=!0};e._reidx();for(c.reattach();s<g;s++)c.getNode(a[s]).traverse({up:!0,fn:t});c.reattach(a);c.sortList(a);this.grid.event.trigger("onCollapserTreeChange",!1,!0)}else c.reattach(a),this.grid.event.trigger("onCollapserTreeChange",!1,!0),this._filter(a,b)};b._filter=
function(a,b){a.length=0;this._tree.root.traverseChildren({fn:function(c){this._shown?a.push(this.data):b.push(this.data)}})};b.setTreeCheckMode=function(a){this._treeCheckMode=!!a};b.getTreeCheckMode=function(a){return this._treeCheckMode};b.toggleById=function(a){if(h.isNotNull(a))return this.toggleCollapse(this._tree.getNode(this.grid.dataMgr.getById(a)))};b.toggle=function(a){return this.toggleById(this.grid.dataMgr.getId(a))};b.toggleByIdx=function(a){return this.toggleById(this.grid.dataMgr.getIdByIdx(a))};
b._clickHeaderValid=function(a,b){if(h.hasTagAndClass(a.target,"DIV",this._options.classCollapser))return!1};b._dblclickCanvas=function(a,b){h.hasTagAndClass(a.target,"DIV",this._options.classCollapser)||this.toggleCollapse(this._tree.getNode(b.getDatarow()))};b._keydownColSel=function(a,b,c){a.preventDefault();if(h.isNotNullAnd(b,c)){a=this._tree;c=a.getNode(c.getDatarow())._collapsed;var e=this.grid.dataMgr.datalist,g,k;for(k in b)b.hasOwnProperty(k)&&"length"!==k&&(g=a.getNode(e[k]),c?this.expand(g):
this.collapse(g));this._filterRefresh()}};b._makeTree=function(){var a=this._tree,b,c;a.__init();c=a.map;a=a.root;if(this._options.beginCollapsed){for(b in c)c.hasOwnProperty(b)&&(c[b]._collapsed=!0,c[b]._shown=!1);c=a.children;var e=c.length;for(b=0;b<e;b++)c[b]._shown=!0;a._collapsed=!0}else{for(b in c)c.hasOwnProperty(b)&&(c[b]._collapsed=!1,c[b]._shown=!0);a._collapsed=!1}this.grid.event.trigger("onCollapserTreeChange",!1,!0)};b._onRenderHeader=function(a){a.push("<div id='"+this.mid+"h' onmousedown='JGM.m.Collapser."+
this.mid+".toggleMaster();' class='"+this._options.classCollapser+" "+this._options.classMasterCollapser);this._tree.root._collapsed?a.push(" "+this._options.classCollapsed):a.push(" "+this._options.classExpanded);a.push("'></div>")};b._onRenderCell=function(a,b,c,e,g){a=this._tree.getNode(c);if(h.isNull(a))return null;c=this.grid.dataMgr.getId(c);b=this._options;g.push("<div class='"+b.classIndent+"' style='width:"+b.indentSize*a.getLevel()+"px;'></div><div ");a.isLeaf()?g.push("class='"+b.classCollapser):
(g.push('onmousedown="JGM.m.Collapser.'+this.mid+".toggleById('"+c+"');\" class='"+b.classCollapser),a._collapsed?g.push(" "+b.classCollapsed):g.push(" "+b.classExpanded));g.push("'></div>")};b.getLevel=function(a){a=this._tree.getNode(a);return h.isNull(a)?null:a.getLevel()};b.collapse=function(a,b){if(!(!0===a._collapsed||a.isLeaf())){a._collapsed=!0;a.traverseChildren({fn:function(a){this._shown=!1;this._collapsed&&(a.propagate=!1)}});var c=this._getCollapser(a.data);0<c.length&&this._setClass(c,
!0);!b&&(a.parent===this._tree.root&&!1===this._tree.root._collapsed)&&this._setClass(this._master,this._tree.root._collapsed=!0)}};b.expand=function(a,b){if(!(!1===a._collapsed||a.isLeaf())){a._collapsed=!1;a.traverseChildren({fn:function(a){this._shown=!0;this._collapsed&&(a.propagate=!1)}});var c=this._getCollapser(a.data),e=this._tree;0<c.length&&this._setClass(c,!1);if(!b&&a.parent===e.root){for(var c=e.root.children,g=c.length,h=0;h<g;h++)if(c[h]._collapsed)return;this._setClass(this._master,
e.root._collapsed=!1)}}};b._setClass=function(a,b){if(!h.isNull(a)){var c=this._options;b?a.addClass(c.classCollapsed).removeClass(c.classExpanded):a.addClass(c.classExpanded).removeClass(c.classCollapsed)}};b.toggleMaster=function(){var a=this._tree.root,b=a.children,c=b.length,e=0;if(a._collapsed){for(;e<c;e++)this.expand(b[e],!0);this._setClass(this._master,a._collapsed=!1)}else{for(;e<c;e++)this.collapse(b[e],!0);this._setClass(this._master,a._collapsed=!0)}this._filterRefresh()};b.toggleCollapse=
function(a){a=a._collapsed?this.expand(a):this.collapse(a);this._filterRefresh();return a};b._onCheckChange=function(a,b){if(this._treeCheckMode){var c=this._tree.getNode(a),e=this.checkMgr,g=[],m;b?(c.traverseChildren({fn:function(a){e.isChecked(this.data)?a.propagate=!1:(e._add(this.data),h.isNotNull(m=e.getCheckbox(this.data))&&g.push(m))}}),c.traverseParent({up:!0,fn:function(a){h.isNull(this.data)||e.isChecked(this.data)?a.stop=!0:(e._add(this.data),h.isNotNull(m=e.getCheckbox(this.data))&&g.push(m))}}),
k.CheckManager._check($(g)),e._updateMaster()):(c.traverseChildren({fn:function(a){e.isChecked(this.data)?(e._remove(this.data),h.isNotNull(m=e.getCheckbox(this.data))&&g.push(m)):a.propagate=!1}}),c.traverseParent({up:!0,fn:function(a){if(h.isNull(this.data)||!e.isChecked(this.data))a.stop=!0;else{for(var b=0,c=this.children,d=c.length;b<d;b++)if(e.isChecked(c[b].data)){a.stop=!0;return}e._remove(this.data);h.isNotNull(m=e.getCheckbox(this.data))&&g.push(m)}}}),k.CheckManager._uncheck($(g)))}};b._filterRefresh=
function(){this._filter(this.grid.dataMgr.datalist,this.grid.dataMgr.failed);this.grid.dataMgr._finish()};b._getCollapser=function(a){if(h.isNull(a))return $([]);a=h.findFirstByTagAndClass(this.grid.view.getCell(this.grid.dataMgr.getIdx(a),this.grid.colDefMgr.getIdxByKey(this.key)),"DIV",this._options.classCollapser);return void 0===a?$([]):$(a)};b._getMaster=function(){this._master=$(document.getElementById(this.mid+"h"))}})();jx.grid.ColumnGroup={};
(function(){function g(b){this.mid=b.mid;this.grid=b.grid;this.grid.colGroup=this;this._options=k._extend({key:void 0,padColKeys:[],sumColKeys:[],prefix:"합계: ",Collapser:{indentSize:0}},b.options);this._options.Collapser.key=this._options.key;this._parentMap={};this.__init()}var k=goog.getObjectByName("jx.grid"),h=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");goog.getObjectByName("jx.grid.Collapser");goog.exportSymbol("jx.grid.ColumnGroup",g);
g.getInstance=function(b){return new g(b)};var e=g.prototype;e.__init=function(){var b=this.grid,a=b.dataMgr,d=this._options;this.bindEvents();b=this.collapser=k.create("Collapser",{grid:b,options:d.Collapser});delete d.Collapser;this._processData(a.all);b.__init();a.refresh()};e.bindEvents=function(){var b;b={onBeforeSetDatalist:this._removeAll,"onAfterSetDatalist onAddDatalist":this._processData,onAddDatarow:this._onAddDatarow,onUpdateDatarow:this._onUpdateDatarow,onUpdateDatalist:this._onUpdateDatalist,
onRemoveDatarow:this._onRemoveDatarow,onRemoveDatalist:this._onRemoveDatalist,onDestroy:this._destroy};if(0!==this._options.sumColKeys.length){var a=this.mid,d=this.grid.dataMgr._consts._notReal,c=0,e,g=this._options.sumColKeys,h=this._options.prefix,k=g.length;for(e=function(b,c,e,f,g){e[d]===a&&g.push(h)};c<k;c++)b["onRenderCell_"+g[c]+"_prepend"]=e;b.onCollapserTreeChange=this._onCollapserTreeChange}this.grid.event.bind(b,this)};e._destroy=function(){k._destroy(this,{name:"ColumnGroup",path:"colGroup",
property:"collapser",map:"_parentMap _options"})};e._processData=function(b){for(var a=b.length,d=this._options.key,c=this._options.padColKeys,e=this.grid.dataMgr,g=e._consts._notReal,k=e.idKey,n=this.collapser,r=n._tree._options.nodeKey,s=n._tree._options.parentKey,t=[],q=0;q<a;q++)this._addData(b[q],d,k,g,r,s,c,t);0!==t.length&&(e.all.pushList(t),e.makeCompositeKeyList(t,!0),e.addListToIdMap(t),h.isNotNull(n)&&n._onAddDatalist(t));return t};e._addData=function(b,a,d,c,e,g,h,k){var r=b[a],s=this._parentMap;
s.hasOwnProperty(r)||(a=this._makeParent(b,a,d,r,c,e,h),k.push(a),s[r]=a);b[e]=b[d];b[g]=this.mid+r};e._makeParent=function(b,a,d,c,e,g,h){var k={},r=0,s=h.length;k[e]=this.mid;k[g]=this.mid+c;k[a]=c;for(k[d]=(this.grid.colDefMgr.getByKey(a).name||a)+": "+c;r<s;r++)k[h[r]]=b[h[r]];return k};e._isParent=function(b){return b[this.grid.dataMgr._consts._notReal]===this.mid};e._removeAll=function(b){this._parentMap={}};e._onAddDatarow=function(b){var a=[],d=this._options,c=this.grid.dataMgr,e=this.collapser,
g=e._tree._options;this._addData(b,d.key,c.idKey,c._consts._notReal,g.nodeKey,g.parentKey,d.padColKeys,a);0!==a.length&&(b=a[0],c.all.push(b),c.makeCompositeKey(b,!0),c.addToIdMap(b),e._onAddDatarow(b))};e._onUpdateDatarow=function(b,a,d){if(a.hasOwnProperty(this._options.key)){var c=this._options.key;a=a[c];d=d[c];var e=this.mid,c=this.collapser,g=c._tree,h=g._options.parentKey,k={},r={},s=this._parentMap;s.hasOwnProperty(a)||this._onAddDatarow(b);k[h]=e+a;r[h]=e+d;c._onUpdateDatarow(b,k,r);b=g.getNode(s[d]);
0===b.children.length&&(this.grid.dataMgr.all.remove(b.data),delete s[d],c._onRemoveDatarow(b.data))}};e._onUpdateDatalist=function(b,a,d){var c=this._options.key,e=this.mid,g=this.collapser,h=g._tree,k=h._options.parentKey,r,s={};r={};for(var t=[],q=[],p=[],u=0,v=b.length;u<v;u++)r=a[u],r.hasOwnProperty(c)&&(s={},s[k]=e+r[c],t.push(s),r={},r[k]=e+d[u][c],q.push(r),p.push(b[u]));if(0!==p.length){b=this._parentMap;a=[];this._processData(p);g._onUpdateDatalist(p,t,q);u=0;for(v=q.length;u<v;u++)t=q[u][k],
b.hasOwnProperty(t)&&(p=h.getNode(b[t]),0===p.children.length&&(delete b[t],a.push(p.data)));0!==a.length&&(g._onRemoveDatalist(a),this.grid.dataMgr.all.removeList(a))}};e._onRemoveDatarow=function(b){this._isParent(b)?delete this._parentMap[b[this._options.key]]:(b=this.collapser._tree.getNode(b).parent,1===b.children.length&&this.grid.dataMgr.remove(b.data))};e._onRemoveDatalist=function(b){for(var a=0,d=b.length;a<d;a++)this._onRemoveDatarow(b[a])};e._onCollapserTreeChange=function(){for(var b=
{},a=this._options.sumColKeys,d=a.length,c=0,e=this.grid.dataMgr._consts._notReal,g=this.mid,h,k,r;c<d;c++)b[a[c]]=0;this.collapser._tree.root.traverseChildren({post:!0,fn:function(s,t){h=this.data;c=0;if(h[e]===g)for(;c<d;c++)k=a[c],h[k]=b[k],b[k]=0;else if(!h.hasOwnProperty(e))for(;c<d;c++){if("string"===typeof(r=h[a[c]]))r=r.toFloat();b[a[c]]+=isNaN(r)?0:r}}})}})();})();
